import{_ as ue,i as re,g as E,q as l,o as c,h as p,j as e,k as s,t,y as Ge,l as se,z as Ye,s as de,x as pe,A as Te,r as S,f as ce,B as tt,D as $e,E as Je,G as te,H as F,w as d,F as Y,m as le,n as ae,I as oe,a as Le,b as Ue,J as Me,K as xe,L as st,M as at,N as Ae,O as H,P as ge,Q as ze,R as lt,S as Oe,T as it,d as Qe,U as nt,V as ot,W as ct,p as fe,X as rt,u as ut}from"./index-f7b3d347.js";import{E as Xe,u as Ze}from"./EquipmentButtons-5c608e73.js";import{I as Fe}from"./ItemStatList-859635e0.js";const B=_=>(de("data-v-58c0251d"),_=_(),pe(),_),dt={key:0},pt={class:"flex justify-content-between w-full px-2"},mt={class:"main-stat-box"},ht={class:"flex align-items-center my-1"},vt={class:"ml-1"},_t={class:"stat-value py-1"},gt={class:"main-stat-box"},ft={class:"flex align-items-center my-1"},bt={class:"ml-1"},$t={class:"stat-value py-1"},yt={class:"main-stat-box"},kt={class:"flex align-items-center my-1"},St={class:"ml-1"},Ct={class:"stat-value py-1"},wt={class:"main-stat-box"},xt={class:"flex align-items-center my-1"},At={class:"ml-1"},Vt={class:"stat-value py-1"},Wt={key:0,class:"main-stat-box"},It={class:"flex align-items-center my-1"},qt={class:"ml-1"},Et={class:"stat-value py-1"},Pt={key:1,class:"main-stat-box"},Tt={class:"flex align-items-center my-1"},Mt={class:"ml-1"},Dt={class:"stat-value py-1"},Rt={class:"main-stat-area flex flex-column mt-2 pb-2"},Ot={class:"section-header py-1 mb-1"},Ft={class:"flex pl-1"},Lt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ut={class:"stat-block pr-2"},Nt={class:"ml-1"},Ht=B(()=>e("div",{class:"flex-grow-1"},null,-1)),jt={class:"stat-block pr-2"},Bt={class:"ml-1"},zt=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Gt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"stat-block pr-2"},Zt={class:"ml-1"},Kt=B(()=>e("div",{class:"flex-grow-1"},null,-1)),es={class:"section-header py-1 mb-1"},ts={class:"flex pl-1"},ss={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},as={class:"stat-block pr-2"},ls={class:"ml-1"},is=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ns={class:"stat-block pr-2"},os={class:"ml-1"},cs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),rs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"stat-block pr-2"},hs={class:"ml-1"},vs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),_s={class:"lex flex-column"},gs={class:"section-header py-1 mb-1"},fs={class:"flex pl-1"},bs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},$s={class:"stat-block pr-2"},ys={class:"ml-1"},ks=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ss={class:"stat-block pr-2"},Cs={class:"ml-1"},ws=B(()=>e("div",{class:"flex-grow-1"},null,-1)),xs={class:"stat-block pr-2"},As={class:"ml-1"},Vs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},Is={class:"ml-1"},qs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Es={class:"stat-block pr-2"},Ps={class:"ml-1"},Ts=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ms={class:"stat-block pr-2"},Ds={class:"ml-1"},Rs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Os={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Fs={class:"stat-block pr-2"},Ls={class:"ml-1"},Us=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"stat-block pr-2"},Hs={class:"ml-1"},js=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"stat-block pr-2"},Js={class:"ml-1"},Qs=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Xs={class:"stat-block pr-2"},Zs={class:"ml-1"},Ks=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ea={class:"stat-block pr-2"},ta={class:"ml-1"},sa=B(()=>e("div",{class:"flex-grow-1"},null,-1)),aa={class:"flex flex-column"},la={class:"section-header py-1 mb-1"},ia={class:"flex pl-1"},na={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},oa={class:"stat-block pr-2"},ca={class:"ml-1"},ra=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ua={class:"stat-block pr-2"},da={class:"ml-1"},pa=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ma={class:"stat-block pr-2"},ha={class:"ml-1"},va=B(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"stat-block pr-2"},ga={class:"ml-1"},fa=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ba={class:"stat-block pr-2"},$a={class:"ml-1"},ya=B(()=>e("div",{class:"flex-grow-1"},null,-1)),ka={class:"stat-block pr-2"},Sa={class:"ml-1"},Ca=B(()=>e("div",{class:"flex-grow-1"},null,-1)),wa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xa={class:"stat-block pr-2"},Aa={class:"ml-1"},Va=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Wa={class:"stat-block pr-2"},Ia={class:"ml-1"},qa=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"stat-block pr-2"},Pa={class:"ml-1"},Ta=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ma={class:"stat-block pr-2"},Da={class:"ml-1"},Ra=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Oa={class:"stat-block pr-2"},Fa={class:"ml-1"},La=B(()=>e("div",{class:"flex-grow-1"},null,-1)),Ua={__name:"StatDisplay",setup(_){const u=re("currentCharacter"),{calcElemResistancePercentage:$}=Ye();return(a,y)=>{const m=E("p-image");return l(u)?(c(),p("div",dt,[e("div",pt,[e("div",mt,[e("div",ht,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",vt,t(a.$t("constants.hp")),1)]),e("div",_t,t(l(u).healthPoints),1)]),e("div",gt,[e("div",ft,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",bt,t(a.$t("characterSheet.statsDisplay.ar")),1)]),e("div",$t,t(l(u).armorPoints),1)]),e("div",yt,[e("div",kt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",St,t(a.$t("constants.ap")),1)]),e("div",Ct,t(l(u).actionPoints),1)]),e("div",wt,[e("div",xt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",At,t(a.$t("constants.mp")),1)]),e("div",Vt,t(l(u).movementPoints),1)]),l(u).class===l(Ge).huppermage?(c(),p("div",Wt,[e("div",It,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",qt,t(a.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Et,t(l(u).quadrumentalBreeze),1)])):(c(),p("div",Pt,[e("div",Tt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Mt,t(a.$t("constants.wp")),1)]),e("div",Dt,t(l(u).wakfuPoints),1)]))]),e("div",Rt,[e("div",Ot,t(a.$t("constants.elementalMasteries")),1),e("div",Ft,[e("div",Lt,[e("div",Ut,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Nt,t(a.$t("characterSheet.statsDisplay.water")),1),Ht,e("span",null,t(l(u).masteries.water),1)]),e("div",jt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Bt,t(a.$t("characterSheet.statsDisplay.air")),1),zt,e("span",null,t(l(u).masteries.air),1)])]),e("div",Gt,[e("div",Yt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Jt,t(a.$t("characterSheet.statsDisplay.earth")),1),Qt,e("span",null,t(l(u).masteries.earth),1)]),e("div",Xt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",Zt,t(a.$t("characterSheet.statsDisplay.fire")),1),Kt,e("span",null,t(l(u).masteries.fire),1)])])]),e("div",es,t(a.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",ts,[e("div",ss,[e("div",as,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ls,t(a.$t("characterSheet.statsDisplay.water")),1),is,e("span",null,t(l($)(l(u).resistances.water))+"% ("+t(l(u).resistances.water)+")",1)]),e("div",ns,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",os,t(a.$t("characterSheet.statsDisplay.air")),1),cs,e("span",null,t(l($)(l(u).resistances.air))+"% ("+t(l(u).resistances.air)+")",1)])]),e("div",rs,[e("div",us,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ds,t(a.$t("characterSheet.statsDisplay.earth")),1),ps,e("span",null,t(l($)(l(u).resistances.earth))+"% ("+t(l(u).resistances.earth)+")",1)]),e("div",ms,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",hs,t(a.$t("characterSheet.statsDisplay.fire")),1),vs,e("span",null,t(l($)(l(u).resistances.fire))+"% ("+t(l(u).resistances.fire)+")",1)])])]),e("div",_s,[e("div",gs,t(a.$t("characterSheet.statsDisplay.battle")),1),e("div",fs,[e("div",bs,[e("div",$s,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",ys,t(a.$t("constants.damageInflicted")),1),ks,e("span",null,t(l(u).stats.damageInflicted)+"%",1)]),e("div",Ss,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",Cs,t(a.$t("characterSheet.statsDisplay.criticalHit")),1),ws,e("span",null,t(l(u).stats.criticalHit)+"%",1)]),e("div",xs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",As,t(a.$t("constants.initiative")),1),Vs,e("span",null,t(l(u).stats.initiative),1)]),e("div",Ws,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Is,t(a.$t("constants.dodge")),1),qs,e("span",null,t(l(u).stats.dodge),1)]),e("div",Es,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Ps,t(a.$t("constants.wisdom")),1),Ts,e("span",null,t(l(u).stats.wisdom),1)]),e("div",Ms,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Ds,t(a.$t("constants.control")),1),Rs,e("span",null,t(l(u).stats.control),1)])]),e("div",Os,[e("div",Fs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Ls,t(a.$t("constants.healsPerformed")),1),Us,e("span",null,t(l(u).stats.healsPerformed)+"%",1)]),e("div",Ns,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Hs,t(a.$t("characterSheet.statsDisplay.block")),1),js,e("span",null,t(l(u).stats.block)+"%",1)]),e("div",Bs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",zs,t(a.$t("constants.range")),1),Gs,e("span",null,t(l(u).stats.range),1)]),e("div",Ys,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Js,t(a.$t("constants.lock")),1),Qs,e("span",null,t(l(u).stats.lock),1)]),e("div",Xs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",Zs,t(a.$t("constants.prospecting")),1),Ks,e("span",null,t(l(u).stats.prospecting),1)]),e("div",ea,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",ta,t(a.$t("constants.forceOfWill")),1),sa,e("span",null,t(l(u).stats.forceOfWill),1)])])])]),e("div",aa,[e("div",la,t(a.$t("characterSheet.statsDisplay.secondary")),1),e("div",ia,[e("div",na,[e("div",oa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ca,t(a.$t("constants.criticalMastery")),1),ra,e("span",null,t(l(u).masteries.critical),1)]),e("div",ua,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",da,t(a.$t("constants.rearMastery")),1),pa,e("span",null,t(l(u).masteries.rear),1)]),e("div",ma,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",ha,t(a.$t("constants.meleeMastery")),1),va,e("span",null,t(l(u).masteries.melee),1)]),e("div",_a,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",ga,t(a.$t("constants.distanceMastery")),1),fa,e("span",null,t(l(u).masteries.distance),1)]),e("div",ba,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",$a,t(a.$t("constants.healingMastery")),1),ya,e("span",null,t(l(u).masteries.healing),1)]),e("div",ka,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Sa,t(a.$t("constants.berserkMastery")),1),Ca,e("span",null,t(l(u).masteries.berserk),1)])]),e("div",wa,[e("div",xa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Aa,t(a.$t("constants.criticalResistance")),1),Va,e("span",null,t(l(u).resistances.critical),1)]),e("div",Wa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Ia,t(a.$t("constants.rearResistance")),1),qa,e("span",null,t(l(u).resistances.rear),1)]),e("div",Ea,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Pa,t(a.$t("constants.armorGiven")),1),Ta,e("span",null,t(l(u).stats.armorGiven)+"%",1)]),e("div",Ma,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Da,t(a.$t("characterSheet.statsDisplay.armorReceived")),1),Ra,e("span",null,t(l(u).stats.armorReceived)+"%",1)]),e("div",Oa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Fa,t(a.$t("characterSheet.statsDisplay.indirectDamage")),1),La,e("span",null,t(l(u).stats.indirectDamage)+"%",1)])])])])])])):se("",!0)}}},Na=ue(Ua,[["__scopeId","data-v-58c0251d"]]);const Ha=_=>(de("data-v-c1799ab4"),_=_(),pe(),_),ja={class:"flex align-items-center my-1"},Ba={class:"entry-label ml-2"},za=Ha(()=>e("div",{class:"flex-grow-1"},null,-1)),Ga={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(_){return(u,$)=>{const a=E("p-image"),y=E("p-inputNumber");return c(),p("div",ja,[s(a,{src:_.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Ba,t(_.label),1),za,s(y,Te(u.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(_.maxOverride,_.remainingPoints+u.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:_.updateFunction}),null,16,["max","onInput"])])}}},z=ue(Ga,[["__scopeId","data-v-c1799ab4"]]);const Ve=_=>(de("data-v-c6d9199c"),_=_(),pe(),_),Ya={class:"flex flex-column h-full"},Ja={class:"characteristic-panels flex pb-3"},Qa={class:"flex flex-column flex-grow-1 mr-1"},Xa={class:"characteristics-category-header px-2 py-2"},Za=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),Ka={class:"flex flex-column px-2 py-1"},el={class:"characteristics-category-header px-2 py-2"},tl=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),sl={class:"flex flex-column px-2 py-1"},al={class:"characteristics-category-header px-2 py-2"},ll=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),il={class:"flex flex-column px-2 py-1"},nl={class:"flex flex-column flex-grow-1 ml-1"},ol={class:"characteristics-category-header px-2 py-2"},cl=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),rl={class:"flex flex-column px-2 py-1"},ul={class:"characteristics-category-header px-2 py-2"},dl=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),pl={class:"flex flex-column px-2 py-1"},ml={__name:"CharacteristicsTabContent",setup(_,{expose:u}){const $=re("masterData"),a=re("currentCharacter"),y=S(!1),m=ce(()=>y.value?10:1);tt(()=>{document.addEventListener("keydown",n=>{L(n)}),document.addEventListener("keyup",n=>{L(n)})});const L=n=>{n.shiftKey?y.value=!0:y.value=!1},O=S(a.value.characteristics.intelligence.percentHealthPoints),D=S(a.value.characteristics.intelligence.elementalResistance),W=S(a.value.characteristics.intelligence.barrier),U=S(a.value.characteristics.intelligence.percentHealsReceived),Q=S(a.value.characteristics.intelligence.percentArmorHeathPoints),q=S(a.value.characteristics.strength.elementalMastery),P=S(a.value.characteristics.strength.meleeMastery),R=S(a.value.characteristics.strength.distanceMastery),T=S(a.value.characteristics.strength.healthPoints),b=S(a.value.characteristics.agility.lock),G=S(a.value.characteristics.agility.dodge),ee=S(a.value.characteristics.agility.initiative),v=S(a.value.characteristics.agility.lockAndDodge),w=S(a.value.characteristics.agility.forceOfWill),N=S(a.value.characteristics.fortune.percentCriticalHit),X=S(a.value.characteristics.fortune.percentBlock),Z=S(a.value.characteristics.fortune.criticalMastery),g=S(a.value.characteristics.fortune.rearMastery),i=S(a.value.characteristics.fortune.berserkMastery),f=S(a.value.characteristics.fortune.healingMastery),I=S(a.value.characteristics.fortune.rearResistance),V=S(a.value.characteristics.fortune.criticalResistance),k=S(a.value.characteristics.major.actionPoints),J=S(a.value.characteristics.major.movementPointsAndDamage),K=S(a.value.characteristics.major.rangeAndDamage),ie=S(a.value.characteristics.major.wakfuPoints),x=S(a.value.characteristics.major.controlAndDamage),M=S(a.value.characteristics.major.percentDamageInflicted),r=S(a.value.characteristics.major.elementalResistance),h=n=>{let o=0;return n==="intelligence"?o=O.value+D.value+W.value+U.value+Q.value:n==="strength"?o=q.value+P.value+R.value+T.value:n==="agility"?o=b.value+G.value+ee.value+v.value+w.value:n==="fortune"?o=N.value+X.value+Z.value+g.value+i.value+f.value+I.value+V.value:n==="major"&&(o=k.value+J.value+K.value+ie.value+x.value+M.value+r.value),a.value.characteristics.limits[n]-o},j=()=>{a.value.characteristics.intelligence.percentHealthPoints=O.value,a.value.characteristics.intelligence.elementalResistance=D.value,a.value.characteristics.intelligence.barrier=W.value,a.value.characteristics.intelligence.percentHealsReceived=U.value,a.value.characteristics.intelligence.percentArmorHeathPoints=Q.value,a.value.characteristics.strength.elementalMastery=q.value,a.value.characteristics.strength.meleeMastery=P.value,a.value.characteristics.strength.distanceMastery=R.value,a.value.characteristics.strength.healthPoints=T.value,a.value.characteristics.agility.lock=b.value,a.value.characteristics.agility.dodge=G.value,a.value.characteristics.agility.initiative=ee.value,a.value.characteristics.agility.lockAndDodge=v.value,a.value.characteristics.agility.forceOfWill=w.value,a.value.characteristics.fortune.percentCriticalHit=N.value,a.value.characteristics.fortune.percentBlock=X.value,a.value.characteristics.fortune.criticalMastery=Z.value,a.value.characteristics.fortune.rearMastery=g.value,a.value.characteristics.fortune.berserkMastery=i.value,a.value.characteristics.fortune.healingMastery=f.value,a.value.characteristics.fortune.rearResistance=I.value,a.value.characteristics.fortune.criticalResistance=V.value,a.value.characteristics.major.actionPoints=k.value,a.value.characteristics.major.movementPointsAndDamage=J.value,a.value.characteristics.major.rangeAndDamage=K.value,a.value.characteristics.major.wakfuPoints=ie.value,a.value.characteristics.major.controlAndDamage=x.value,a.value.characteristics.major.percentDamageInflicted=M.value,a.value.characteristics.major.elementalResistance=r.value};$e($,Je.debounce(()=>{O.value=a.value.characteristics.intelligence.percentHealthPoints,D.value=a.value.characteristics.intelligence.elementalResistance,W.value=a.value.characteristics.intelligence.barrier,U.value=a.value.characteristics.intelligence.percentHealsReceived,Q.value=a.value.characteristics.intelligence.percentArmorHeathPoints,q.value=a.value.characteristics.strength.elementalMastery,P.value=a.value.characteristics.strength.meleeMastery,R.value=a.value.characteristics.strength.distanceMastery,T.value=a.value.characteristics.strength.healthPoints,b.value=a.value.characteristics.agility.lock,G.value=a.value.characteristics.agility.dodge,ee.value=a.value.characteristics.agility.initiative,v.value=a.value.characteristics.agility.lockAndDodge,w.value=a.value.characteristics.agility.forceOfWill,N.value=a.value.characteristics.fortune.percentCriticalHit,X.value=a.value.characteristics.fortune.percentBlock,Z.value=a.value.characteristics.fortune.criticalMastery,g.value=a.value.characteristics.fortune.rearMastery,i.value=a.value.characteristics.fortune.berserkMastery,f.value=a.value.characteristics.fortune.healingMastery,I.value=a.value.characteristics.fortune.rearResistance,V.value=a.value.characteristics.fortune.criticalResistance,k.value=a.value.characteristics.major.actionPoints,J.value=a.value.characteristics.major.movementPointsAndDamage,K.value=a.value.characteristics.major.rangeAndDamage,ie.value=a.value.characteristics.major.wakfuPoints,x.value=a.value.characteristics.major.controlAndDamage,M.value=a.value.characteristics.major.percentDamageInflicted,r.value=a.value.characteristics.major.elementalResistance},100));const Re=ce(()=>h("intelligence")<0||h("strength")<0||h("agility")<0||h("fortune")<0||h("major")<0);return u({hasCharacteristicsError:Re}),(n,o)=>{var ne,me,_e,qe,Ee,ke,Se,Ce,we,C,he,Ne,He,je,Be;return c(),p("div",Ya,[e("div",Ja,[e("div",Qa,[e("div",{class:te(["category-wrapper flex flex-column",{error:h("intelligence")<0}])},[e("div",Xa,[e("span",null,t(n.$t("characterSheet.characteristicsContent.intelligence")),1),Za,e("span",null,t(h("intelligence"))+"/"+t((_e=(me=(ne=l(a))==null?void 0:ne.characteristics)==null?void 0:me.limits)==null?void 0:_e.intelligence)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ka,[s(z,{modelValue:O.value,"onUpdate:modelValue":o[0]||(o[0]=A=>O.value=A),label:n.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":h("intelligence"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:D.value,"onUpdate:modelValue":o[1]||(o[1]=A=>D.value=A),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":h("intelligence"),"update-function":j,"max-override":10,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:W.value,"onUpdate:modelValue":o[2]||(o[2]=A=>W.value=A),label:n.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":h("intelligence"),"update-function":j,"max-override":10,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:U.value,"onUpdate:modelValue":o[3]||(o[3]=A=>U.value=A),label:n.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":h("intelligence"),"update-function":j,"max-override":5,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:Q.value,"onUpdate:modelValue":o[4]||(o[4]=A=>Q.value=A),label:n.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":h("intelligence"),"update-function":j,"max-override":10,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:te(["category-wrapper flex flex-column mt-2",{error:h("strength")<0}])},[e("div",el,[e("span",null,t(n.$t("characterSheet.characteristicsContent.strength")),1),tl,e("span",null,t(h("strength"))+"/"+t((ke=(Ee=(qe=l(a))==null?void 0:qe.characteristics)==null?void 0:Ee.limits)==null?void 0:ke.strength)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",sl,[s(z,{modelValue:q.value,"onUpdate:modelValue":o[5]||(o[5]=A=>q.value=A),label:n.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":h("strength"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:P.value,"onUpdate:modelValue":o[6]||(o[6]=A=>P.value=A),label:n.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":h("strength"),"update-function":j,"max-override":40,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:R.value,"onUpdate:modelValue":o[7]||(o[7]=A=>R.value=A),label:n.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":h("strength"),"update-function":j,"max-override":40,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:T.value,"onUpdate:modelValue":o[8]||(o[8]=A=>T.value=A),label:n.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":h("strength"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:te(["category-wrapper flex flex-column mt-2",{error:h("agility")<0}])},[e("div",al,[e("span",null,t(n.$t("characterSheet.characteristicsContent.agility")),1),ll,e("span",null,t(h("agility"))+"/"+t((we=(Ce=(Se=l(a))==null?void 0:Se.characteristics)==null?void 0:Ce.limits)==null?void 0:we.agility)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",il,[s(z,{modelValue:b.value,"onUpdate:modelValue":o[9]||(o[9]=A=>b.value=A),label:n.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":h("agility"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:G.value,"onUpdate:modelValue":o[10]||(o[10]=A=>G.value=A),label:n.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":h("agility"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:ee.value,"onUpdate:modelValue":o[11]||(o[11]=A=>ee.value=A),label:n.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":h("agility"),"update-function":j,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:v.value,"onUpdate:modelValue":o[12]||(o[12]=A=>v.value=A),label:n.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":h("agility"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:w.value,"onUpdate:modelValue":o[13]||(o[13]=A=>w.value=A),label:n.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":h("agility"),"update-function":j,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",nl,[e("div",{class:te(["category-wrapper flex flex-column flex-grow-1",{error:h("fortune")<0}])},[e("div",ol,[e("span",null,t(n.$t("characterSheet.characteristicsContent.fortune")),1),cl,e("span",null,t(h("fortune"))+"/"+t((Ne=(he=(C=l(a))==null?void 0:C.characteristics)==null?void 0:he.limits)==null?void 0:Ne.fortune)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",rl,[s(z,{modelValue:N.value,"onUpdate:modelValue":o[14]||(o[14]=A=>N.value=A),label:n.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:X.value,"onUpdate:modelValue":o[15]||(o[15]=A=>X.value=A),label:n.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:Z.value,"onUpdate:modelValue":o[16]||(o[16]=A=>Z.value=A),label:n.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":h("fortune"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:g.value,"onUpdate:modelValue":o[17]||(o[17]=A=>g.value=A),label:n.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":h("fortune"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:i.value,"onUpdate:modelValue":o[18]||(o[18]=A=>i.value=A),label:n.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":h("fortune"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:f.value,"onUpdate:modelValue":o[19]||(o[19]=A=>f.value=A),label:n.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":h("fortune"),"update-function":j,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:I.value,"onUpdate:modelValue":o[20]||(o[20]=A=>I.value=A),label:n.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:V.value,"onUpdate:modelValue":o[21]||(o[21]=A=>V.value=A),label:n.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:te(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:h("major")<0}])},[e("div",ul,[e("span",null,t(n.$t("characterSheet.characteristicsContent.major")),1),dl,e("span",null,t(h("major"))+"/"+t((Be=(je=(He=l(a))==null?void 0:He.characteristics)==null?void 0:je.limits)==null?void 0:Be.major)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",pl,[s(z,{modelValue:k.value,"onUpdate:modelValue":o[22]||(o[22]=A=>k.value=A),label:n.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:J.value,"onUpdate:modelValue":o[23]||(o[23]=A=>J.value=A),label:n.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:K.value,"onUpdate:modelValue":o[24]||(o[24]=A=>K.value=A),label:n.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:ie.value,"onUpdate:modelValue":o[25]||(o[25]=A=>ie.value=A),label:n.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:x.value,"onUpdate:modelValue":o[26]||(o[26]=A=>x.value=A),label:n.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:M.value,"onUpdate:modelValue":o[27]||(o[27]=A=>M.value=A),label:n.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(z,{modelValue:r.value,"onUpdate:modelValue":o[28]||(o[28]=A=>r.value=A),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},hl=ue(ml,[["__scopeId","data-v-c6d9199c"]]);const Ke=_=>(de("data-v-f117c1a1"),_=_(),pe(),_),vl={class:"flex align-items-center flex-wrap mt-3"},_l={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},gl={class:"checkmarks-container flex gap-2"},fl={class:"rarity-container mt-2"},bl={class:"flex align-items-center mb-1"},$l=Ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),yl={class:"simple-tooltip"},kl={class:"mr-2 ml-1"},Sl={class:"rarity-button-wrapper"},Cl={class:"flex justify-content-center align-items-center"},wl={class:"simple-tooltip"},xl={class:"item-types-container mt-2"},Al={class:"flex align-items-center justify-content-center mb-1 w-full"},Vl=Ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Wl={class:"simple-tooltip"},Il={class:"mr-2 ml-1"},ql={class:"simple-tooltip"},El={class:"item-types-button-wrapper"},Pl={class:"filter-category-wrapper"},Tl={class:"flex justify-content-center align-items-center"},Ml={class:"simple-tooltip"},Dl={class:"filter-category-wrapper"},Rl={class:"flex justify-content-center align-items-center"},Ol={class:"simple-tooltip"},Fl={class:"filter-category-wrapper"},Ll={class:"flex justify-content-center align-items-center"},Ul={class:"simple-tooltip"},Nl={class:"filter-list-wrapper mt-3"},Hl={class:"px-2 py-1"},jl={class:"px-2 py-1"},Bl={__name:"ItemFilters",setup(_){const u=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],a=[F.healthPoints.id,F.healingMastery.id,F.actionPoints.id,F.movementPoints.id,F.rearResistance.id,F.elementalResistance.id,F.fireResistance.id,F.waterResistance.id,F.earthResistance.id,F.airResistance.id,F.elementalMastery.id,F.fireMastery.id,F.earthMastery.id,F.waterMastery.id,F.airMastery.id,F.criticalMastery.id,F.criticalHit.id,F.range.id,F.prospecting.id,F.wisdom.id,F.initiative.id,F.lock.id,F.dodge.id,F.forceOfWill.id,F.rearMastery.id,F.control.id,F.wakfuPoints.id,F.percentBlock.id,F.criticalResistance.id,F.meleeMastery.id,F.distanceMastery.id,F.berserkMastery.id,F.randomElementalMasteries.id,F.randomElementalResistances.id,F.harvestingQuantity.id].map(i=>({value:i,text:F[i].text})),y=re("itemFilters"),m=S(""),L=S([y.startLevel,y.endLevel]),O=S([]),D=S(y.rarityFilters),W=S(y.itemTypeFilters),U=S(!1),Q=()=>{b()},q=(i,f)=>{f==="min"&&(L.value[0]=i.value),f==="max"&&(L.value[1]=i.value),b()},P=()=>{b()},R=(i,f)=>{i.ctrlKey&&y.itemTypeFilters.forEach(I=>{I.id!==f?I.checked=!1:I.checked=!0}),b()},T=(i,f)=>{i.ctrlKey&&y.rarityFilters.forEach(I=>{I.id!==f?I.checked=!1:I.checked=!0}),b()},b=Je.debounce(i=>{var f;y.searchTerm=m.value,y.startLevel=L.value[0],y.endLevel=L.value[1],y.effectFilters=O.value,y.rarityFilters=D.value,i&&((f=i.rawIds)!=null&&f.length)?G(i):y.itemTypeFilters=W.value},100),G=i=>{i.rawIds.forEach(f=>{let I=W.value.find(V=>V.rawId===f);I.checked=i.checked})},ee=()=>{let i={type:a[0],comparator:u[2],value:0};O.value.push(i),b()},v=i=>{let f=O.value.indexOf(i);O.value.splice(f,1),b()},w=()=>{y.resetFilters(),m.value=y.searchTerm,L.value[0]=y.startLevel,L.value[1]=y.endLevel,O.value=y.effectFilters,D.value=y.rarityFilters,W.value=y.itemTypeFilters},N=()=>{y.rarityFilters.forEach(i=>{i.checked=!0}),b()},X=()=>{y.rarityFilters.forEach(i=>{i.checked=!1}),b()},Z=()=>{y.itemTypeFilters.forEach(i=>{i.checked=!0}),b()},g=()=>{y.itemTypeFilters.forEach(i=>{i.checked=!1}),b()};return(i,f)=>{const I=E("p-inputText"),V=E("p-inputNumber"),k=E("p-slider"),J=E("p-button"),K=E("tippy"),ie=E("p-image"),x=E("p-checkbox"),M=E("p-dropdown");return c(),p(Y,null,[e("div",vl,[s(I,{modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=r=>m.value=r),placeholder:i.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:Q},null,8,["modelValue","placeholder"]),e("div",_l,[s(V,{modelValue:L.value[0],"onUpdate:modelValue":f[1]||(f[1]=r=>L.value[0]=r),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:f[2]||(f[2]=r=>q(r,"min"))},null,8,["modelValue"]),s(k,{modelValue:L.value,"onUpdate:modelValue":f[3]||(f[3]=r=>L.value=r),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:P},null,8,["modelValue"]),s(V,{modelValue:L.value[1],"onUpdate:modelValue":f[4]||(f[4]=r=>L.value[1]=r),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:f[5]||(f[5]=r=>q(r,"max"))},null,8,["modelValue"])]),s(J,{class:"filter-button",label:i.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:w},null,8,["label"])]),e("div",gl,[e("div",fl,[e("div",bl,[s(J,{class:"filter-button item-filter-action mr-2",label:i.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:N},null,8,["label"]),s(K,{placement:"top"},{content:d(()=>[e("div",yl,t(i.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[$l]),_:1}),e("div",kl,t(i.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(J,{class:"filter-button item-filter-action",label:i.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:X},null,8,["label"])]),e("div",Sl,[(c(!0),p(Y,null,le(D.value,r=>(c(),ae(K,{key:r.id,duration:"0"},{content:d(()=>[e("div",wl,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"rarity-checkbox",onChange:h=>T(h,r.id)},{icon:d(h=>[e("div",Cl,[s(ie,{class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${r.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",xl,[e("div",Al,[s(J,{class:"filter-button item-filter-action mr-2",label:i.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:Z},null,8,["label"]),s(K,{placement:"top"},{content:d(()=>[e("div",Wl,t(i.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Vl]),_:1}),e("div",Il,t(i.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(K,null,{content:d(()=>[e("div",ql,t(i.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:d(()=>[s(x,{modelValue:U.value,"onUpdate:modelValue":f[6]||(f[6]=r=>U.value=r),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(J,{class:"filter-button item-filter-action",label:i.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:g},null,8,["label"])]),e("div",El,[e("div",Pl,[(c(!0),p(Y,null,le(W.value.filter(r=>r.category==="armor"),r=>(c(),p(Y,{key:r.id},[!r.advanced||U.value?(c(),ae(K,{key:0,duration:"0"},{content:d(()=>[e("div",Ml,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"item-type-checkbox",onChange:h=>R(h,r.id)},{icon:d(h=>[e("div",Tl,[r.rawId?(c(),ae(ie,{key:0,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),ae(ie,{key:1,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):se("",!0)],64))),128))]),e("div",Dl,[(c(!0),p(Y,null,le(W.value.filter(r=>r.category==="weapons"),r=>(c(),p(Y,{key:r.id},[!r.advanced||U.value?(c(),ae(K,{key:0,duration:"0"},{content:d(()=>[e("div",Ol,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"item-type-checkbox",onChange:h=>l(b)(r)},{icon:d(h=>[e("div",Rl,[r.rawId?(c(),ae(ie,{key:0,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),ae(ie,{key:1,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):se("",!0)],64))),128))]),e("div",Fl,[(c(!0),p(Y,null,le(W.value.filter(r=>r.category==="miscellaneous"),r=>(c(),p(Y,{key:r.id},[!r.advanced||U.value?(c(),ae(K,{key:0,duration:"0"},{content:d(()=>[e("div",Ul,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"item-type-checkbox",onChange:l(b)},{icon:d(h=>[e("div",Ll,[r.rawId?(c(),ae(ie,{key:0,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),ae(ie,{key:1,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):se("",!0)],64))),128))])])])]),e("div",Nl,[s(J,{icon:"pi pi-plus",class:"filter-button",label:i.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:ee},null,8,["label"]),(c(!0),p(Y,null,le(O.value,r=>(c(),p("div",{key:r.id,class:"filter-entry"},[s(M,{modelValue:r.type,"onUpdate:modelValue":h=>r.type=h,class:"filter-type-dropdown",options:l(a),filter:"","auto-filter-focus":"","option-label":"text",onChange:l(b)},{value:d(h=>[oe(t(i.$t(h.value.text)),1)]),option:d(h=>[e("div",Hl,t(i.$t(h.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(M,{modelValue:r.comparator,"onUpdate:modelValue":h=>r.comparator=h,class:"filter-comparator-dropdown",options:u,"option-label":"text",onChange:l(b)},{value:d(h=>[oe(t(h.value.symbol),1)]),option:d(h=>[e("div",jl,t(i.$t(h.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(V,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:"filter-value-input","allow-empty":!1,onInput:l(b)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(J,{class:"remove-filter-button",icon:"pi pi-trash",onClick:h=>v(r)},null,8,["onClick"])]))),128))])],64)}}},zl=ue(Bl,[["__scopeId","data-v-f117c1a1"]]);const De=_=>(de("data-v-25f42264"),_=_(),pe(),_),Gl={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Yl={class:"flex align-items-center"},Jl={class:"px-2 py-1"},Ql={class:"px-2 py-1"},Xl=De(()=>e("div",{class:"flex-grow-1"},null,-1)),Zl={class:"ml-2"},Kl=De(()=>e("div",{class:"flex-grow-1"},null,-1)),ei={class:"mr-1"},ti={key:0,class:"flex"},si={key:0,class:"item-card with-stats"},ai={class:"flex px-2 pt-2"},li={class:"flex flex-column ml-1"},ii={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},ni={class:"flex"},oi={key:0},ci={key:1},ri={key:2,class:"ml-1"},ui=De(()=>e("div",{class:"flex-grow-1"},null,-1)),di={class:"flex flex-column gap-1"},pi={class:"item-card"},mi={class:"flex px-2 pt-2"},hi={class:"flex flex-column ml-1"},vi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},_i={class:"flex"},gi={key:0},fi={key:1},bi={key:2,class:"ml-1"},$i=De(()=>e("div",{class:"flex-grow-1"},null,-1)),yi={class:"flex flex-column gap-1"},ki={class:"simple-tooltip"},Si={key:0,class:"item-card-tooltip"},Ci={class:"effect-header flex pt-2 px-1"},wi={class:"flex flex-column ml-1"},xi={class:"item-name mr-2"},Ai={class:"flex"},Vi={key:0},Wi={key:1},Ii={key:2,class:"ml-1"},qi={key:1},Ei={__name:"EquipmentTabContent",setup(_,{expose:u}){const $=Le(),{t:a}=Ue(),y=re("currentCharacter"),m=re("currentItemList"),L=re("itemFilters"),O=S(null),D=S(4),{getNumTotalItems:W}=Me();let U=document;const{getItemEncyclopediaUrl:Q}=Ze(),q=()=>{D.value=Math.floor((O.value.clientWidth-16)/(T.value?310+5:230+5))};window.addEventListener("resize",q);let P=ce(()=>{let v=[],w=[];return m.value.forEach(N=>{w.length===D.value?(v.push(w),w=[N]):w.push(N)}),w.length>0&&v.push(w),v.length===0&&v.push([]),v});const R=S(!1),T=S(!1),b=()=>{R.value=!0,xe(()=>{q()})};$e(T,()=>{xe(()=>{R.value=!1,xe(()=>{R.value=!0,xe(()=>{q()})})})});const G=(v,w)=>{let N=v.type.validSlots.includes(H.LEFT_HAND.id)||v.type.validSlots.includes(H.RIGHT_HAND.id),X=v.type.disabledSlots.includes(H.SECOND_WEAPON.id)&&y.value.equipment[H.SECOND_WEAPON.id]!==null,Z=v.type.validSlots[0]===H.SECOND_WEAPON.id&&y.value.equipment[H.FIRST_WEAPON.id]!==null&&y.value.equipment[H.FIRST_WEAPON.id].type.disabledSlots.includes(H.SECOND_WEAPON.id),g=!1,i=null,f=!1,I=null;Object.keys(y.value.equipment).forEach(J=>{v.rarity===5&&y.value.equipment[J]!==null&&y.value.equipment[J].rarity===5&&(g=!0,i=J),v.rarity===7&&y.value.equipment[J]!==null&&y.value.equipment[J].rarity===7&&(f=!0,I=J)});let V=null;g&&(V=a("characterSheet.equipmentContent.hasRelicWarning")),f&&(V=a("characterSheet.equipmentContent.hasEpicWarning")),X&&(V=a("characterSheet.equipmentContent.twoHandedWeaponWarning")),Z&&(V=a("characterSheet.equipmentContent.secondWeaponWarning")),g&&X&&(V=a("characterSheet.equipmentContent.relicAndTwoHandedWarning")),g&&Z&&(V=a("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),f&&X&&(V=a("characterSheet.equipmentContent.epicAndTwoHandedWarning")),f&&Z&&(V=a("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),X||Z||g||f?$.require({group:"popup",target:w.currentTarget,message:V,accept:()=>{N&&(y.value.equipment[H.LEFT_HAND.id]===null?y.value.equipment[H.LEFT_HAND.id]=v:y.value.equipment[H.RIGHT_HAND.id]=v),X&&(y.value.equipment[H.FIRST_WEAPON.id]=v,y.value.equipment[H.SECOND_WEAPON.id]=null),Z&&(y.value.equipment[H.FIRST_WEAPON.id]=null,y.value.equipment[H.SECOND_WEAPON.id]=v),g&&(y.value.equipment[i]=null,y.value.equipment[v.type.validSlots[0]]=v),f&&(y.value.equipment[I]=null,y.value.equipment[v.type.validSlots[0]]=v)}}):N?y.value.equipment[H.LEFT_HAND.id]===null?y.value.equipment[H.LEFT_HAND.id]=v:y.value.equipment[H.RIGHT_HAND.id]=v:v.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",v.type):y.value.equipment[v.type.validSlots[0]]=v},ee=v=>{let w=Q(v);window.open(w,"_blank")};return u({showList:b}),(v,w)=>{const N=E("p-divider"),X=E("p-dropdown"),Z=E("p-checkbox"),g=E("p-image"),i=E("p-button"),f=E("tippy"),I=E("p-virtualScroller");return c(),p("div",Gl,[s(Xe,{character:l(y)},null,8,["character"]),s(zl),s(N,{class:"mt-3 mb-2"}),e("div",Yl,[e("div",null,t(v.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(X,{modelValue:l(L).sortBy,"onUpdate:modelValue":w[0]||(w[0]=V=>l(L).sortBy=V),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:l(st)},{value:d(V=>[oe(t(v.$t(V.value.label)),1)]),option:d(V=>[e("div",Jl,t(v.$t(V.option.label)),1)]),_:1},8,["modelValue","options"]),s(X,{modelValue:l(L).sortOrder,"onUpdate:modelValue":w[1]||(w[1]=V=>l(L).sortOrder=V),class:"sort-dropdown ml-2","option-label":"label",options:l(at)},{value:d(V=>[oe(t(v.$t(V.value.label)),1)]),option:d(V=>[e("div",Ql,t(v.$t(V.option.label)),1)]),_:1},8,["modelValue","options"]),Xl,e("div",Zl,t(l(m).length)+" "+t(v.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(l(W)())+" "+t(v.$t("characterSheet.equipmentContent.itemsTotal")),1),Kl,e("span",ei,t(v.$t("characterSheet.equipmentContent.displayStats")),1),s(Z,{modelValue:T.value,"onUpdate:modelValue":w[2]||(w[2]=V=>T.value=V),binary:!0},null,8,["modelValue"])]),R.value?(c(),p("div",{key:0,ref_key:"itemResultsWrapper",ref:O,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(I,{items:l(P),"item-size":[T.value?215:65,T.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:d(({item:V})=>[l(P)[0].length>0?(c(),p("div",ti,[(c(!0),p(Y,null,le(V,(k,J)=>(c(),p(Y,{key:J},[T.value&&k?(c(),p("div",si,[e("div",ai,[s(g,{src:`https://tmktahu.github.io/WakfuAssets/items/${k.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",li,[e("div",ii,t(v.$t(`items.${k.id}`)),1),e("div",ni,[s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(k.type.id)?(c(),p("div",oi,t(v.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),p("div",ci,"Lvl: "+t(k.level),1)),k.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),p("div",ri,t(k.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])]),ui,e("div",di,[s(i,{icon:"pi pi-plus",class:"equip-button",onClick:K=>G(k,K)},null,8,["onClick"]),s(i,{icon:"pi pi-question-circle",class:"equip-button",onClick:K=>ee(k)},null,8,["onClick"])])]),s(Fe,{"card-mode":"",item:k},null,8,["item"])])):(c(),ae(f,{key:1,delay:[0,0],duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(U).body},{content:d(()=>[k?(c(),p("div",Si,[e("div",Ci,[s(g,{src:`https://tmktahu.github.io/WakfuAssets/items/${k.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",wi,[e("div",xi,t(v.$t(`items.${k.id}`)),1),e("div",Ai,[s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(k.type.id)?(c(),p("div",Vi,t(v.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),p("div",Wi,"Lvl: "+t(k.level),1)),k.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),p("div",Ii,t(k.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])])]),s(Fe,{item:k},null,8,["item"])])):se("",!0)]),default:d(()=>[e("div",pi,[e("div",mi,[s(g,{src:`https://tmktahu.github.io/WakfuAssets/items/${k.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",hi,[e("div",vi,t(v.$t(`items.${k.id}`)),1),e("div",_i,[s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(k.type.id)?(c(),p("div",gi,t(v.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),p("div",fi,"Lvl: "+t(k.level),1)),k.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),p("div",bi,t(k.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])]),$i,e("div",yi,[s(i,{icon:"pi pi-plus",class:"equip-button",onClick:K=>G(k,K)},null,8,["onClick"]),s(f,{placement:"left"},{content:d(()=>[e("div",ki,t(v.$t("characterSheet.equipmentContent.openEncyclopediaPage")),1)]),default:d(()=>[s(i,{icon:"pi pi-question-circle",class:"equip-button",onClick:K=>ee(k)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1032,["append-to"]))],64))),128))])):(c(),p("div",qi,t(v.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):se("",!0)])}}},Pi=ue(Ei,[["__scopeId","data-v-25f42264"]]);const ve=_=>(de("data-v-22a133ae"),_=_(),pe(),_),Ti={class:"w-full h-full"},Mi=ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Di={class:"simple-tooltip"},Ri={class:"flex mt-2"},Oi={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Fi={class:"disabled-mask"},Li=ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Ui={key:1,class:"spell-button disabled"},Ni={class:"disabled-mask"},Hi={class:"mt-3"},ji=ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Bi={class:"simple-tooltip"},zi={class:"flex mt-2"},Gi={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Yi={key:0},Ji=["onClick"],Qi=ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Xi={class:"spell-tooltip"},Zi={class:"spell-name px-2 py-1"},Ki={class:"spell-description px-2 py-1"},en=["innerHTML"],tn={key:0,class:"spell-unlock-number"},sn={class:"flex flex-wrap gap-1"},an=["onClick"],ln=ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),nn=ve(()=>e("div",{class:"disabled-mask"},null,-1)),on={key:0,class:"spell-unlock-number"},cn={class:"spell-tooltip"},rn={class:"spell-name px-2 py-1"},un={class:"spell-description px-2 py-1"},dn=["innerHTML"],pn={class:"flex flex-wrap gap-1"},mn=["onClick"],hn=ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),vn=ve(()=>e("div",{class:"disabled-mask"},null,-1)),_n={key:0,class:"spell-unlock-number"},gn={class:"spell-tooltip"},fn={class:"spell-name px-2 py-1"},bn={class:"spell-description px-2 py-1"},$n=["innerHTML"],yn={__name:"SpellTabContent",setup(_){const u=re("currentCharacter"),{getClassPassiveSpells:$,getSpellHtml:a,getSpellLevel:y}=lt(u),m=ce(()=>$(u.value.class).sort((R,T)=>{let b=ge[R.id],G=ge[T.id];return b-G})),L=ce(()=>$("all").sort((R,T)=>{let b=ge[R.id],G=ge[T.id];return b-G})),O=q=>{q.category===Oe.passive&&(Object.keys(u.value.spells).forEach(P=>{var R;P.includes(Oe.passive)&&((R=u.value.spells[P])==null?void 0:R.id)===q.id&&(u.value.spells[P]=null)}),Object.keys(u.value.spells).some(P=>{if(P.includes(Oe.passive)&&Q(parseInt(P.replace("passiveSlot","")))&&u.value.spells[P]===null)return u.value.spells[P]=q,!0}))},D=q=>{u.value.spells[q]=null},W=q=>{let P=!1;return Object.keys(u.value.spells).forEach(R=>{var T;((T=u.value.spells[R])==null?void 0:T.id)===q.id&&(P=!0)}),P},U=q=>{let P=ge[q.id];return u.value.level>=P},Q=q=>{let P=ze[q-1];return u.value.level>=P};return(q,P)=>{const R=E("tippy"),T=E("p-image");return c(),p("div",Ti,[e("div",null,[s(R,{placement:"left"},{content:d(()=>[e("div",Di,t(q.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:d(()=>[Mi]),_:1}),oe(" "+t(q.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",Ri,[e("div",Oi,[(c(),p(Y,null,le(12,b=>(c(),p(Y,{key:b},[l(u).spells["activeSlot"+b]!==null?(c(),p("div",{key:0,class:"spell-button disabled",onClick:P[0]||(P[0]=G=>D(q.spell))},[e("div",Fi,t(),1),Li,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(u).spells["activeSlot"+b].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),p("div",Ui,[s(T,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Ni,t(),1)]))],64))),64))])]),e("div",Hi,[s(R,{placement:"left"},{content:d(()=>[e("div",Bi,t(q.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:d(()=>[ji]),_:1}),oe(" "+t(q.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",zi,[e("div",Gi,[(c(),p(Y,null,le(6,b=>(c(),p(Y,{key:b},[l(u).spells["passiveSlot"+b]!==null?(c(),p("div",Yi,[s(R,{duration:"0"},{content:d(()=>[e("div",Xi,[e("div",Zi,t(l(u).spells["passiveSlot"+b].name)+" (Level "+t(l(y)(l(u).spells["passiveSlot"+b]))+") ",1),e("div",Ki,t(l(u).spells["passiveSlot"+b].description),1),e("div",{class:"spell-details",innerHTML:l(a)(l(u).spells["passiveSlot"+b])},null,8,en)])]),default:d(()=>[e("div",{class:"spell-button",onClick:G=>D("passiveSlot"+b)},[Qi,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(u).spells["passiveSlot"+b].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Ji)]),_:2},1024)])):(c(),p("div",{key:1,class:te(["spell-slot",{disabled:!Q(b)}])},[s(T,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),Q(b)?se("",!0):(c(),p("div",tn,t(l(ze)[b-1]),1))],2))],64))),64))]),e("div",sn,[(c(!0),p(Y,null,le(m.value,b=>(c(),ae(R,{key:b.id,duration:"0"},{content:d(()=>[e("div",cn,[e("div",rn,t(b.name)+" (Level "+t(l(y)(b))+")",1),e("div",un,t(b.description),1),e("div",{class:"spell-details",innerHTML:l(a)(b)},null,8,dn)])]),default:d(()=>[e("div",{class:te(["spell-button",{disabled:W(b)||!U(b)}]),onClick:G=>O(b)},[ln,nn,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${b.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),U(b)?se("",!0):(c(),p("div",on,t(l(ge)[b.id]),1))],10,an)]),_:2},1024))),128))]),e("div",pn,[(c(!0),p(Y,null,le(L.value,b=>(c(),ae(R,{key:b.id,duration:"0"},{content:d(()=>[e("div",gn,[e("div",fn,t(b.name)+" (Level "+t(l(y)(b))+")",1),e("div",bn,t(b.description),1),e("div",{class:"spell-details",innerHTML:l(a)(b)},null,8,$n)])]),default:d(()=>[e("div",{class:te(["spell-button",{disabled:W(b)||!U(b)}]),onClick:G=>O(b)},[hn,vn,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${b.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),U(b)?se("",!0):(c(),p("div",_n,t(l(ge)[b.id]),1))],10,mn)]),_:2},1024))),128))])])])}}},kn=ue(yn,[["__scopeId","data-v-22a133ae"]]),Sn={class:"flex align-items-center"},Cn={class:"mx-2"},wn=e("i",{class:"mdi mdi-information-outline"},null,-1),xn={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(u,$)=>{const a=E("p-checkbox"),y=E("tippy");return c(),p("div",Sn,[s(a,Te(u.$attrs,{binary:!0}),null,16),e("div",Cn,t(_.label),1),_.tooltipText?(c(),ae(y,{key:0,placement:"left",duration:"0"},{content:d(()=>[e("div",xn,t(_.tooltipText),1)]),default:d(()=>[wn]),_:1})):se("",!0)])}}},An={class:"flex align-items-center"},Vn={class:"mx-2"},Wn=e("i",{class:"mdi mdi-information-outline"},null,-1),In={class:"simple-tooltip"},Pe={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(u,$)=>{const a=E("p-inputNumber"),y=E("tippy");return c(),p("div",An,[s(a,Te(u.$attrs,{class:"number-input"}),null,16),e("div",Vn,t(_.label),1),s(y,{placement:"left",duration:"0"},{content:d(()=>[e("div",In,t(_.tooltipText),1)]),default:d(()=>[Wn]),_:1})])}}};const et=_=>(de("data-v-19682913"),_=_(),pe(),_),qn={class:"item-card"},En={class:"slot-label text-center pt-1 pb-1"},Pn={class:"flex px-2 pt-1"},Tn={class:"flex flex-column ml-1"},Mn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Dn={class:"flex"},Rn={key:0},On={key:1},Fn={key:2,class:"ml-1"},Ln=et(()=>e("div",{class:"flex-grow-1"},null,-1)),Un={class:"flex flex-column"},Nn=et(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Hn={key:0,class:"item-card-tooltip"},jn={class:"effect-header flex pt-2 px-1"},Bn={class:"flex flex-column ml-1"},zn={class:"item-name mr-2"},Gn={class:"flex"},Yn={key:0},Jn={key:1},Qn={key:2,class:"ml-1"},Xn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}}},setup(_){let u=document;const $=Le(),a=re("currentCharacter"),{getItemEncyclopediaUrl:y}=Ze(),{equipItem:m}=Me(a),L=(D,W)=>{m(D,W,$)},O=D=>{let W=y(D);window.open(W,"_blank")};return(D,W)=>{const U=E("p-image"),Q=E("p-button"),q=E("tippy");return c(),ae(q,{delay:"[0, 0]",duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(u).body},{content:d(()=>[_.item?(c(),p("div",Hn,[e("div",jn,[s(U,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Bn,[e("div",zn,t(D.$t(`items.${_.item.id}`)),1),e("div",Gn,[s(U,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(U,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(_.item.type.id)?(c(),p("div",Yn,"Item Level: 50")):(c(),p("div",Jn,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),p("div",Qn,t(_.item.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])])]),s(Fe,{item:_.item},null,8,["item"])])):se("",!0)]),default:d(()=>[e("div",qn,[e("div",En,t(_.item.type.validSlots[0]==="LEFT_HAND"?"Ring":D.$t(l(H)[_.item.type.validSlots[0]].name))+" Slot ",1),e("div",Pn,[s(U,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Tn,[e("div",Mn,t(D.$t(`items.${_.item.id}`)),1),e("div",Dn,[s(U,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(U,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(_.item.type.id)?(c(),p("div",Rn,"Item Level: 50")):(c(),p("div",On,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),p("div",Fn,t(_.item.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):se("",!0)])]),Ln,e("div",Un,[s(Q,{icon:"pi pi-plus",class:"action-button mb-1",onClick:W[0]||(W[0]=P=>L(_.item,P))}),s(q,{placement:"left"},{content:d(()=>[Nn]),default:d(()=>[s(Q,{icon:"pi pi-question-circle",class:"action-button",onClick:W[1]||(W[1]=P=>O(_.item))})]),_:1})])])])]),_:1},8,["append-to"])}}},Zn=ue(Xn,[["__scopeId","data-v-19682913"]]);const ye=_=>(de("data-v-e8cae4f5"),_=_(),pe(),_),Kn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},eo={class:"flex flex-column mt-4"},to={class:"flex"},so={class:"flex mt-3"},ao={class:"setting-group flex flex-column mr-3 gap-2"},lo={class:"mb-2"},io=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),no={class:"simple-tooltip"},oo={class:"setting-group flex flex-column mr-3"},co={class:"flex flex-column gap-2"},ro={class:"mb-2"},uo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),po={class:"simple-tooltip"},mo={class:"flex align-items-center"},ho={class:"mr-2"},vo={class:"px-2 py-1"},_o={class:"flex align-items-center"},go={class:"mr-2"},fo={class:"px-2 py-1"},bo={class:"flex align-items-center"},$o={class:"mr-2"},yo={class:"px-2 py-1"},ko={class:"flex align-items-center"},So={class:"mr-2"},Co={class:"px-2 py-1"},wo={class:"flex align-items-center"},xo={class:"mr-2"},Ao={class:"px-2 py-1"},Vo={class:"flex flex-column"},Wo={class:"rarity-container"},Io={class:"flex align-items-center mb-1"},qo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Eo={class:"simple-tooltip"},Po={class:"mr-2 ml-1"},To={class:"rarity-button-wrapper"},Mo={class:"flex justify-content-center align-items-center"},Do={class:"simple-tooltip"},Ro={class:"setting-group flex flex-column gap-2 mt-2"},Oo={class:"mb-2"},Fo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Lo={class:"simple-tooltip"},Uo={key:0,class:"warning-message mt-2 py-1 px-2"},No={class:"flex align-items-center mt-3"},Ho=ye(()=>e("div",{class:"flex-grow-1"},null,-1)),jo=ye(()=>e("a",{href:"https://github.com/mikeshardmind/wakfu-utils",target:"_blank"},"Keeper of Time (sinbad)",-1)),Bo={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},zo={key:0,class:"error-state px-3 py-3"},Go={key:0,class:"mt-1"},Yo={key:1},Jo={class:"mt-3"},Qo={key:0,class:"mt-2"},Xo={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Zo={key:1},Ko={class:"flex flex-wrap gap-1 mt-2"},ec={key:2,class:"loading-state px-3 py-3"},tc={class:"mt-2"},sc={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},ac={class:"text-center mt-2"},lc={class:"text-center mb-5 mt-2"},ic={class:"flex justify-content-center"},nc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},oc={__name:"ItemSolverTabContent",setup(_){const{t:u}=Ue(),$=Le(),a=re("currentCharacter"),{equipItem:y}=Me(a),{runCalculations:m,autoBuilderIsReady:L,itemSet:O,builderLoading:D,builderError:W}=it(),{createBuildCode:U}=Qe(),Q=S(!1),q=ce(()=>{if(Q.value)return O.value;{let n=Object.keys(a.value.equipment).map(o=>{if(a.value.equipment[o])return a.value.equipment[o].id}).filter(o=>o!==void 0);return O.value?O.value.filter(o=>!n.includes(o.id)):[]}}),P=S(a.value.actionPoints),R=S(a.value.movementPoints),T=S(a.value.stats.range),b=S(a.value.wakfuPoints),G=S(!1),ee=S(!1),v=S(!1),w=S(!1),N=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],X=[...N,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],Z=S(N[0]),g=S(N[0]),i=S(N[0]),f=S(N[0]),I=S(N[0]),V=S(!0),k=S(nt.map(n=>({...n,checked:!0}))),J=S(!0);$e(L,()=>{J.value=!1});const K=()=>{k.value.forEach(n=>{n.checked=!0})},ie=()=>{k.value.forEach(n=>{n.checked=!1})},x=ce(()=>L.value),M=ce(()=>U(a.value)),r=S(null);$e([P,R,T,b],()=>{r.value=null,P.value-a.value.actionPoints>=6?r.value=u("characterSheet.itemSolverContent.apWarning"):T.value-a.value.stats.range>5?r.value=u("characterSheet.itemSolverContent.rangeImpossibleWarning"):a.value.level<35?T.value-a.value.stats.range>0&&(r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning")):a.value.level<50?T.value-a.value.stats.range>1?r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning"):P.value-a.value.actionPoints+R.value-a.value.movementPoints>4&&(r.value=u("characterSheet.itemSolverContent.combinedApMpWarning")):a.value.level<80&&T.value-a.value.stats.range>3&&(r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning"))});const h=async()=>{let n=k.value.filter(ne=>ne.checked).map(ne=>ne.id),o={buildCode:M.value,meleeMasteryPriority:Z.value,distanceMasteryPriority:g.value,healingMasteryPriority:i.value,rearMasteryPriority:f.value,berserkMasteryPriority:I.value,fireMastery:G.value,earthMastery:ee.value,waterMastery:v.value,airMastery:w.value,targetApAmount:P.value||0,targetMpAmount:R.value||0,targetRangeAmount:T.value||0,targetWpAmount:b.value||0,selectedRarityIds:n,ignoreEquippedItems:!V.value};m(o)},j=n=>{$.require({group:"popup",target:n.currentTarget,message:u("confirms.willReplaceItems"),accept:()=>{O.value.forEach(o=>{y(o)})}})},Re=(n,o)=>{n.ctrlKey&&k.value.forEach(ne=>{ne.id!==o?ne.checked=!1:ne.checked=!0})};return(n,o)=>{var Se,Ce,we;const ne=E("tippy"),me=E("p-dropdown"),_e=E("p-button"),qe=E("p-image"),Ee=E("p-checkbox"),ke=E("p-progressSpinner");return c(),p("div",Kn,[s(Xe,{character:l(a)},null,8,["character"]),e("div",eo,[e("div",to,[s(be,{modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=C=>V.value=C),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",so,[e("div",ao,[e("div",lo,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",no,t(n.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:d(()=>[io]),_:1}),oe(" "+t(n.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Pe,{modelValue:P.value,"onUpdate:modelValue":o[1]||(o[1]=C=>P.value=C),label:n.$t("constants.actionPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:R.value,"onUpdate:modelValue":o[2]||(o[2]=C=>R.value=C),label:n.$t("constants.movementPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:T.value,"onUpdate:modelValue":o[3]||(o[3]=C=>T.value=C),label:n.$t("constants.range"),"tooltip-text":n.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:b.value,"onUpdate:modelValue":o[4]||(o[4]=C=>b.value=C),label:n.$t("constants.wakfuPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",oo,[e("div",co,[e("div",ro,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",po,t(n.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:d(()=>[uo]),_:1}),oe(" "+t(n.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",mo,[e("div",ho,t(n.$t("constants.meleeMastery")),1),s(me,{modelValue:Z.value,"onUpdate:modelValue":o[5]||(o[5]=C=>Z.value=C),class:"condensed-dropdown","option-label":"label",options:N},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",vo,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",_o,[e("div",go,t(n.$t("constants.distanceMastery")),1),s(me,{modelValue:g.value,"onUpdate:modelValue":o[6]||(o[6]=C=>g.value=C),class:"condensed-dropdown","option-label":"label",options:N},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",fo,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",bo,[e("div",$o,t(n.$t("constants.healingMastery")),1),s(me,{modelValue:i.value,"onUpdate:modelValue":o[7]||(o[7]=C=>i.value=C),class:"condensed-dropdown","option-label":"label",options:N},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",yo,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ko,[e("div",So,t(n.$t("constants.rearMastery")),1),s(me,{modelValue:f.value,"onUpdate:modelValue":o[8]||(o[8]=C=>f.value=C),class:"condensed-dropdown","option-label":"label",options:X},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",Co,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",wo,[e("div",xo,t(n.$t("constants.berserkMastery")),1),s(me,{modelValue:I.value,"onUpdate:modelValue":o[9]||(o[9]=C=>I.value=C),class:"condensed-dropdown","option-label":"label",options:X},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",Ao,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",Vo,[e("div",Wo,[e("div",Io,[s(_e,{class:"filter-button item-filter-action mr-2",label:n.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),s(ne,{placement:"top"},{content:d(()=>[e("div",Eo,t(n.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[qo]),_:1}),e("div",Po,t(n.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(_e,{class:"filter-button item-filter-action",label:n.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ie},null,8,["label"])]),e("div",To,[(c(!0),p(Y,null,le(k.value,C=>(c(),ae(ne,{key:C.id,duration:"0"},{content:d(()=>[e("div",Do,t(n.$t(C.name)),1)]),default:d(()=>[s(Ee,{modelValue:C.checked,"onUpdate:modelValue":he=>C.checked=he,binary:!0,class:"rarity-checkbox",onChange:he=>Re(he,C.id)},{icon:d(he=>[e("div",Mo,[s(qe,{class:te({disabled:!he.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${C.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Ro,[e("div",Oo,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",Lo,t(n.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:d(()=>[Fo]),_:1}),oe(" "+t(n.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:G.value,"onUpdate:modelValue":o[10]||(o[10]=C=>G.value=C),label:n.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:ee.value,"onUpdate:modelValue":o[11]||(o[11]=C=>ee.value=C),label:n.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:v.value,"onUpdate:modelValue":o[12]||(o[12]=C=>v.value=C),label:n.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:w.value,"onUpdate:modelValue":o[13]||(o[13]=C=>w.value=C),label:n.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),r.value!==null?(c(),p("div",Uo,t(r.value),1)):se("",!0)]),e("div",No,[s(_e,{class:"py-2 px-3 mr-2",disabled:!x.value,label:(Se=q.value)!=null&&Se.length?"Re-Generate Item Set":"Generate Item Set",onClick:h},null,8,["disabled","label"]),s(_e,{class:"py-2 px-3 mr-2",disabled:!((Ce=q.value)!=null&&Ce.length),label:"Equip All Items",onClick:o[14]||(o[14]=C=>j(C))},null,8,["disabled"]),s(be,{modelValue:Q.value,"onUpdate:modelValue":o[15]||(o[15]=C=>Q.value=C),label:"Show All Items"},null,8,["modelValue"]),Ho,e("div",null,[oe(t(n.$t("characterSheet.itemSolverContent.poweredBy"))+" ",1),jo,oe("'s "+t(n.$t("characterSheet.itemSolverContent.code"))+".",1)])]),l(D)?(c(),p("div",sc,[e("div",ac,t(n.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",lc,t(n.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",ic,[e("div",nc,[s(ke,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(ke,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),p("div",Bo,[l(W)?(c(),p("div",zo,[l(W).debug?(c(),p("div",Go,t(n.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),p("div",Yo,t(n.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Jo,[e("div",null,"Error Code: "+t(l(W).message),1),l(W).debug?(c(),p("div",Qo,[e("div",Xo,"Debug Code: "+t(l(W).debug),1)])):se("",!0)])])):(we=q.value)!=null&&we.length?(c(),p("div",Zo,[e("div",Ko,[(c(!0),p(Y,null,le(q.value,C=>(c(),ae(Zn,{key:C.id,item:C},null,8,["item"]))),128))])])):(c(),p("div",ec,[e("div",null,t(n.$t("characterSheet.itemSolverContent.instructions")),1),e("div",tc,t(n.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},cc=ue(oc,[["__scopeId","data-v-e8cae4f5"]]);const We=_=>(de("data-v-61b95848"),_=_(),pe(),_),rc={class:"flex"},uc={class:"flex flex-column"},dc={class:"mb-2"},pc={class:"flex"},mc={class:"mr-2"},hc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),vc={class:"simple-tooltip flex flex-column"},_c={class:"mb-1"},gc={class:"mb-1"},fc={class:"mb-1"},bc={class:"mb-1"},$c={class:"mb-1"},yc={class:"mb-1"},kc={key:0,class:"item-runes-section flex align-items-center mb-2"},Sc=["onClick"],Cc=["onClick","onDrop","onContextmenu","onDragstart"],wc={class:"rune-image"},xc={class:"rune-level"},Ac={class:"simple-tooltip"},Vc=["onDrop"],Wc={class:"rune-image"},Ic=We(()=>e("div",{class:"sublimation-drop-zone ml-2 pl-2 pr-2"},"sub",-1)),qc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},Ec={class:"slot-image"},Pc=["onDrop"],Tc=We(()=>e("div",{class:"info-text"},"An item must be equipped",-1)),Mc={class:"stats-summary"},Dc={class:"text-lg my-1 pl-2"},Rc={class:"stats-summary-list flex flex-column"},Oc={class:"ml-2"},Fc={class:"flex flex-column"},Lc={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},Uc={class:"flex align-items-center justify-content-center"},Nc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Hc={class:"simple-tooltip"},jc={class:"mx-2"},Bc={class:"rune-options flex flex-column mt-2"},zc=["onDragstart","onClick"],Gc={class:"ml-2"},Yc=We(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Jc={class:"ml-3 mt-2"},Qc={key:0,class:"flex flex-column px-4 py-2"},Xc={class:"mb-2"},Zc={class:"ml-2"},Kc={__name:"RunesSubsTabContent",setup(_){const{t:u}=Ue(),$=re("currentCharacter"),{getRuneValue:a}=Ye(),{getRunes:y,getSublimations:m}=Me(),L=ce(()=>y().sort((g,i)=>g.shardsParameters.color-i.shardsParameters.color));S(m());const O=S(1),D=S(null),W=S(null),U=S(null),Q=S([{label:u("constants.level"),levelSlider:!0},{label:u("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{W.value&&($.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].color===0?$.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].color=$.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].rune.shardsParameters.color:$.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].color=0)}},{label:u("constants.remove"),command:()=>{$.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey]=null}}]),q=ce(()=>{let g={};return Object.keys($.value.equipment).forEach(i=>{if($.value.equipment[i]!==null){let f=$.value.equipment[i];for(let I=1;I<=4;I++){let V=f[`runeSlot${I}`];V&&(g[V.rune.id]||(g[V.rune.id]={totalValue:0,rune:V}),g[V.rune.id].totalValue+=a(V.rune,V.level,i))}}}),g}),P=(g,i)=>{g.stopPropagation(),D.value===i?D.value=null:D.value=i},R=(g,i,f)=>{g.shiftKey&&($.value.equipment[i][f].color===0?$.value.equipment[i][f].color=$.value.equipment[i][f].rune.shardsParameters.color:$.value.equipment[i][f].color=0),g.ctrlKey&&($.value.equipment[i][f]=null)},T=(g,i,f)=>{$.value.equipment[i][f]&&(W.value={itemSlotKey:i,runeSlotKey:f},U.value.show(g))},b=(g,i)=>{if(D.value&&$.value.equipment[D.value]!==null){let f=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let I in f)if($.value.equipment[D.value][f[I]]===null||$.value.equipment[D.value][f[I]]===void 0){$.value.equipment[D.value][f[I]]={rune:i,color:i.shardsParameters.color,level:O.value};break}}},G=(g,i,f)=>{g.dataTransfer.dropEffect="move",g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("rune",JSON.stringify(i)),f&&g.dataTransfer.setData("level",f)},ee=(g,i,f)=>{try{let I=JSON.parse(g.dataTransfer.getData("rune")),V=g.dataTransfer.getData("level");$.value.equipment[i][f]={rune:I,color:I.shardsParameters.color,level:V||O.value}}catch{}},v=()=>{let g=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys($.value.equipment).forEach(i=>{$.value.equipment[i]&&g.forEach(f=>{$.value.equipment[i][f]=void 0})})},w=g=>{if(g)switch(g){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},N=g=>{if(g)switch(g){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},X=g=>Object.keys(H).find(i=>H[i].rawId===g),Z=ce(()=>{let g=1;return ot.some((i,f)=>i<=$.value.level?(g=f+1,!1):!0),g});return $e(()=>$.value.level,()=>{O.value=Z.value},{immediate:!0}),(g,i)=>{const f=E("tippy"),I=E("p-image"),V=E("p-inputNumber"),k=E("p-button"),J=E("p-slider"),K=E("p-contextMenu"),ie=ct("ripple");return c(),p("div",rc,[e("div",uc,[e("div",dc,[s(f,{placement:"left",duration:"0"},{content:d(()=>[e("div",vc,[e("div",_c,t(g.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",gc,t(g.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",fc,t(g.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",bc,t(g.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",$c,t(g.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",yc,t(g.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:d(()=>[e("div",pc,[e("div",mc,t(g.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),hc])]),_:1})]),(c(!0),p(Y,null,le(Object.keys(l($).equipment),x=>(c(),p(Y,{key:x},[x!=="ACCESSORY"&&x!=="PET"&&x!=="MOUNT"&&x!=="SECOND_WEAPON"?(c(),p(Y,{key:0},[x!=="undefined"&&l($).equipment[x]?(c(),p("div",kc,[e("div",{class:te(["slot-image",{highlighted:D.value===x}]),onClick:M=>P(M,x)},[s(I,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${x}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,Sc),(c(),p(Y,null,le(4,M=>(c(),p(Y,{key:M},[l($).equipment[x][`runeSlot${M}`]?(c(),ae(f,{key:0,duration:"0"},{content:d(()=>[e("div",Ac," +"+t(l(a)(l($).equipment[x][`runeSlot${M}`].rune,l($).equipment[x][`runeSlot${M}`].level,x))+" "+t(l($).equipment[x][`runeSlot${M}`].rune.name),1)]),default:d(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:r=>R(r,x,`runeSlot${M}`),onDragover:i[0]||(i[0]=fe(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=fe(()=>{},["prevent"])),onDrop:r=>ee(r,x,`runeSlot${M}`),onContextmenu:r=>T(r,x,`runeSlot${M}`),onDragstart:r=>G(r,l($).equipment[x][`runeSlot${M}`].rune,l($).equipment[x][`runeSlot${M}`].level)},[e("div",wc,[s(I,{src:N(l($).equipment[x][`runeSlot${M}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",xc,t(l($).equipment[x][`runeSlot${M}`].level),1)],40,Cc)]),_:2},1024)):(c(),p("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=fe(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=fe(()=>{},["prevent"])),onDrop:r=>ee(r,x,`runeSlot${M}`)},[e("div",Wc,[s(I,{src:w(null),"image-style":"width: 26px"},null,8,["src"])])],40,Vc))],64))),64)),Ic])):x!=="undefined"?(c(),p("div",qc,[e("div",Ec,[s(I,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${x}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),p(Y,null,le(4,M=>e("div",{key:M,class:"rune-drop-zone ml-2",onDragover:i[4]||(i[4]=fe(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=fe(()=>{},["prevent"])),onDrop:r=>ee(r,x,`runeSlot${M}`)},null,40,Pc)),64)),Tc])):se("",!0)],64)):se("",!0)],64))),128)),e("div",Mc,[e("div",Dc,t(g.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",Rc,[(c(!0),p(Y,null,le(Object.keys(q.value),x=>(c(),p("div",{key:x,class:"summary-entry px-2 py-1"},[s(I,{src:N(q.value[x].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Oc,"+"+t(q.value[x].totalValue)+" "+t(q.value[x].rune.rune.name),1)]))),128))])])]),e("div",Fc,[e("div",Lc,[e("div",Uc,[s(f,{placement:"left",duration:"0"},{content:d(()=>[e("div",Hc,t(g.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:d(()=>[Nc]),_:1}),e("span",jc,t(g.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(V,{modelValue:O.value,"onUpdate:modelValue":i[6]||(i[6]=x=>O.value=x),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:Z.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Bc,[(c(!0),p(Y,null,le(L.value,x=>(c(),p("div",{key:x.id,class:te(["rune-draggable mb-1 px-2",{highlighted:D.value&&x.shardsParameters.doubleBonusPosition.includes(l(H)[D.value].rawId)}]),draggable:"true",onDragstart:M=>G(M,x),onClick:M=>b(M,x)},[s(I,{class:"rune-image",src:w(x.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Gc,"+"+t(l(a)(x,O.value))+" "+t(x.name),1),Yc,(c(!0),p(Y,null,le(x.shardsParameters.doubleBonusPosition,M=>(c(),p("div",{key:M,class:"ml-1"},[s(I,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${X(M)}.png`,class:te({disabled:!l($).equipment[X(M)]}),onClick:r=>P(r,X(M))},null,8,["src","class","onClick"])]))),128))],42,zc))),128))])]),e("div",Jc,[s(k,{label:g.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:v},null,8,["label"])])]),s(K,{ref_key:"runeContextMenu",ref:U,model:Q.value},{item:d(({item:x,props:M})=>[x.levelSlider?(c(),p("div",Qc,[e("div",Xc,t(g.$t("constants.level"))+": "+t(l($).equipment[W.value.itemSlotKey][W.value.runeSlotKey].level),1),s(J,{modelValue:l($).equipment[W.value.itemSlotKey][W.value.runeSlotKey].level,"onUpdate:modelValue":i[7]||(i[7]=r=>l($).equipment[W.value.itemSlotKey][W.value.runeSlotKey].level=r),min:1,max:11},null,8,["modelValue"])])):rt((c(),p("a",Te({key:1,class:"flex align-items-center"},M.action),[e("span",Zc,t(x.label),1)],16)),[[ie]])]),_:1},8,["model"])])}}},er=ue(Kc,[["__scopeId","data-v-61b95848"]]);const Ie=_=>(de("data-v-d8005c1c"),_=_(),pe(),_),tr={class:"top-bar py-3 px-3"},sr={key:0,class:"flex align-items-center"},ar={class:"capitalize"},lr={key:1},ir={class:"flex align-items-center"},nr={class:"capitalize"},or={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},cr={class:"mr-2"},rr={class:"flex-grow-1"},ur=Ie(()=>e("div",{class:"flex-grow-1"},null,-1)),dr={class:"build-code flex align-items-center ml-2 mr-3"},pr=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),mr={class:"simple-tooltip"},hr={class:"ml-2"},vr={class:"code-disclaimer"},_r=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),gr={class:"simple-tooltip"},fr={class:"ml-1"},br={class:"flex flex-grow-1",style:{overflow:"auto"}},$r={class:"stats-area pt-3"},yr={class:"flex flex-column flex-grow-1"},kr=Ie(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),Sr=Ie(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),Cr={class:"flex align-items-center px-3 py-3"},wr={class:"flex align-items-center px-3 py-3"},xr={class:"flex align-items-center px-3 py-3"},Ar={class:"flex align-items-center px-3 py-3"},Vr={key:1,class:"px-5 mt-5"},Wr={__name:"CharacterSheet",setup(_){var b,G,ee;const u=ut(),$=re("currentCharacter"),a=S(null),y=S(null),m=S((b=$.value)==null?void 0:b.name),L=S((G=$.value)==null?void 0:G.level),O=S((ee=$.value)==null?void 0:ee.class),D=Object.entries(Ge).map(([v,w])=>({label:w,value:w})),{createBuildCode:W}=Qe(),U=ce(()=>W($.value));$e($,()=>{Q()});const Q=()=>{var v,w,N;m.value=(v=$.value)==null?void 0:v.name,L.value=(w=$.value)==null?void 0:w.level,O.value=(N=$.value)==null?void 0:N.class},q=(v,w)=>{w==="name"?$.value.name=v.target.value:w==="levelText"?$.value.level=v.value:w==="levelSlider"?$.value.level=v:w==="class"&&($.value.class=v.value),Q()},P=()=>{xe(()=>{a.value.showList()})},R=ce(()=>{var v;return(v=y.value)==null?void 0:v.hasCharacteristicsError}),T=()=>{navigator.clipboard.writeText(U.value),u.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(v,w)=>{const N=E("p-inputText"),X=E("p-dropdown"),Z=E("p-inputNumber"),g=E("p-slider"),i=E("tippy"),f=E("p-button"),I=E("p-tabPanel"),V=E("p-tabView");return l($)?(c(),p("div",{key:l($).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",tr,[s(N,{modelValue:m.value,"onUpdate:modelValue":w[0]||(w[0]=k=>m.value=k),class:"mr-2",onInput:w[1]||(w[1]=k=>q(k,"name"))},null,8,["modelValue"]),s(X,{modelValue:O.value,"onUpdate:modelValue":w[2]||(w[2]=k=>O.value=k),options:l(D),placeholder:v.$t("characterSheet.selectAClass"),"option-value":"value","option-label":"label",class:"mr-2",onChange:w[3]||(w[3]=k=>q(k,"class"))},{value:d(k=>[k.value?(c(),p("div",sr,[e("div",ar,t(k.value),1)])):(c(),p("span",lr,t(k.placeholder),1))]),option:d(k=>[e("div",ir,[e("div",nr,t(k.option.label),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",or,[e("span",cr,t(v.$t("characterSheet.level")),1),s(Z,{modelValue:L.value,"onUpdate:modelValue":w[4]||(w[4]=k=>L.value=k),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:w[5]||(w[5]=k=>q(k,"levelText"))},null,8,["modelValue"]),e("div",rr,[s(g,{modelValue:L.value,"onUpdate:modelValue":w[6]||(w[6]=k=>L.value=k),min:1,max:230,onChange:w[7]||(w[7]=k=>q(k,"levelSlider"))},null,8,["modelValue"])])]),ur,e("div",dr,[s(i,{placement:"left",duration:"0"},{content:d(()=>[e("div",mr,t(v.$t("characterSheet.buildCopyPaste")),1)]),default:d(()=>[pr]),_:1}),e("div",hr,t(v.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:T},[e("span",null,t(U.value),1)]),s(f,{class:"py-1 ml-2 px-2",label:v.$t("characterSheet.copy"),onClick:T},null,8,["label"]),e("div",vr,[s(i,{placement:"bottom",duration:"0"},{content:d(()=>[e("div",gr,t(v.$t("characterSheet.codeInfo")),1)]),default:d(()=>[_r]),_:1}),e("div",fr,t(v.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",br,[e("div",$r,[s(Na)]),e("div",yr,[s(V,{class:"main-tab-view",onTabChange:P},{default:d(()=>[s(I,null,{header:d(()=>[e("div",{class:te(["characteristics-tab-header px-3 h-full",{error:R.value,"points-to-spend":!1}])},[e("span",null,t(v.$t("characterSheet.characteristics")),1),kr,Sr],2)]),default:d(()=>[s(hl,{ref_key:"characteristicsTabContent",ref:y},null,512)]),_:1}),s(I,null,{header:d(()=>[e("div",Cr,[e("span",null,t(v.$t("characterSheet.equipment")),1)])]),default:d(()=>[s(Pi,{ref_key:"equipmentTabContent",ref:a},null,512)]),_:1}),s(I,null,{header:d(()=>[e("div",wr,[e("span",null,t(v.$t("characterSheet.autoItemSolver")),1)])]),default:d(()=>[s(cc)]),_:1}),s(I,null,{header:d(()=>[e("div",xr,[e("span",null,t(v.$t("characterSheet.runesAndSubs")),1)])]),default:d(()=>[s(er)]),_:1}),s(I,null,{header:d(()=>[e("div",Ar,[e("span",null,t(v.$t("characterSheet.spellsAndPassives")),1)])]),default:d(()=>[s(kn)]),_:1})]),_:1})])])])):(c(),p("div",Vr," No Character data found for the given ID. "))}}},Pr=ue(Wr,[["__scopeId","data-v-d8005c1c"]]);export{Pr as default};
