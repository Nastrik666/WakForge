import{_ as T,u as V,a as E,i as L,r as N,b as R,c as j,d as u,o,e as p,f as t,t as l,g as s,h as A,F,j as U,k as f,C as h,l as y,m as q}from"./index-e95f58c3.js";import{E as z}from"./EquipmentButtons-13a79ed3.js";import{a as H}from"./addCompanion-f6ce7806.js";import"./ItemStatList-69fdf6cf.js";const O={class:"flex flex-column flex-grow-1 ml-4 mr-3",style:{height:"100%",overflow:"hidden"}},S={class:"mt-3",style:{"font-size":"42px"}},W={class:"mt-2"},G={class:"flex align-items-center w-full"},J={class:"text-xl mr-3"},K={key:0,class:"mt-2",style:{color:"var(--error)"}},M={class:"character-area"},Q={class:"flex justify-content-between w-full"},X={class:"text-xl"},Y={class:"character-enties-wrapper flex flex-column mt-2 pr-2 pb-3"},Z=["onClick"],ee={class:"character-info flex align-items-center justify-content-left flex-grow-1"},te={class:"ml-3"},ae={class:"class-name flex-grow-1 truncate"},se={class:"class-level"},le={class:"character-items flex-grow-1"},ce={__name:"CharactersPage",setup(oe){const b=V(),m=E(),_=L("masterData"),r=N(""),{decodeBuildCode:x}=q(),{createNewCharacter:k,createNewCharacterFromCode:w,deleteCharacter:B}=R(_),v=j(()=>x(r.value)!==null),P=()=>{let e=k();m.push({name:h,params:{characterId:e.id}})},I=()=>{let e=w(r.value);m.push({name:h,params:{characterId:e.id}})},C=(e,c)=>{b.require({group:"popup",target:e.currentTarget,message:"Are you sure? This is irreversible.",accept:()=>{B(c)}})},$=(e,c)=>{e.target.classList.contains("delete-button")||m.push({name:h,params:{characterId:c}})};return(e,c)=>{const n=u("p-divider"),D=u("p-inputText"),d=u("p-button"),g=u("p-image");return o(),p("div",O,[t("div",S,l(e.$t("charactersPage.title")),1),t("div",W,l(e.$t("charactersPage.description")),1),s(n),t("div",null,[t("div",G,[t("div",J,l(e.$t("charactersPage.codeInputLabel"))+":",1),s(D,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=a=>r.value=a),placeholder:e.$t("charactersPage.codeInputPlaceholder"),class:"flex-grow-1 py-2"},null,8,["modelValue","placeholder"]),s(d,{icon:"mdi mdi-plus-thick",disabled:!v.value,label:e.$t("charactersPage.codeInputButton"),class:"create-character-button py-1 pr-3 pl-2 ml-3",onClick:I},null,8,["disabled","label"])]),!v.value&&r.value!==""?(o(),p("div",K,l(e.$t("charactersPage.invalidBuildCode")),1)):A("",!0)]),s(n),t("div",M,[t("div",Q,[t("div",X,l(e.$t("charactersPage.savedCharactersTitle")),1),s(d,{icon:"mdi mdi-plus-thick",label:e.$t("charactersPage.createNewCharacterButton"),class:"create-character-button py-1 pr-3 pl-2",onClick:P},null,8,["label"])]),t("div",Y,[(o(!0),p(F,null,U(f(_).characters,a=>(o(),p("div",{key:a.id,class:"character-entry py-2 mt-2",onClick:i=>$(i,a.id)},[t("div",ee,[t("div",te,[a.class?(o(),y(g,{key:0,class:"class-image",src:`https://tmktahu.github.io/WakfuAssets/classes/${a.class}.png`,"image-style":"width: 40px"},null,8,["src"])):(o(),y(g,{key:1,class:"class-image",src:f(H),"image-style":"width: 40px"},null,8,["src"]))]),s(n,{class:"mx-2",layout:"vertical"}),t("div",ae,l(a.name),1),s(n,{class:"mx-2",layout:"vertical"}),t("div",se,"Lvl "+l(a.level),1),s(n,{class:"mx-2",layout:"vertical"}),s(d,{class:"by-level-delete-button delete-button py-2 px-2 mr-3",icon:"pi pi-trash",onClick:i=>C(i,a.id)},null,8,["onClick"])]),t("div",le,[s(z,{character:a,"read-only":""},null,8,["character"])]),s(d,{class:"at-end-delete-button delete-button py-2 px-2 mr-3",icon:"pi pi-trash",onClick:i=>C(i,a.id)},null,8,["onClick"])],8,Z))),128))])])])}}},ue=T(ce,[["__scopeId","data-v-32a1a91f"]]);export{ue as default};
