(function(){"use strict";importScripts("https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js");const p={feca:"Feca",osamodas:"Osa",enutrof:"Enu",sram:"Sram",xelor:"Xel",ecaflip:"Eca",eniripsa:"Eni",iop:"Iop",cra:"Cra",sadida:"Sadi",sacrier:"Sac",pandawa:"Panda",rogue:"Rogue",masqueraider:"Masq",ouginak:"Ougi",foggernaut:"Fog",eliotrope:"Elio",huppermage:"Hupper"};let l=null,t=null,n=null,c=null,d=null,i=null;const r=async()=>{t=await loadPyodide(),await t.loadPackage("micropip");const a=t.pyimport("micropip");console.log("Setting up the AutoBuild package loaded."),await a.install("wakautosolver"),console.log("AutoBuild package installed."),n=t.pyimport("wakautosolver"),console.log("AutoBuild package loaded."),postMessage("workerReady")},u=async()=>{var a;await g(c),(a=l==null?void 0:l[0])!=null&&a.length?m():console.log(l[1])},g=async({targetLevel:a,targetClass:e,distanceMastery:o,meleeMastery:s})=>{console.log("python params =",a,p[e],o,s),l=n.v1_lv_class_solve(a,p[e],2,o,s)},m=()=>{let a=l[0],e=[];d.forEach(o=>{a.includes(o.id)&&e.push(o)}),e.sort((o,s)=>i.indexOf(o.type.validSlots[0])-i.indexOf(s.type.validSlots[0])),postMessage({items:e})};r(),onmessage=async a=>{c=a.data.params,d=a.data.itemData,i=a.data.ITEM_SLOT_SORT_ORDER,u()}})();
