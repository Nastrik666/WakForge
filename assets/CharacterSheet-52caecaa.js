import{_ as ue,i as re,g as P,q as l,o as c,h as p,j as e,k as s,t,y as Te,l as ae,z as Ye,s as de,x as pe,A as Me,r as k,f as ce,B as tt,D as $e,E as Je,G as se,H as L,w as d,F as J,m as le,n as te,I as oe,a as Ue,b as Ne,J as De,K as xe,L as st,M as at,N as Ae,O as j,P as ge,Q as Ge,R as lt,S as Fe,T as it,d as Qe,U as nt,V as ot,W as ct,p as fe,X as rt,u as ut}from"./index-bf97c44e.js";import{E as Xe,I as Le,u as Ze,a as dt}from"./addCompanion-63ff03a4.js";const z=_=>(de("data-v-0d2a0c48"),_=_(),pe(),_),pt={key:0},mt={class:"flex justify-content-between w-full px-2"},ht={class:"main-stat-box"},vt={class:"flex align-items-center my-1"},_t={class:"ml-1"},gt={class:"stat-value py-1"},ft={class:"main-stat-box"},bt={class:"flex align-items-center my-1"},$t={class:"ml-1"},yt={class:"stat-value py-1"},kt={class:"main-stat-box"},St={class:"flex align-items-center my-1"},Ct={class:"ml-1"},wt={class:"stat-value py-1"},xt={class:"main-stat-box"},At={class:"flex align-items-center my-1"},Vt={class:"ml-1"},Wt={class:"stat-value py-1"},It={key:0,class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Et={class:"ml-1"},Pt={class:"stat-value py-1"},Tt={key:1,class:"main-stat-box"},Mt={class:"flex align-items-center my-1"},Dt={class:"ml-1"},Rt={class:"stat-value py-1"},Ot={class:"main-stat-area flex flex-column mt-2 pb-2"},Ft={class:"section-header py-1 mb-1"},Lt={class:"flex pl-1"},Ut={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Nt={class:"stat-block pr-2"},Ht={class:"ml-1"},jt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Jt={class:"stat-block pr-2"},Qt={class:"ml-1"},Xt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Zt={class:"stat-block pr-2"},Kt={class:"ml-1"},es=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ts={class:"section-header py-1 mb-1"},ss={class:"flex pl-1"},as={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ls={class:"stat-block pr-2"},is={class:"ml-1"},ns=z(()=>e("div",{class:"flex-grow-1"},null,-1)),os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ds={class:"stat-block pr-2"},ps={class:"ml-1"},ms=z(()=>e("div",{class:"flex-grow-1"},null,-1)),hs={class:"stat-block pr-2"},vs={class:"ml-1"},_s=z(()=>e("div",{class:"flex-grow-1"},null,-1)),gs={class:"lex flex-column"},fs={class:"section-header py-1 mb-1"},bs={class:"flex pl-1"},$s={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ys={class:"stat-block pr-2"},ks={class:"ml-1"},Ss=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Cs={class:"stat-block pr-2"},ws={class:"ml-1"},xs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),As={class:"stat-block pr-2"},Vs={class:"ml-1"},Ws=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Is={class:"stat-block pr-2"},qs={class:"ml-1"},Es=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ps={class:"stat-block pr-2"},Ts={class:"ml-1"},Ms=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ds={class:"stat-block pr-2"},Rs={class:"ml-1"},Os=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Fs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ls={class:"stat-block pr-2"},Us={class:"ml-1"},Ns=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Hs={class:"stat-block pr-2"},js={class:"ml-1"},Bs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),zs={class:"stat-block pr-2"},Gs={class:"ml-1"},Ys=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Js={class:"stat-block pr-2"},Qs={class:"ml-1"},Xs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Zs={class:"stat-block pr-2"},Ks={class:"ml-1"},ea=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ta={class:"stat-block pr-2"},sa={class:"ml-1"},aa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),la={class:"flex flex-column"},ia={class:"section-header py-1 mb-1"},na={class:"flex pl-1"},oa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ca={class:"stat-block pr-2"},ra={class:"ml-1"},ua=z(()=>e("div",{class:"flex-grow-1"},null,-1)),da={class:"stat-block pr-2"},pa={class:"ml-1"},ma=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ha={class:"stat-block pr-2"},va={class:"ml-1"},_a=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ga={class:"stat-block pr-2"},fa={class:"ml-1"},ba=z(()=>e("div",{class:"flex-grow-1"},null,-1)),$a={class:"stat-block pr-2"},ya={class:"ml-1"},ka=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Sa={class:"stat-block pr-2"},Ca={class:"ml-1"},wa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),xa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Aa={class:"stat-block pr-2"},Va={class:"ml-1"},Wa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ia={class:"stat-block pr-2"},qa={class:"ml-1"},Ea=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Pa={class:"stat-block pr-2"},Ta={class:"ml-1"},Ma=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Da={class:"stat-block pr-2"},Ra={class:"ml-1"},Oa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Fa={class:"stat-block pr-2"},La={class:"ml-1"},Ua=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Na={__name:"StatDisplay",setup(_){const u=re("currentCharacter"),{calcElemResistancePercentage:$}=Ye();return(a,y)=>{const m=P("p-image");return l(u)?(c(),p("div",pt,[e("div",mt,[e("div",ht,[e("div",vt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",_t,t(a.$t("constants.hp")),1)]),e("div",gt,t(l(u).healthPoints),1)]),e("div",ft,[e("div",bt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",$t,t(a.$t("characterSheet.statsDisplay.ar")),1)]),e("div",yt,t(l(u).armorPoints),1)]),e("div",kt,[e("div",St,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Ct,t(a.$t("constants.ap")),1)]),e("div",wt,t(l(u).actionPoints),1)]),e("div",xt,[e("div",At,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Vt,t(a.$t("constants.mp")),1)]),e("div",Wt,t(l(u).movementPoints),1)]),l(u).class===l(Te).huppermage.id?(c(),p("div",It,[e("div",qt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Et,t(a.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Pt,t(l(u).quadrumentalBreeze),1)])):(c(),p("div",Tt,[e("div",Mt,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Dt,t(a.$t("constants.wp")),1)]),e("div",Rt,t(l(u).wakfuPoints),1)]))]),e("div",Ot,[e("div",Ft,t(a.$t("constants.elementalMasteries")),1),e("div",Lt,[e("div",Ut,[e("div",Nt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Ht,t(a.$t("characterSheet.statsDisplay.water")),1),jt,e("span",null,t(l(u).masteries.water),1)]),e("div",Bt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",zt,t(a.$t("characterSheet.statsDisplay.air")),1),Gt,e("span",null,t(l(u).masteries.air),1)])]),e("div",Yt,[e("div",Jt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Qt,t(a.$t("characterSheet.statsDisplay.earth")),1),Xt,e("span",null,t(l(u).masteries.earth),1)]),e("div",Zt,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",Kt,t(a.$t("characterSheet.statsDisplay.fire")),1),es,e("span",null,t(l(u).masteries.fire),1)])])]),e("div",ts,t(a.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",ss,[e("div",as,[e("div",ls,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",is,t(a.$t("characterSheet.statsDisplay.water")),1),ns,e("span",null,t(l($)(l(u).resistances.water))+"% ("+t(l(u).resistances.water)+")",1)]),e("div",os,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",cs,t(a.$t("characterSheet.statsDisplay.air")),1),rs,e("span",null,t(l($)(l(u).resistances.air))+"% ("+t(l(u).resistances.air)+")",1)])]),e("div",us,[e("div",ds,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ps,t(a.$t("characterSheet.statsDisplay.earth")),1),ms,e("span",null,t(l($)(l(u).resistances.earth))+"% ("+t(l(u).resistances.earth)+")",1)]),e("div",hs,[s(m,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",vs,t(a.$t("characterSheet.statsDisplay.fire")),1),_s,e("span",null,t(l($)(l(u).resistances.fire))+"% ("+t(l(u).resistances.fire)+")",1)])])]),e("div",gs,[e("div",fs,t(a.$t("characterSheet.statsDisplay.battle")),1),e("div",bs,[e("div",$s,[e("div",ys,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",ks,t(a.$t("constants.damageInflicted")),1),Ss,e("span",null,t(l(u).stats.damageInflicted)+"%",1)]),e("div",Cs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",ws,t(a.$t("characterSheet.statsDisplay.criticalHit")),1),xs,e("span",null,t(l(u).stats.criticalHit)+"%",1)]),e("div",As,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Vs,t(a.$t("constants.initiative")),1),Ws,e("span",null,t(l(u).stats.initiative),1)]),e("div",Is,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",qs,t(a.$t("constants.dodge")),1),Es,e("span",null,t(l(u).stats.dodge),1)]),e("div",Ps,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Ts,t(a.$t("constants.wisdom")),1),Ms,e("span",null,t(l(u).stats.wisdom),1)]),e("div",Ds,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Rs,t(a.$t("constants.control")),1),Os,e("span",null,t(l(u).stats.control),1)])]),e("div",Fs,[e("div",Ls,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Us,t(a.$t("constants.healsPerformed")),1),Ns,e("span",null,t(l(u).stats.healsPerformed)+"%",1)]),e("div",Hs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",js,t(a.$t("characterSheet.statsDisplay.block")),1),Bs,e("span",null,t(l(u).stats.block)+"%",1)]),e("div",zs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Gs,t(a.$t("constants.range")),1),Ys,e("span",null,t(l(u).stats.range),1)]),e("div",Js,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Qs,t(a.$t("constants.lock")),1),Xs,e("span",null,t(l(u).stats.lock),1)]),e("div",Zs,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",Ks,t(a.$t("constants.prospecting")),1),ea,e("span",null,t(l(u).stats.prospecting),1)]),e("div",ta,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",sa,t(a.$t("constants.forceOfWill")),1),aa,e("span",null,t(l(u).stats.forceOfWill),1)])])])]),e("div",la,[e("div",ia,t(a.$t("characterSheet.statsDisplay.secondary")),1),e("div",na,[e("div",oa,[e("div",ca,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ra,t(a.$t("constants.criticalMastery")),1),ua,e("span",null,t(l(u).masteries.critical),1)]),e("div",da,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",pa,t(a.$t("constants.rearMastery")),1),ma,e("span",null,t(l(u).masteries.rear),1)]),e("div",ha,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",va,t(a.$t("constants.meleeMastery")),1),_a,e("span",null,t(l(u).masteries.melee),1)]),e("div",ga,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",fa,t(a.$t("constants.distanceMastery")),1),ba,e("span",null,t(l(u).masteries.distance),1)]),e("div",$a,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",ya,t(a.$t("constants.healingMastery")),1),ka,e("span",null,t(l(u).masteries.healing),1)]),e("div",Sa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Ca,t(a.$t("constants.berserkMastery")),1),wa,e("span",null,t(l(u).masteries.berserk),1)])]),e("div",xa,[e("div",Aa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Va,t(a.$t("constants.criticalResistance")),1),Wa,e("span",null,t(l(u).resistances.critical),1)]),e("div",Ia,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",qa,t(a.$t("constants.rearResistance")),1),Ea,e("span",null,t(l(u).resistances.rear),1)]),e("div",Pa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Ta,t(a.$t("constants.armorGiven")),1),Ma,e("span",null,t(l(u).stats.armorGiven)+"%",1)]),e("div",Da,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Ra,t(a.$t("characterSheet.statsDisplay.armorReceived")),1),Oa,e("span",null,t(l(u).stats.armorReceived)+"%",1)]),e("div",Fa,[s(m,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",La,t(a.$t("characterSheet.statsDisplay.indirectDamage")),1),Ua,e("span",null,t(l(u).stats.indirectDamage)+"%",1)])])])])])])):ae("",!0)}}},Ha=ue(Na,[["__scopeId","data-v-0d2a0c48"]]);const ja=_=>(de("data-v-c1799ab4"),_=_(),pe(),_),Ba={class:"flex align-items-center my-1"},za={class:"entry-label ml-2"},Ga=ja(()=>e("div",{class:"flex-grow-1"},null,-1)),Ya={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(_){return(u,$)=>{const a=P("p-image"),y=P("p-inputNumber");return c(),p("div",Ba,[s(a,{src:_.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",za,t(_.label),1),Ga,s(y,Me(u.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(_.maxOverride,_.remainingPoints+u.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:_.updateFunction}),null,16,["max","onInput"])])}}},G=ue(Ya,[["__scopeId","data-v-c1799ab4"]]);const Ve=_=>(de("data-v-c6d9199c"),_=_(),pe(),_),Ja={class:"flex flex-column h-full"},Qa={class:"characteristic-panels flex pb-3"},Xa={class:"flex flex-column flex-grow-1 mr-1"},Za={class:"characteristics-category-header px-2 py-2"},Ka=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),el={class:"flex flex-column px-2 py-1"},tl={class:"characteristics-category-header px-2 py-2"},sl=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),al={class:"flex flex-column px-2 py-1"},ll={class:"characteristics-category-header px-2 py-2"},il=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),nl={class:"flex flex-column px-2 py-1"},ol={class:"flex flex-column flex-grow-1 ml-1"},cl={class:"characteristics-category-header px-2 py-2"},rl=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),ul={class:"flex flex-column px-2 py-1"},dl={class:"characteristics-category-header px-2 py-2"},pl=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),ml={class:"flex flex-column px-2 py-1"},hl={__name:"CharacteristicsTabContent",setup(_,{expose:u}){const $=re("masterData"),a=re("currentCharacter"),y=k(!1),m=ce(()=>y.value?10:1);tt(()=>{document.addEventListener("keydown",n=>{U(n)}),document.addEventListener("keyup",n=>{U(n)})});const U=n=>{n.shiftKey?y.value=!0:y.value=!1},F=k(a.value.characteristics.intelligence.percentHealthPoints),R=k(a.value.characteristics.intelligence.elementalResistance),V=k(a.value.characteristics.intelligence.barrier),N=k(a.value.characteristics.intelligence.percentHealsReceived),X=k(a.value.characteristics.intelligence.percentArmorHeathPoints),I=k(a.value.characteristics.strength.elementalMastery),T=k(a.value.characteristics.strength.meleeMastery),O=k(a.value.characteristics.strength.distanceMastery),M=k(a.value.characteristics.strength.healthPoints),b=k(a.value.characteristics.agility.lock),Y=k(a.value.characteristics.agility.dodge),ee=k(a.value.characteristics.agility.initiative),h=k(a.value.characteristics.agility.lockAndDodge),C=k(a.value.characteristics.agility.forceOfWill),H=k(a.value.characteristics.fortune.percentCriticalHit),Q=k(a.value.characteristics.fortune.percentBlock),Z=k(a.value.characteristics.fortune.criticalMastery),f=k(a.value.characteristics.fortune.rearMastery),i=k(a.value.characteristics.fortune.berserkMastery),g=k(a.value.characteristics.fortune.healingMastery),E=k(a.value.characteristics.fortune.rearResistance),w=k(a.value.characteristics.fortune.criticalResistance),W=k(a.value.characteristics.major.actionPoints),q=k(a.value.characteristics.major.movementPointsAndDamage),K=k(a.value.characteristics.major.rangeAndDamage),ie=k(a.value.characteristics.major.wakfuPoints),x=k(a.value.characteristics.major.controlAndDamage),D=k(a.value.characteristics.major.percentDamageInflicted),r=k(a.value.characteristics.major.elementalResistance),v=n=>{let o=0;return n==="intelligence"?o=F.value+R.value+V.value+N.value+X.value:n==="strength"?o=I.value+T.value+O.value+M.value:n==="agility"?o=b.value+Y.value+ee.value+h.value+C.value:n==="fortune"?o=H.value+Q.value+Z.value+f.value+i.value+g.value+E.value+w.value:n==="major"&&(o=W.value+q.value+K.value+ie.value+x.value+D.value+r.value),a.value.characteristics.limits[n]-o},B=()=>{a.value.characteristics.intelligence.percentHealthPoints=F.value,a.value.characteristics.intelligence.elementalResistance=R.value,a.value.characteristics.intelligence.barrier=V.value,a.value.characteristics.intelligence.percentHealsReceived=N.value,a.value.characteristics.intelligence.percentArmorHeathPoints=X.value,a.value.characteristics.strength.elementalMastery=I.value,a.value.characteristics.strength.meleeMastery=T.value,a.value.characteristics.strength.distanceMastery=O.value,a.value.characteristics.strength.healthPoints=M.value,a.value.characteristics.agility.lock=b.value,a.value.characteristics.agility.dodge=Y.value,a.value.characteristics.agility.initiative=ee.value,a.value.characteristics.agility.lockAndDodge=h.value,a.value.characteristics.agility.forceOfWill=C.value,a.value.characteristics.fortune.percentCriticalHit=H.value,a.value.characteristics.fortune.percentBlock=Q.value,a.value.characteristics.fortune.criticalMastery=Z.value,a.value.characteristics.fortune.rearMastery=f.value,a.value.characteristics.fortune.berserkMastery=i.value,a.value.characteristics.fortune.healingMastery=g.value,a.value.characteristics.fortune.rearResistance=E.value,a.value.characteristics.fortune.criticalResistance=w.value,a.value.characteristics.major.actionPoints=W.value,a.value.characteristics.major.movementPointsAndDamage=q.value,a.value.characteristics.major.rangeAndDamage=K.value,a.value.characteristics.major.wakfuPoints=ie.value,a.value.characteristics.major.controlAndDamage=x.value,a.value.characteristics.major.percentDamageInflicted=D.value,a.value.characteristics.major.elementalResistance=r.value};$e($,Je.debounce(()=>{F.value=a.value.characteristics.intelligence.percentHealthPoints,R.value=a.value.characteristics.intelligence.elementalResistance,V.value=a.value.characteristics.intelligence.barrier,N.value=a.value.characteristics.intelligence.percentHealsReceived,X.value=a.value.characteristics.intelligence.percentArmorHeathPoints,I.value=a.value.characteristics.strength.elementalMastery,T.value=a.value.characteristics.strength.meleeMastery,O.value=a.value.characteristics.strength.distanceMastery,M.value=a.value.characteristics.strength.healthPoints,b.value=a.value.characteristics.agility.lock,Y.value=a.value.characteristics.agility.dodge,ee.value=a.value.characteristics.agility.initiative,h.value=a.value.characteristics.agility.lockAndDodge,C.value=a.value.characteristics.agility.forceOfWill,H.value=a.value.characteristics.fortune.percentCriticalHit,Q.value=a.value.characteristics.fortune.percentBlock,Z.value=a.value.characteristics.fortune.criticalMastery,f.value=a.value.characteristics.fortune.rearMastery,i.value=a.value.characteristics.fortune.berserkMastery,g.value=a.value.characteristics.fortune.healingMastery,E.value=a.value.characteristics.fortune.rearResistance,w.value=a.value.characteristics.fortune.criticalResistance,W.value=a.value.characteristics.major.actionPoints,q.value=a.value.characteristics.major.movementPointsAndDamage,K.value=a.value.characteristics.major.rangeAndDamage,ie.value=a.value.characteristics.major.wakfuPoints,x.value=a.value.characteristics.major.controlAndDamage,D.value=a.value.characteristics.major.percentDamageInflicted,r.value=a.value.characteristics.major.elementalResistance},100));const Oe=ce(()=>v("intelligence")<0||v("strength")<0||v("agility")<0||v("fortune")<0||v("major")<0);return u({hasCharacteristicsError:Oe}),(n,o)=>{var ne,me,_e,qe,Ee,ke,Se,Ce,we,S,he,He,je,Be,ze;return c(),p("div",Ja,[e("div",Qa,[e("div",Xa,[e("div",{class:se(["category-wrapper flex flex-column",{error:v("intelligence")<0}])},[e("div",Za,[e("span",null,t(n.$t("characterSheet.characteristicsContent.intelligence")),1),Ka,e("span",null,t(v("intelligence"))+"/"+t((_e=(me=(ne=l(a))==null?void 0:ne.characteristics)==null?void 0:me.limits)==null?void 0:_e.intelligence)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",el,[s(G,{modelValue:F.value,"onUpdate:modelValue":o[0]||(o[0]=A=>F.value=A),label:n.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":v("intelligence"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:R.value,"onUpdate:modelValue":o[1]||(o[1]=A=>R.value=A),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":v("intelligence"),"update-function":B,"max-override":10,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:V.value,"onUpdate:modelValue":o[2]||(o[2]=A=>V.value=A),label:n.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":v("intelligence"),"update-function":B,"max-override":10,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:N.value,"onUpdate:modelValue":o[3]||(o[3]=A=>N.value=A),label:n.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":v("intelligence"),"update-function":B,"max-override":5,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:X.value,"onUpdate:modelValue":o[4]||(o[4]=A=>X.value=A),label:n.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":v("intelligence"),"update-function":B,"max-override":10,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:se(["category-wrapper flex flex-column mt-2",{error:v("strength")<0}])},[e("div",tl,[e("span",null,t(n.$t("characterSheet.characteristicsContent.strength")),1),sl,e("span",null,t(v("strength"))+"/"+t((ke=(Ee=(qe=l(a))==null?void 0:qe.characteristics)==null?void 0:Ee.limits)==null?void 0:ke.strength)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",al,[s(G,{modelValue:I.value,"onUpdate:modelValue":o[5]||(o[5]=A=>I.value=A),label:n.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":v("strength"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:T.value,"onUpdate:modelValue":o[6]||(o[6]=A=>T.value=A),label:n.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":v("strength"),"update-function":B,"max-override":40,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:O.value,"onUpdate:modelValue":o[7]||(o[7]=A=>O.value=A),label:n.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":v("strength"),"update-function":B,"max-override":40,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:M.value,"onUpdate:modelValue":o[8]||(o[8]=A=>M.value=A),label:n.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":v("strength"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:se(["category-wrapper flex flex-column mt-2",{error:v("agility")<0}])},[e("div",ll,[e("span",null,t(n.$t("characterSheet.characteristicsContent.agility")),1),il,e("span",null,t(v("agility"))+"/"+t((we=(Ce=(Se=l(a))==null?void 0:Se.characteristics)==null?void 0:Ce.limits)==null?void 0:we.agility)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",nl,[s(G,{modelValue:b.value,"onUpdate:modelValue":o[9]||(o[9]=A=>b.value=A),label:n.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":v("agility"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:Y.value,"onUpdate:modelValue":o[10]||(o[10]=A=>Y.value=A),label:n.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":v("agility"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:ee.value,"onUpdate:modelValue":o[11]||(o[11]=A=>ee.value=A),label:n.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":v("agility"),"update-function":B,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:h.value,"onUpdate:modelValue":o[12]||(o[12]=A=>h.value=A),label:n.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":v("agility"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:C.value,"onUpdate:modelValue":o[13]||(o[13]=A=>C.value=A),label:n.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":v("agility"),"update-function":B,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",ol,[e("div",{class:se(["category-wrapper flex flex-column flex-grow-1",{error:v("fortune")<0}])},[e("div",cl,[e("span",null,t(n.$t("characterSheet.characteristicsContent.fortune")),1),rl,e("span",null,t(v("fortune"))+"/"+t((He=(he=(S=l(a))==null?void 0:S.characteristics)==null?void 0:he.limits)==null?void 0:He.fortune)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ul,[s(G,{modelValue:H.value,"onUpdate:modelValue":o[14]||(o[14]=A=>H.value=A),label:n.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":v("fortune"),"update-function":B,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:Q.value,"onUpdate:modelValue":o[15]||(o[15]=A=>Q.value=A),label:n.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":v("fortune"),"update-function":B,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:Z.value,"onUpdate:modelValue":o[16]||(o[16]=A=>Z.value=A),label:n.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":v("fortune"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:f.value,"onUpdate:modelValue":o[17]||(o[17]=A=>f.value=A),label:n.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":v("fortune"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:i.value,"onUpdate:modelValue":o[18]||(o[18]=A=>i.value=A),label:n.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":v("fortune"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:g.value,"onUpdate:modelValue":o[19]||(o[19]=A=>g.value=A),label:n.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":v("fortune"),"update-function":B,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:E.value,"onUpdate:modelValue":o[20]||(o[20]=A=>E.value=A),label:n.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":v("fortune"),"update-function":B,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:w.value,"onUpdate:modelValue":o[21]||(o[21]=A=>w.value=A),label:n.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":v("fortune"),"update-function":B,"max-override":20,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:se(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:v("major")<0}])},[e("div",dl,[e("span",null,t(n.$t("characterSheet.characteristicsContent.major")),1),pl,e("span",null,t(v("major"))+"/"+t((ze=(Be=(je=l(a))==null?void 0:je.characteristics)==null?void 0:Be.limits)==null?void 0:ze.major)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ml,[s(G,{modelValue:W.value,"onUpdate:modelValue":o[22]||(o[22]=A=>W.value=A),label:n.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:q.value,"onUpdate:modelValue":o[23]||(o[23]=A=>q.value=A),label:n.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:K.value,"onUpdate:modelValue":o[24]||(o[24]=A=>K.value=A),label:n.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:ie.value,"onUpdate:modelValue":o[25]||(o[25]=A=>ie.value=A),label:n.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:x.value,"onUpdate:modelValue":o[26]||(o[26]=A=>x.value=A),label:n.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:D.value,"onUpdate:modelValue":o[27]||(o[27]=A=>D.value=A),label:n.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:r.value,"onUpdate:modelValue":o[28]||(o[28]=A=>r.value=A),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":v("major"),"update-function":B,"max-override":1,step:m.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},vl=ue(hl,[["__scopeId","data-v-c6d9199c"]]);const Ke=_=>(de("data-v-f117c1a1"),_=_(),pe(),_),_l={class:"flex align-items-center flex-wrap mt-3"},gl={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},fl={class:"checkmarks-container flex gap-2"},bl={class:"rarity-container mt-2"},$l={class:"flex align-items-center mb-1"},yl=Ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),kl={class:"simple-tooltip"},Sl={class:"mr-2 ml-1"},Cl={class:"rarity-button-wrapper"},wl={class:"flex justify-content-center align-items-center"},xl={class:"simple-tooltip"},Al={class:"item-types-container mt-2"},Vl={class:"flex align-items-center justify-content-center mb-1 w-full"},Wl=Ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Il={class:"simple-tooltip"},ql={class:"mr-2 ml-1"},El={class:"simple-tooltip"},Pl={class:"item-types-button-wrapper"},Tl={class:"filter-category-wrapper"},Ml={class:"flex justify-content-center align-items-center"},Dl={class:"simple-tooltip"},Rl={class:"filter-category-wrapper"},Ol={class:"flex justify-content-center align-items-center"},Fl={class:"simple-tooltip"},Ll={class:"filter-category-wrapper"},Ul={class:"flex justify-content-center align-items-center"},Nl={class:"simple-tooltip"},Hl={class:"filter-list-wrapper mt-3"},jl={class:"px-2 py-1"},Bl={class:"px-2 py-1"},zl={__name:"ItemFilters",setup(_){const u=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],a=[L.healthPoints.id,L.healingMastery.id,L.actionPoints.id,L.movementPoints.id,L.rearResistance.id,L.elementalResistance.id,L.fireResistance.id,L.waterResistance.id,L.earthResistance.id,L.airResistance.id,L.elementalMastery.id,L.fireMastery.id,L.earthMastery.id,L.waterMastery.id,L.airMastery.id,L.criticalMastery.id,L.criticalHit.id,L.range.id,L.prospecting.id,L.wisdom.id,L.initiative.id,L.lock.id,L.dodge.id,L.forceOfWill.id,L.rearMastery.id,L.control.id,L.wakfuPoints.id,L.percentBlock.id,L.criticalResistance.id,L.meleeMastery.id,L.distanceMastery.id,L.berserkMastery.id,L.randomElementalMasteries.id,L.randomElementalResistances.id,L.harvestingQuantity.id].map(i=>({value:i,text:L[i].text})),y=re("itemFilters"),m=k(""),U=k([y.startLevel,y.endLevel]),F=k([]),R=k(y.rarityFilters),V=k(y.itemTypeFilters),N=k(!1),X=()=>{b()},I=(i,g)=>{g==="min"&&(U.value[0]=i.value),g==="max"&&(U.value[1]=i.value),b()},T=()=>{b()},O=(i,g)=>{i.ctrlKey&&y.itemTypeFilters.forEach(E=>{E.id!==g?E.checked=!1:E.checked=!0}),b()},M=(i,g)=>{i.ctrlKey&&y.rarityFilters.forEach(E=>{E.id!==g?E.checked=!1:E.checked=!0}),b()},b=Je.debounce(i=>{var g;y.searchTerm=m.value,y.startLevel=U.value[0],y.endLevel=U.value[1],y.effectFilters=F.value,y.rarityFilters=R.value,i&&((g=i.rawIds)!=null&&g.length)?Y(i):y.itemTypeFilters=V.value},100),Y=i=>{i.rawIds.forEach(g=>{let E=V.value.find(w=>w.rawId===g);E.checked=i.checked})},ee=()=>{let i={type:a[0],comparator:u[2],value:0};F.value.push(i),b()},h=i=>{let g=F.value.indexOf(i);F.value.splice(g,1),b()},C=()=>{y.resetFilters(),m.value=y.searchTerm,U.value[0]=y.startLevel,U.value[1]=y.endLevel,F.value=y.effectFilters,R.value=y.rarityFilters,V.value=y.itemTypeFilters},H=()=>{y.rarityFilters.forEach(i=>{i.checked=!0}),b()},Q=()=>{y.rarityFilters.forEach(i=>{i.checked=!1}),b()},Z=()=>{y.itemTypeFilters.forEach(i=>{i.checked=!0}),b()},f=()=>{y.itemTypeFilters.forEach(i=>{i.checked=!1}),b()};return(i,g)=>{const E=P("p-inputText"),w=P("p-inputNumber"),W=P("p-slider"),q=P("p-button"),K=P("tippy"),ie=P("p-image"),x=P("p-checkbox"),D=P("p-dropdown");return c(),p(J,null,[e("div",_l,[s(E,{modelValue:m.value,"onUpdate:modelValue":g[0]||(g[0]=r=>m.value=r),placeholder:i.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:X},null,8,["modelValue","placeholder"]),e("div",gl,[s(w,{modelValue:U.value[0],"onUpdate:modelValue":g[1]||(g[1]=r=>U.value[0]=r),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:g[2]||(g[2]=r=>I(r,"min"))},null,8,["modelValue"]),s(W,{modelValue:U.value,"onUpdate:modelValue":g[3]||(g[3]=r=>U.value=r),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:T},null,8,["modelValue"]),s(w,{modelValue:U.value[1],"onUpdate:modelValue":g[4]||(g[4]=r=>U.value[1]=r),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:g[5]||(g[5]=r=>I(r,"max"))},null,8,["modelValue"])]),s(q,{class:"filter-button",label:i.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:C},null,8,["label"])]),e("div",fl,[e("div",bl,[e("div",$l,[s(q,{class:"filter-button item-filter-action mr-2",label:i.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:H},null,8,["label"]),s(K,{placement:"top"},{content:d(()=>[e("div",kl,t(i.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[yl]),_:1}),e("div",Sl,t(i.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(q,{class:"filter-button item-filter-action",label:i.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:Q},null,8,["label"])]),e("div",Cl,[(c(!0),p(J,null,le(R.value,r=>(c(),te(K,{key:r.id,duration:"0"},{content:d(()=>[e("div",xl,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":v=>r.checked=v,binary:!0,class:"rarity-checkbox",onChange:v=>M(v,r.id)},{icon:d(v=>[e("div",wl,[s(ie,{class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${r.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Al,[e("div",Vl,[s(q,{class:"filter-button item-filter-action mr-2",label:i.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:Z},null,8,["label"]),s(K,{placement:"top"},{content:d(()=>[e("div",Il,t(i.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Wl]),_:1}),e("div",ql,t(i.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(K,null,{content:d(()=>[e("div",El,t(i.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:d(()=>[s(x,{modelValue:N.value,"onUpdate:modelValue":g[6]||(g[6]=r=>N.value=r),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(q,{class:"filter-button item-filter-action",label:i.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:f},null,8,["label"])]),e("div",Pl,[e("div",Tl,[(c(!0),p(J,null,le(V.value.filter(r=>r.category==="armor"),r=>(c(),p(J,{key:r.id},[!r.advanced||N.value?(c(),te(K,{key:0,duration:"0"},{content:d(()=>[e("div",Dl,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":v=>r.checked=v,binary:!0,class:"item-type-checkbox",onChange:v=>O(v,r.id)},{icon:d(v=>[e("div",Ml,[r.rawId?(c(),te(ie,{key:0,class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),te(ie,{key:1,class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",Rl,[(c(!0),p(J,null,le(V.value.filter(r=>r.category==="weapons"),r=>(c(),p(J,{key:r.id},[!r.advanced||N.value?(c(),te(K,{key:0,duration:"0"},{content:d(()=>[e("div",Fl,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":v=>r.checked=v,binary:!0,class:"item-type-checkbox",onChange:v=>l(b)(r)},{icon:d(v=>[e("div",Ol,[r.rawId?(c(),te(ie,{key:0,class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),te(ie,{key:1,class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",Ll,[(c(!0),p(J,null,le(V.value.filter(r=>r.category==="miscellaneous"),r=>(c(),p(J,{key:r.id},[!r.advanced||N.value?(c(),te(K,{key:0,duration:"0"},{content:d(()=>[e("div",Nl,t(i.$t(r.name)),1)]),default:d(()=>[s(x,{modelValue:r.checked,"onUpdate:modelValue":v=>r.checked=v,binary:!0,class:"item-type-checkbox",onChange:l(b)},{icon:d(v=>[e("div",Ul,[r.rawId?(c(),te(ie,{key:0,class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),te(ie,{key:1,class:se({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))])])])]),e("div",Hl,[s(q,{icon:"pi pi-plus",class:"filter-button",label:i.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:ee},null,8,["label"]),(c(!0),p(J,null,le(F.value,r=>(c(),p("div",{key:r.id,class:"filter-entry"},[s(D,{modelValue:r.type,"onUpdate:modelValue":v=>r.type=v,class:"filter-type-dropdown",options:l(a),filter:"","auto-filter-focus":"","option-label":"text",onChange:l(b)},{value:d(v=>[oe(t(i.$t(v.value.text)),1)]),option:d(v=>[e("div",jl,t(i.$t(v.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(D,{modelValue:r.comparator,"onUpdate:modelValue":v=>r.comparator=v,class:"filter-comparator-dropdown",options:u,"option-label":"text",onChange:l(b)},{value:d(v=>[oe(t(v.value.symbol),1)]),option:d(v=>[e("div",Bl,t(i.$t(v.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(w,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:"filter-value-input","allow-empty":!1,onInput:l(b)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(q,{class:"remove-filter-button",icon:"pi pi-trash",onClick:v=>h(r)},null,8,["onClick"])]))),128))])],64)}}},Gl=ue(zl,[["__scopeId","data-v-f117c1a1"]]);const Re=_=>(de("data-v-25f42264"),_=_(),pe(),_),Yl={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Jl={class:"flex align-items-center"},Ql={class:"px-2 py-1"},Xl={class:"px-2 py-1"},Zl=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),Kl={class:"ml-2"},ei=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),ti={class:"mr-1"},si={key:0,class:"flex"},ai={key:0,class:"item-card with-stats"},li={class:"flex px-2 pt-2"},ii={class:"flex flex-column ml-1"},ni={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},oi={class:"flex"},ci={key:0},ri={key:1},ui={key:2,class:"ml-1"},di=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),pi={class:"flex flex-column gap-1"},mi={class:"item-card"},hi={class:"flex px-2 pt-2"},vi={class:"flex flex-column ml-1"},_i={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},gi={class:"flex"},fi={key:0},bi={key:1},$i={key:2,class:"ml-1"},yi=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),ki={class:"flex flex-column gap-1"},Si={class:"simple-tooltip"},Ci={key:0,class:"item-card-tooltip"},wi={class:"effect-header flex pt-2 px-1"},xi={class:"flex flex-column ml-1"},Ai={class:"item-name mr-2"},Vi={class:"flex"},Wi={key:0},Ii={key:1},qi={key:2,class:"ml-1"},Ei={key:1},Pi={__name:"EquipmentTabContent",setup(_,{expose:u}){const $=Ue(),{t:a}=Ne(),y=re("currentCharacter"),m=re("currentItemList"),U=re("itemFilters"),F=k(null),R=k(4),{getNumTotalItems:V}=De();let N=document;const{getItemEncyclopediaUrl:X}=Ze(),I=()=>{R.value=Math.floor((F.value.clientWidth-16)/(M.value?310+5:230+5))};window.addEventListener("resize",I);let T=ce(()=>{let h=[],C=[];return m.value.forEach(H=>{C.length===R.value?(h.push(C),C=[H]):C.push(H)}),C.length>0&&h.push(C),h.length===0&&h.push([]),h});const O=k(!1),M=k(!1),b=()=>{O.value=!0,xe(()=>{I()})};$e(M,()=>{xe(()=>{O.value=!1,xe(()=>{O.value=!0,xe(()=>{I()})})})});const Y=(h,C)=>{let H=h.type.validSlots.includes(j.LEFT_HAND.id)||h.type.validSlots.includes(j.RIGHT_HAND.id),Q=h.type.disabledSlots.includes(j.SECOND_WEAPON.id)&&y.value.equipment[j.SECOND_WEAPON.id]!==null,Z=h.type.validSlots[0]===j.SECOND_WEAPON.id&&y.value.equipment[j.FIRST_WEAPON.id]!==null&&y.value.equipment[j.FIRST_WEAPON.id].type.disabledSlots.includes(j.SECOND_WEAPON.id),f=!1,i=null,g=!1,E=null;Object.keys(y.value.equipment).forEach(q=>{h.rarity===5&&y.value.equipment[q]!==null&&y.value.equipment[q].rarity===5&&(f=!0,i=q),h.rarity===7&&y.value.equipment[q]!==null&&y.value.equipment[q].rarity===7&&(g=!0,E=q)});let w=null;f&&(w=a("characterSheet.equipmentContent.hasRelicWarning")),g&&(w=a("characterSheet.equipmentContent.hasEpicWarning")),Q&&(w=a("characterSheet.equipmentContent.twoHandedWeaponWarning")),Z&&(w=a("characterSheet.equipmentContent.secondWeaponWarning")),f&&Q&&(w=a("characterSheet.equipmentContent.relicAndTwoHandedWarning")),f&&Z&&(w=a("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),g&&Q&&(w=a("characterSheet.equipmentContent.epicAndTwoHandedWarning")),g&&Z&&(w=a("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),Q||Z||f||g?$.require({group:"popup",target:C.currentTarget,message:w,accept:()=>{H&&(y.value.equipment[j.LEFT_HAND.id]===null?y.value.equipment[j.LEFT_HAND.id]=h:y.value.equipment[j.RIGHT_HAND.id]=h),Q&&(y.value.equipment[j.FIRST_WEAPON.id]=h,y.value.equipment[j.SECOND_WEAPON.id]=null),Z&&(y.value.equipment[j.FIRST_WEAPON.id]=null,y.value.equipment[j.SECOND_WEAPON.id]=h),f&&(y.value.equipment[i]=null,y.value.equipment[h.type.validSlots[0]]=h),g&&(y.value.equipment[E]=null,y.value.equipment[h.type.validSlots[0]]=h)}}):H?y.value.equipment[j.LEFT_HAND.id]===null?y.value.equipment[j.LEFT_HAND.id]=h:y.value.equipment[j.RIGHT_HAND.id]=h:h.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",h.type):y.value.equipment[h.type.validSlots[0]]=h},ee=h=>{let C=X(h);window.open(C,"_blank")};return u({showList:b}),(h,C)=>{const H=P("p-divider"),Q=P("p-dropdown"),Z=P("p-checkbox"),f=P("p-image"),i=P("p-button"),g=P("tippy"),E=P("p-virtualScroller");return c(),p("div",Yl,[s(Xe,{character:l(y)},null,8,["character"]),s(Gl),s(H,{class:"mt-3 mb-2"}),e("div",Jl,[e("div",null,t(h.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(Q,{modelValue:l(U).sortBy,"onUpdate:modelValue":C[0]||(C[0]=w=>l(U).sortBy=w),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:l(st)},{value:d(w=>[oe(t(h.$t(w.value.label)),1)]),option:d(w=>[e("div",Ql,t(h.$t(w.option.label)),1)]),_:1},8,["modelValue","options"]),s(Q,{modelValue:l(U).sortOrder,"onUpdate:modelValue":C[1]||(C[1]=w=>l(U).sortOrder=w),class:"sort-dropdown ml-2","option-label":"label",options:l(at)},{value:d(w=>[oe(t(h.$t(w.value.label)),1)]),option:d(w=>[e("div",Xl,t(h.$t(w.option.label)),1)]),_:1},8,["modelValue","options"]),Zl,e("div",Kl,t(l(m).length)+" "+t(h.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(l(V)())+" "+t(h.$t("characterSheet.equipmentContent.itemsTotal")),1),ei,e("span",ti,t(h.$t("characterSheet.equipmentContent.displayStats")),1),s(Z,{modelValue:M.value,"onUpdate:modelValue":C[2]||(C[2]=w=>M.value=w),binary:!0},null,8,["modelValue"])]),O.value?(c(),p("div",{key:0,ref_key:"itemResultsWrapper",ref:F,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(E,{items:l(T),"item-size":[M.value?215:65,M.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:d(({item:w})=>[l(T)[0].length>0?(c(),p("div",si,[(c(!0),p(J,null,le(w,(W,q)=>(c(),p(J,{key:q},[M.value&&W?(c(),p("div",ai,[e("div",li,[s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${W.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ii,[e("div",ni,t(h.$t(`items.${W.id}`)),1),e("div",oi,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${W.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${W.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(W.type.id)?(c(),p("div",ci,t(h.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),p("div",ri,"Lvl: "+t(W.level),1)),W.type.validSlots[0]===l(j).FIRST_WEAPON.id?(c(),p("div",ui,t(W.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),di,e("div",pi,[s(i,{icon:"pi pi-plus",class:"equip-button",onClick:K=>Y(W,K)},null,8,["onClick"]),s(i,{icon:"pi pi-question-circle",class:"equip-button",onClick:K=>ee(W)},null,8,["onClick"])])]),s(Le,{"card-mode":"",item:W},null,8,["item"])])):(c(),te(g,{key:1,delay:[0,0],duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(N).body},{content:d(()=>[W?(c(),p("div",Ci,[e("div",wi,[s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${W.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",xi,[e("div",Ai,t(h.$t(`items.${W.id}`)),1),e("div",Vi,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${W.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${W.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(W.type.id)?(c(),p("div",Wi,t(h.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),p("div",Ii,"Lvl: "+t(W.level),1)),W.type.validSlots[0]===l(j).FIRST_WEAPON.id?(c(),p("div",qi,t(W.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])])]),s(Le,{item:W},null,8,["item"])])):ae("",!0)]),default:d(()=>[e("div",mi,[e("div",hi,[s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${W.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",vi,[e("div",_i,t(h.$t(`items.${W.id}`)),1),e("div",gi,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${W.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${W.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(W.type.id)?(c(),p("div",fi,t(h.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),p("div",bi,"Lvl: "+t(W.level),1)),W.type.validSlots[0]===l(j).FIRST_WEAPON.id?(c(),p("div",$i,t(W.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),yi,e("div",ki,[s(i,{icon:"pi pi-plus",class:"equip-button",onClick:K=>Y(W,K)},null,8,["onClick"]),s(g,{placement:"left"},{content:d(()=>[e("div",Si,t(h.$t("characterSheet.equipmentContent.openEncyclopediaPage")),1)]),default:d(()=>[s(i,{icon:"pi pi-question-circle",class:"equip-button",onClick:K=>ee(W)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1032,["append-to"]))],64))),128))])):(c(),p("div",Ei,t(h.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):ae("",!0)])}}},Ti=ue(Pi,[["__scopeId","data-v-25f42264"]]);const ve=_=>(de("data-v-22a133ae"),_=_(),pe(),_),Mi={class:"w-full h-full"},Di=ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ri={class:"simple-tooltip"},Oi={class:"flex mt-2"},Fi={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Li={class:"disabled-mask"},Ui=ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Ni={key:1,class:"spell-button disabled"},Hi={class:"disabled-mask"},ji={class:"mt-3"},Bi=ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),zi={class:"simple-tooltip"},Gi={class:"flex mt-2"},Yi={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Ji={key:0},Qi=["onClick"],Xi=ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Zi={class:"spell-tooltip"},Ki={class:"spell-name px-2 py-1"},en={class:"spell-description px-2 py-1"},tn=["innerHTML"],sn={key:0,class:"spell-unlock-number"},an={class:"flex flex-wrap gap-1"},ln=["onClick"],nn=ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),on=ve(()=>e("div",{class:"disabled-mask"},null,-1)),cn={key:0,class:"spell-unlock-number"},rn={class:"spell-tooltip"},un={class:"spell-name px-2 py-1"},dn={class:"spell-description px-2 py-1"},pn=["innerHTML"],mn={class:"flex flex-wrap gap-1"},hn=["onClick"],vn=ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),_n=ve(()=>e("div",{class:"disabled-mask"},null,-1)),gn={key:0,class:"spell-unlock-number"},fn={class:"spell-tooltip"},bn={class:"spell-name px-2 py-1"},$n={class:"spell-description px-2 py-1"},yn=["innerHTML"],kn={__name:"SpellTabContent",setup(_){const u=re("currentCharacter"),{getClassPassiveSpells:$,getSpellHtml:a,getSpellLevel:y}=lt(u),m=ce(()=>$(u.value.class).sort((O,M)=>{let b=ge[O.id],Y=ge[M.id];return b-Y})),U=ce(()=>$("all").sort((O,M)=>{let b=ge[O.id],Y=ge[M.id];return b-Y})),F=I=>{I.category===Fe.passive&&(Object.keys(u.value.spells).forEach(T=>{var O;T.includes(Fe.passive)&&((O=u.value.spells[T])==null?void 0:O.id)===I.id&&(u.value.spells[T]=null)}),Object.keys(u.value.spells).some(T=>{if(T.includes(Fe.passive)&&X(parseInt(T.replace("passiveSlot","")))&&u.value.spells[T]===null)return u.value.spells[T]=I,!0}))},R=I=>{u.value.spells[I]=null},V=I=>{let T=!1;return Object.keys(u.value.spells).forEach(O=>{var M;((M=u.value.spells[O])==null?void 0:M.id)===I.id&&(T=!0)}),T},N=I=>{let T=ge[I.id];return u.value.level>=T},X=I=>{let T=Ge[I-1];return u.value.level>=T};return(I,T)=>{const O=P("tippy"),M=P("p-image");return c(),p("div",Mi,[e("div",null,[s(O,{placement:"left"},{content:d(()=>[e("div",Ri,t(I.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:d(()=>[Di]),_:1}),oe(" "+t(I.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",Oi,[e("div",Fi,[(c(),p(J,null,le(12,b=>(c(),p(J,{key:b},[l(u).spells["activeSlot"+b]!==null?(c(),p("div",{key:0,class:"spell-button disabled",onClick:T[0]||(T[0]=Y=>R(I.spell))},[e("div",Li,t(),1),Ui,s(M,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(u).spells["activeSlot"+b].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),p("div",Ni,[s(M,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Hi,t(),1)]))],64))),64))])]),e("div",ji,[s(O,{placement:"left"},{content:d(()=>[e("div",zi,t(I.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:d(()=>[Bi]),_:1}),oe(" "+t(I.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",Gi,[e("div",Yi,[(c(),p(J,null,le(6,b=>(c(),p(J,{key:b},[l(u).spells["passiveSlot"+b]!==null?(c(),p("div",Ji,[s(O,{duration:"0"},{content:d(()=>[e("div",Zi,[e("div",Ki,t(l(u).spells["passiveSlot"+b].name)+" (Level "+t(l(y)(l(u).spells["passiveSlot"+b]))+") ",1),e("div",en,t(l(u).spells["passiveSlot"+b].description),1),e("div",{class:"spell-details",innerHTML:l(a)(l(u).spells["passiveSlot"+b])},null,8,tn)])]),default:d(()=>[e("div",{class:"spell-button",onClick:Y=>R("passiveSlot"+b)},[Xi,s(M,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(u).spells["passiveSlot"+b].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Qi)]),_:2},1024)])):(c(),p("div",{key:1,class:se(["spell-slot",{disabled:!X(b)}])},[s(M,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),X(b)?ae("",!0):(c(),p("div",sn,t(l(Ge)[b-1]),1))],2))],64))),64))]),e("div",an,[(c(!0),p(J,null,le(m.value,b=>(c(),te(O,{key:b.id,duration:"0"},{content:d(()=>[e("div",rn,[e("div",un,t(b.name)+" (Level "+t(l(y)(b))+")",1),e("div",dn,t(b.description),1),e("div",{class:"spell-details",innerHTML:l(a)(b)},null,8,pn)])]),default:d(()=>[e("div",{class:se(["spell-button",{disabled:V(b)||!N(b)}]),onClick:Y=>F(b)},[nn,on,s(M,{src:`https://tmktahu.github.io/WakfuAssets/spells/${b.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),N(b)?ae("",!0):(c(),p("div",cn,t(l(ge)[b.id]),1))],10,ln)]),_:2},1024))),128))]),e("div",mn,[(c(!0),p(J,null,le(U.value,b=>(c(),te(O,{key:b.id,duration:"0"},{content:d(()=>[e("div",fn,[e("div",bn,t(b.name)+" (Level "+t(l(y)(b))+")",1),e("div",$n,t(b.description),1),e("div",{class:"spell-details",innerHTML:l(a)(b)},null,8,yn)])]),default:d(()=>[e("div",{class:se(["spell-button",{disabled:V(b)||!N(b)}]),onClick:Y=>F(b)},[vn,_n,s(M,{src:`https://tmktahu.github.io/WakfuAssets/spells/${b.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),N(b)?ae("",!0):(c(),p("div",gn,t(l(ge)[b.id]),1))],10,hn)]),_:2},1024))),128))])])])}}},Sn=ue(kn,[["__scopeId","data-v-22a133ae"]]),Cn={class:"flex align-items-center"},wn={class:"mx-2"},xn=e("i",{class:"mdi mdi-information-outline"},null,-1),An={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(u,$)=>{const a=P("p-checkbox"),y=P("tippy");return c(),p("div",Cn,[s(a,Me(u.$attrs,{binary:!0}),null,16),e("div",wn,t(_.label),1),_.tooltipText?(c(),te(y,{key:0,placement:"left",duration:"0"},{content:d(()=>[e("div",An,t(_.tooltipText),1)]),default:d(()=>[xn]),_:1})):ae("",!0)])}}},Vn={class:"flex align-items-center"},Wn={class:"mx-2"},In=e("i",{class:"mdi mdi-information-outline"},null,-1),qn={class:"simple-tooltip"},Pe={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(u,$)=>{const a=P("p-inputNumber"),y=P("tippy");return c(),p("div",Vn,[s(a,Me(u.$attrs,{class:"number-input"}),null,16),e("div",Wn,t(_.label),1),s(y,{placement:"left",duration:"0"},{content:d(()=>[e("div",qn,t(_.tooltipText),1)]),default:d(()=>[In]),_:1})])}}};const et=_=>(de("data-v-19682913"),_=_(),pe(),_),En={class:"item-card"},Pn={class:"slot-label text-center pt-1 pb-1"},Tn={class:"flex px-2 pt-1"},Mn={class:"flex flex-column ml-1"},Dn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Rn={class:"flex"},On={key:0},Fn={key:1},Ln={key:2,class:"ml-1"},Un=et(()=>e("div",{class:"flex-grow-1"},null,-1)),Nn={class:"flex flex-column"},Hn=et(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),jn={key:0,class:"item-card-tooltip"},Bn={class:"effect-header flex pt-2 px-1"},zn={class:"flex flex-column ml-1"},Gn={class:"item-name mr-2"},Yn={class:"flex"},Jn={key:0},Qn={key:1},Xn={key:2,class:"ml-1"},Zn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}}},setup(_){let u=document;const $=Ue(),a=re("currentCharacter"),{getItemEncyclopediaUrl:y}=Ze(),{equipItem:m}=De(a),U=(R,V)=>{m(R,V,$)},F=R=>{let V=y(R);window.open(V,"_blank")};return(R,V)=>{const N=P("p-image"),X=P("p-button"),I=P("tippy");return c(),te(I,{delay:"[0, 0]",duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(u).body},{content:d(()=>[_.item?(c(),p("div",jn,[e("div",Bn,[s(N,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",zn,[e("div",Gn,t(R.$t(`items.${_.item.id}`)),1),e("div",Yn,[s(N,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(N,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(_.item.type.id)?(c(),p("div",Jn,"Item Level: 50")):(c(),p("div",Qn,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===l(j).FIRST_WEAPON.id?(c(),p("div",Xn,t(_.item.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])])]),s(Le,{item:_.item},null,8,["item"])])):ae("",!0)]),default:d(()=>[e("div",En,[e("div",Pn,t(_.item.type.validSlots[0]==="LEFT_HAND"?"Ring":R.$t(l(j)[_.item.type.validSlots[0]].name))+" Slot ",1),e("div",Tn,[s(N,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Mn,[e("div",Dn,t(R.$t(`items.${_.item.id}`)),1),e("div",Rn,[s(N,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(N,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(_.item.type.id)?(c(),p("div",On,"Item Level: 50")):(c(),p("div",Fn,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===l(j).FIRST_WEAPON.id?(c(),p("div",Ln,t(_.item.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),Un,e("div",Nn,[s(X,{icon:"pi pi-plus",class:"action-button mb-1",onClick:V[0]||(V[0]=T=>U(_.item,T))}),s(I,{placement:"left"},{content:d(()=>[Hn]),default:d(()=>[s(X,{icon:"pi pi-question-circle",class:"action-button",onClick:V[1]||(V[1]=T=>F(_.item))})]),_:1})])])])]),_:1},8,["append-to"])}}},Kn=ue(Zn,[["__scopeId","data-v-19682913"]]);const ye=_=>(de("data-v-e8cae4f5"),_=_(),pe(),_),eo={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},to={class:"flex flex-column mt-4"},so={class:"flex"},ao={class:"flex mt-3"},lo={class:"setting-group flex flex-column mr-3 gap-2"},io={class:"mb-2"},no=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),oo={class:"simple-tooltip"},co={class:"setting-group flex flex-column mr-3"},ro={class:"flex flex-column gap-2"},uo={class:"mb-2"},po=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),mo={class:"simple-tooltip"},ho={class:"flex align-items-center"},vo={class:"mr-2"},_o={class:"px-2 py-1"},go={class:"flex align-items-center"},fo={class:"mr-2"},bo={class:"px-2 py-1"},$o={class:"flex align-items-center"},yo={class:"mr-2"},ko={class:"px-2 py-1"},So={class:"flex align-items-center"},Co={class:"mr-2"},wo={class:"px-2 py-1"},xo={class:"flex align-items-center"},Ao={class:"mr-2"},Vo={class:"px-2 py-1"},Wo={class:"flex flex-column"},Io={class:"rarity-container"},qo={class:"flex align-items-center mb-1"},Eo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Po={class:"simple-tooltip"},To={class:"mr-2 ml-1"},Mo={class:"rarity-button-wrapper"},Do={class:"flex justify-content-center align-items-center"},Ro={class:"simple-tooltip"},Oo={class:"setting-group flex flex-column gap-2 mt-2"},Fo={class:"mb-2"},Lo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Uo={class:"simple-tooltip"},No={key:0,class:"warning-message mt-2 py-1 px-2"},Ho={class:"flex align-items-center mt-3"},jo=ye(()=>e("div",{class:"flex-grow-1"},null,-1)),Bo=ye(()=>e("a",{href:"https://github.com/mikeshardmind/wakfu-utils",target:"_blank"},"Keeper of Time (sinbad)",-1)),zo={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},Go={key:0,class:"error-state px-3 py-3"},Yo={key:0,class:"mt-1"},Jo={key:1},Qo={class:"mt-3"},Xo={key:0,class:"mt-2"},Zo={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Ko={key:1},ec={class:"flex flex-wrap gap-1 mt-2"},tc={key:2,class:"loading-state px-3 py-3"},sc={class:"mt-2"},ac={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},lc={class:"text-center mt-2"},ic={class:"text-center mb-5 mt-2"},nc={class:"flex justify-content-center"},oc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},cc={__name:"ItemSolverTabContent",setup(_){const{t:u}=Ne(),$=Ue(),a=re("currentCharacter"),{equipItem:y}=De(a),{runCalculations:m,autoBuilderIsReady:U,itemSet:F,builderLoading:R,builderError:V}=it(),{createBuildCode:N}=Qe(),X=k(!1),I=ce(()=>{if(X.value)return F.value;{let n=Object.keys(a.value.equipment).map(o=>{if(a.value.equipment[o])return a.value.equipment[o].id}).filter(o=>o!==void 0);return F.value?F.value.filter(o=>!n.includes(o.id)):[]}}),T=k(a.value.actionPoints),O=k(a.value.movementPoints),M=k(a.value.stats.range),b=k(a.value.wakfuPoints),Y=k(!1),ee=k(!1),h=k(!1),C=k(!1),H=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],Q=[...H,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],Z=k(H[0]),f=k(H[0]),i=k(H[0]),g=k(H[0]),E=k(H[0]),w=k(!0),W=k(nt.map(n=>({...n,checked:!0}))),q=k(!0);$e(U,()=>{q.value=!1});const K=()=>{W.value.forEach(n=>{n.checked=!0})},ie=()=>{W.value.forEach(n=>{n.checked=!1})},x=ce(()=>U.value),D=ce(()=>N(a.value)),r=k(null);$e([T,O,M,b],()=>{r.value=null,T.value-a.value.actionPoints>=6?r.value=u("characterSheet.itemSolverContent.apWarning"):M.value-a.value.stats.range>5?r.value=u("characterSheet.itemSolverContent.rangeImpossibleWarning"):a.value.level<35?M.value-a.value.stats.range>0&&(r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning")):a.value.level<50?M.value-a.value.stats.range>1?r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning"):T.value-a.value.actionPoints+O.value-a.value.movementPoints>4&&(r.value=u("characterSheet.itemSolverContent.combinedApMpWarning")):a.value.level<80&&M.value-a.value.stats.range>3&&(r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning"))});const v=async()=>{let n=W.value.filter(ne=>ne.checked).map(ne=>ne.id),o={buildCode:D.value,meleeMasteryPriority:Z.value,distanceMasteryPriority:f.value,healingMasteryPriority:i.value,rearMasteryPriority:g.value,berserkMasteryPriority:E.value,fireMastery:Y.value,earthMastery:ee.value,waterMastery:h.value,airMastery:C.value,targetApAmount:T.value||0,targetMpAmount:O.value||0,targetRangeAmount:M.value||0,targetWpAmount:b.value||0,selectedRarityIds:n,ignoreEquippedItems:!w.value};m(o)},B=n=>{$.require({group:"popup",target:n.currentTarget,message:u("confirms.willReplaceItems"),accept:()=>{F.value.forEach(o=>{y(o)})}})},Oe=(n,o)=>{n.ctrlKey&&W.value.forEach(ne=>{ne.id!==o?ne.checked=!1:ne.checked=!0})};return(n,o)=>{var Se,Ce,we;const ne=P("tippy"),me=P("p-dropdown"),_e=P("p-button"),qe=P("p-image"),Ee=P("p-checkbox"),ke=P("p-progressSpinner");return c(),p("div",eo,[s(Xe,{character:l(a)},null,8,["character"]),e("div",to,[e("div",so,[s(be,{modelValue:w.value,"onUpdate:modelValue":o[0]||(o[0]=S=>w.value=S),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",ao,[e("div",lo,[e("div",io,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",oo,t(n.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:d(()=>[no]),_:1}),oe(" "+t(n.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Pe,{modelValue:T.value,"onUpdate:modelValue":o[1]||(o[1]=S=>T.value=S),label:n.$t("constants.actionPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:O.value,"onUpdate:modelValue":o[2]||(o[2]=S=>O.value=S),label:n.$t("constants.movementPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:M.value,"onUpdate:modelValue":o[3]||(o[3]=S=>M.value=S),label:n.$t("constants.range"),"tooltip-text":n.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:b.value,"onUpdate:modelValue":o[4]||(o[4]=S=>b.value=S),label:n.$t("constants.wakfuPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",co,[e("div",ro,[e("div",uo,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",mo,t(n.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:d(()=>[po]),_:1}),oe(" "+t(n.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",ho,[e("div",vo,t(n.$t("constants.meleeMastery")),1),s(me,{modelValue:Z.value,"onUpdate:modelValue":o[5]||(o[5]=S=>Z.value=S),class:"condensed-dropdown","option-label":"label",options:H},{value:d(S=>[oe(t(n.$t(S.value.label)),1)]),option:d(S=>[e("div",_o,t(n.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",go,[e("div",fo,t(n.$t("constants.distanceMastery")),1),s(me,{modelValue:f.value,"onUpdate:modelValue":o[6]||(o[6]=S=>f.value=S),class:"condensed-dropdown","option-label":"label",options:H},{value:d(S=>[oe(t(n.$t(S.value.label)),1)]),option:d(S=>[e("div",bo,t(n.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",$o,[e("div",yo,t(n.$t("constants.healingMastery")),1),s(me,{modelValue:i.value,"onUpdate:modelValue":o[7]||(o[7]=S=>i.value=S),class:"condensed-dropdown","option-label":"label",options:H},{value:d(S=>[oe(t(n.$t(S.value.label)),1)]),option:d(S=>[e("div",ko,t(n.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",So,[e("div",Co,t(n.$t("constants.rearMastery")),1),s(me,{modelValue:g.value,"onUpdate:modelValue":o[8]||(o[8]=S=>g.value=S),class:"condensed-dropdown","option-label":"label",options:Q},{value:d(S=>[oe(t(n.$t(S.value.label)),1)]),option:d(S=>[e("div",wo,t(n.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",xo,[e("div",Ao,t(n.$t("constants.berserkMastery")),1),s(me,{modelValue:E.value,"onUpdate:modelValue":o[9]||(o[9]=S=>E.value=S),class:"condensed-dropdown","option-label":"label",options:Q},{value:d(S=>[oe(t(n.$t(S.value.label)),1)]),option:d(S=>[e("div",Vo,t(n.$t(S.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",Wo,[e("div",Io,[e("div",qo,[s(_e,{class:"filter-button item-filter-action mr-2",label:n.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),s(ne,{placement:"top"},{content:d(()=>[e("div",Po,t(n.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Eo]),_:1}),e("div",To,t(n.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(_e,{class:"filter-button item-filter-action",label:n.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ie},null,8,["label"])]),e("div",Mo,[(c(!0),p(J,null,le(W.value,S=>(c(),te(ne,{key:S.id,duration:"0"},{content:d(()=>[e("div",Ro,t(n.$t(S.name)),1)]),default:d(()=>[s(Ee,{modelValue:S.checked,"onUpdate:modelValue":he=>S.checked=he,binary:!0,class:"rarity-checkbox",onChange:he=>Oe(he,S.id)},{icon:d(he=>[e("div",Do,[s(qe,{class:se({disabled:!he.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${S.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Oo,[e("div",Fo,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",Uo,t(n.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:d(()=>[Lo]),_:1}),oe(" "+t(n.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:Y.value,"onUpdate:modelValue":o[10]||(o[10]=S=>Y.value=S),label:n.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:ee.value,"onUpdate:modelValue":o[11]||(o[11]=S=>ee.value=S),label:n.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:h.value,"onUpdate:modelValue":o[12]||(o[12]=S=>h.value=S),label:n.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:C.value,"onUpdate:modelValue":o[13]||(o[13]=S=>C.value=S),label:n.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),r.value!==null?(c(),p("div",No,t(r.value),1)):ae("",!0)]),e("div",Ho,[s(_e,{class:"py-2 px-3 mr-2",disabled:!x.value,label:(Se=I.value)!=null&&Se.length?"Re-Generate Item Set":"Generate Item Set",onClick:v},null,8,["disabled","label"]),s(_e,{class:"py-2 px-3 mr-2",disabled:!((Ce=I.value)!=null&&Ce.length),label:"Equip All Items",onClick:o[14]||(o[14]=S=>B(S))},null,8,["disabled"]),s(be,{modelValue:X.value,"onUpdate:modelValue":o[15]||(o[15]=S=>X.value=S),label:"Show All Items"},null,8,["modelValue"]),jo,e("div",null,[oe(t(n.$t("characterSheet.itemSolverContent.poweredBy"))+" ",1),Bo,oe("'s "+t(n.$t("characterSheet.itemSolverContent.code"))+".",1)])]),l(R)?(c(),p("div",ac,[e("div",lc,t(n.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",ic,t(n.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",nc,[e("div",oc,[s(ke,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(ke,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),p("div",zo,[l(V)?(c(),p("div",Go,[l(V).debug?(c(),p("div",Yo,t(n.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),p("div",Jo,t(n.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Qo,[e("div",null,"Error Code: "+t(l(V).message),1),l(V).debug?(c(),p("div",Xo,[e("div",Zo,"Debug Code: "+t(l(V).debug),1)])):ae("",!0)])])):(we=I.value)!=null&&we.length?(c(),p("div",Ko,[e("div",ec,[(c(!0),p(J,null,le(I.value,S=>(c(),te(Kn,{key:S.id,item:S},null,8,["item"]))),128))])])):(c(),p("div",tc,[e("div",null,t(n.$t("characterSheet.itemSolverContent.instructions")),1),e("div",sc,t(n.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},rc=ue(cc,[["__scopeId","data-v-e8cae4f5"]]);const We=_=>(de("data-v-61b95848"),_=_(),pe(),_),uc={class:"flex"},dc={class:"flex flex-column"},pc={class:"mb-2"},mc={class:"flex"},hc={class:"mr-2"},vc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),_c={class:"simple-tooltip flex flex-column"},gc={class:"mb-1"},fc={class:"mb-1"},bc={class:"mb-1"},$c={class:"mb-1"},yc={class:"mb-1"},kc={class:"mb-1"},Sc={key:0,class:"item-runes-section flex align-items-center mb-2"},Cc=["onClick"],wc=["onClick","onDrop","onContextmenu","onDragstart"],xc={class:"rune-image"},Ac={class:"rune-level"},Vc={class:"simple-tooltip"},Wc=["onDrop"],Ic={class:"rune-image"},qc=We(()=>e("div",{class:"sublimation-drop-zone ml-2 pl-2 pr-2"},"sub",-1)),Ec={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},Pc={class:"slot-image"},Tc=["onDrop"],Mc=We(()=>e("div",{class:"info-text"},"An item must be equipped",-1)),Dc={class:"stats-summary"},Rc={class:"text-lg my-1 pl-2"},Oc={class:"stats-summary-list flex flex-column"},Fc={class:"ml-2"},Lc={class:"flex flex-column"},Uc={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},Nc={class:"flex align-items-center justify-content-center"},Hc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),jc={class:"simple-tooltip"},Bc={class:"mx-2"},zc={class:"rune-options flex flex-column mt-2"},Gc=["onDragstart","onClick"],Yc={class:"ml-2"},Jc=We(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Qc={class:"ml-3 mt-2"},Xc={key:0,class:"flex flex-column px-4 py-2"},Zc={class:"mb-2"},Kc={class:"ml-2"},er={__name:"RunesSubsTabContent",setup(_){const{t:u}=Ne(),$=re("currentCharacter"),{getRuneValue:a}=Ye(),{getRunes:y,getSublimations:m}=De(),U=ce(()=>y().sort((f,i)=>f.shardsParameters.color-i.shardsParameters.color));k(m());const F=k(1),R=k(null),V=k(null),N=k(null),X=k([{label:u("constants.level"),levelSlider:!0},{label:u("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{V.value&&($.value.equipment[V.value.itemSlotKey][V.value.runeSlotKey].color===0?$.value.equipment[V.value.itemSlotKey][V.value.runeSlotKey].color=$.value.equipment[V.value.itemSlotKey][V.value.runeSlotKey].rune.shardsParameters.color:$.value.equipment[V.value.itemSlotKey][V.value.runeSlotKey].color=0)}},{label:u("constants.remove"),command:()=>{$.value.equipment[V.value.itemSlotKey][V.value.runeSlotKey]=null}}]),I=ce(()=>{let f={};return Object.keys($.value.equipment).forEach(i=>{if($.value.equipment[i]!==null){let g=$.value.equipment[i];for(let E=1;E<=4;E++){let w=g[`runeSlot${E}`];w&&(f[w.rune.id]||(f[w.rune.id]={totalValue:0,rune:w}),f[w.rune.id].totalValue+=a(w.rune,w.level,i))}}}),f}),T=(f,i)=>{f.stopPropagation(),R.value===i?R.value=null:R.value=i},O=(f,i,g)=>{f.shiftKey&&($.value.equipment[i][g].color===0?$.value.equipment[i][g].color=$.value.equipment[i][g].rune.shardsParameters.color:$.value.equipment[i][g].color=0),f.ctrlKey&&($.value.equipment[i][g]=null)},M=(f,i,g)=>{$.value.equipment[i][g]&&(V.value={itemSlotKey:i,runeSlotKey:g},N.value.show(f))},b=(f,i)=>{if(R.value&&$.value.equipment[R.value]!==null){let g=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let E in g)if($.value.equipment[R.value][g[E]]===null||$.value.equipment[R.value][g[E]]===void 0){$.value.equipment[R.value][g[E]]={rune:i,color:i.shardsParameters.color,level:F.value};break}}},Y=(f,i,g)=>{f.dataTransfer.dropEffect="move",f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("rune",JSON.stringify(i)),g&&f.dataTransfer.setData("level",g)},ee=(f,i,g)=>{try{let E=JSON.parse(f.dataTransfer.getData("rune")),w=f.dataTransfer.getData("level");$.value.equipment[i][g]={rune:E,color:E.shardsParameters.color,level:w||F.value}}catch{}},h=()=>{let f=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys($.value.equipment).forEach(i=>{$.value.equipment[i]&&f.forEach(g=>{$.value.equipment[i][g]=void 0})})},C=f=>{if(f)switch(f){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},H=f=>{if(f)switch(f){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},Q=f=>Object.keys(j).find(i=>j[i].rawId===f),Z=ce(()=>{let f=1;return ot.some((i,g)=>i<=$.value.level?(f=g+1,!1):!0),f});return $e(()=>$.value.level,()=>{F.value=Z.value},{immediate:!0}),(f,i)=>{const g=P("tippy"),E=P("p-image"),w=P("p-inputNumber"),W=P("p-button"),q=P("p-slider"),K=P("p-contextMenu"),ie=ct("ripple");return c(),p("div",uc,[e("div",dc,[e("div",pc,[s(g,{placement:"left",duration:"0"},{content:d(()=>[e("div",_c,[e("div",gc,t(f.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",fc,t(f.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",bc,t(f.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",$c,t(f.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",yc,t(f.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",kc,t(f.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:d(()=>[e("div",mc,[e("div",hc,t(f.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),vc])]),_:1})]),(c(!0),p(J,null,le(Object.keys(l($).equipment),x=>(c(),p(J,{key:x},[x!=="ACCESSORY"&&x!=="PET"&&x!=="MOUNT"&&x!=="SECOND_WEAPON"?(c(),p(J,{key:0},[x!=="undefined"&&l($).equipment[x]?(c(),p("div",Sc,[e("div",{class:se(["slot-image",{highlighted:R.value===x}]),onClick:D=>T(D,x)},[s(E,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${x}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,Cc),(c(),p(J,null,le(4,D=>(c(),p(J,{key:D},[l($).equipment[x][`runeSlot${D}`]?(c(),te(g,{key:0,duration:"0"},{content:d(()=>[e("div",Vc," +"+t(l(a)(l($).equipment[x][`runeSlot${D}`].rune,l($).equipment[x][`runeSlot${D}`].level,x))+" "+t(l($).equipment[x][`runeSlot${D}`].rune.name),1)]),default:d(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:r=>O(r,x,`runeSlot${D}`),onDragover:i[0]||(i[0]=fe(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=fe(()=>{},["prevent"])),onDrop:r=>ee(r,x,`runeSlot${D}`),onContextmenu:r=>M(r,x,`runeSlot${D}`),onDragstart:r=>Y(r,l($).equipment[x][`runeSlot${D}`].rune,l($).equipment[x][`runeSlot${D}`].level)},[e("div",xc,[s(E,{src:H(l($).equipment[x][`runeSlot${D}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",Ac,t(l($).equipment[x][`runeSlot${D}`].level),1)],40,wc)]),_:2},1024)):(c(),p("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=fe(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=fe(()=>{},["prevent"])),onDrop:r=>ee(r,x,`runeSlot${D}`)},[e("div",Ic,[s(E,{src:C(null),"image-style":"width: 26px"},null,8,["src"])])],40,Wc))],64))),64)),qc])):x!=="undefined"?(c(),p("div",Ec,[e("div",Pc,[s(E,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${x}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),p(J,null,le(4,D=>e("div",{key:D,class:"rune-drop-zone ml-2",onDragover:i[4]||(i[4]=fe(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=fe(()=>{},["prevent"])),onDrop:r=>ee(r,x,`runeSlot${D}`)},null,40,Tc)),64)),Mc])):ae("",!0)],64)):ae("",!0)],64))),128)),e("div",Dc,[e("div",Rc,t(f.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",Oc,[(c(!0),p(J,null,le(Object.keys(I.value),x=>(c(),p("div",{key:x,class:"summary-entry px-2 py-1"},[s(E,{src:H(I.value[x].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Fc,"+"+t(I.value[x].totalValue)+" "+t(I.value[x].rune.rune.name),1)]))),128))])])]),e("div",Lc,[e("div",Uc,[e("div",Nc,[s(g,{placement:"left",duration:"0"},{content:d(()=>[e("div",jc,t(f.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:d(()=>[Hc]),_:1}),e("span",Bc,t(f.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(w,{modelValue:F.value,"onUpdate:modelValue":i[6]||(i[6]=x=>F.value=x),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:Z.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",zc,[(c(!0),p(J,null,le(U.value,x=>(c(),p("div",{key:x.id,class:se(["rune-draggable mb-1 px-2",{highlighted:R.value&&x.shardsParameters.doubleBonusPosition.includes(l(j)[R.value].rawId)}]),draggable:"true",onDragstart:D=>Y(D,x),onClick:D=>b(D,x)},[s(E,{class:"rune-image",src:C(x.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Yc,"+"+t(l(a)(x,F.value))+" "+t(x.name),1),Jc,(c(!0),p(J,null,le(x.shardsParameters.doubleBonusPosition,D=>(c(),p("div",{key:D,class:"ml-1"},[s(E,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${Q(D)}.png`,class:se({disabled:!l($).equipment[Q(D)]}),onClick:r=>T(r,Q(D))},null,8,["src","class","onClick"])]))),128))],42,Gc))),128))])]),e("div",Qc,[s(W,{label:f.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:h},null,8,["label"])])]),s(K,{ref_key:"runeContextMenu",ref:N,model:X.value},{item:d(({item:x,props:D})=>[x.levelSlider?(c(),p("div",Xc,[e("div",Zc,t(f.$t("constants.level"))+": "+t(l($).equipment[V.value.itemSlotKey][V.value.runeSlotKey].level),1),s(q,{modelValue:l($).equipment[V.value.itemSlotKey][V.value.runeSlotKey].level,"onUpdate:modelValue":i[7]||(i[7]=r=>l($).equipment[V.value.itemSlotKey][V.value.runeSlotKey].level=r),min:1,max:11},null,8,["modelValue"])])):rt((c(),p("a",Me({key:1,class:"flex align-items-center"},D.action),[e("span",Kc,t(x.label),1)],16)),[[ie]])]),_:1},8,["model"])])}}},tr=ue(er,[["__scopeId","data-v-61b95848"]]);const Ie=_=>(de("data-v-7d0152bc"),_=_(),pe(),_),sr={class:"top-bar py-3 px-3"},ar={key:0,class:"flex align-items-center pl-2",style:{height:"48px"}},lr={class:"mr-2"},ir={key:1},nr={class:"flex align-items-center"},or={class:"capitalize"},cr={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},rr={class:"mr-2"},ur={class:"flex-grow-1"},dr=Ie(()=>e("div",{class:"flex-grow-1"},null,-1)),pr={class:"build-code flex align-items-center ml-2 mr-3"},mr=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),hr={class:"simple-tooltip"},vr={class:"ml-2"},_r={class:"code-disclaimer"},gr=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),fr={class:"simple-tooltip"},br={class:"ml-1"},$r={class:"flex flex-grow-1",style:{overflow:"auto"}},yr={class:"stats-area pt-3"},kr={class:"flex flex-column flex-grow-1"},Sr=Ie(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),Cr=Ie(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),wr={class:"flex align-items-center px-3 py-3"},xr={class:"flex align-items-center px-3 py-3"},Ar={class:"flex align-items-center px-3 py-3"},Vr={class:"flex align-items-center px-3 py-3"},Wr={key:1,class:"px-5 mt-5"},Ir={__name:"CharacterSheet",setup(_){var b,Y,ee;const u=ut(),$=re("currentCharacter"),a=k(null),y=k(null),m=k((b=$.value)==null?void 0:b.name),U=k((Y=$.value)==null?void 0:Y.level),F=k(Te[(ee=$.value)==null?void 0:ee.class]),R=Object.entries(Te).map(([h,C])=>C),{createBuildCode:V}=Qe(),N=ce(()=>V($.value));$e($,()=>{X()});const X=()=>{var h,C,H;m.value=(h=$.value)==null?void 0:h.name,U.value=(C=$.value)==null?void 0:C.level,F.value=Te[(H=$.value)==null?void 0:H.class]},I=(h,C)=>{C==="name"?$.value.name=h.target.value:C==="levelText"?$.value.level=h.value:C==="levelSlider"?$.value.level=h:C==="class"&&($.value.class=h.value.id),X()},T=()=>{xe(()=>{a.value.showList()})},O=ce(()=>{var h;return(h=y.value)==null?void 0:h.hasCharacteristicsError}),M=()=>{navigator.clipboard.writeText(N.value),u.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(h,C)=>{const H=P("p-inputText"),Q=P("p-image"),Z=P("p-dropdown"),f=P("p-inputNumber"),i=P("p-slider"),g=P("tippy"),E=P("p-button"),w=P("p-tabPanel"),W=P("p-tabView");return l($)?(c(),p("div",{key:l($).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",sr,[s(H,{modelValue:m.value,"onUpdate:modelValue":C[0]||(C[0]=q=>m.value=q),style:{height:"48px"},class:"mr-2",onInput:C[1]||(C[1]=q=>I(q,"name"))},null,8,["modelValue"]),s(Z,{modelValue:F.value,"onUpdate:modelValue":C[2]||(C[2]=q=>F.value=q),options:l(R),placeholder:h.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2",onChange:C[3]||(C[3]=q=>I(q,"class"))},{value:d(q=>[q.value?(c(),p("div",ar,[e("div",lr,[q.value.id?(c(),te(Q,{key:0,class:"class-image",src:`https://tmktahu.github.io/WakfuAssets/classes/${q.value.id}.png`,"image-style":"width: 30px"},null,8,["src"])):(c(),te(Q,{key:1,class:"class-image",src:l(dt),"image-style":"width: 40px"},null,8,["src"]))]),e("div",null,t(h.$t(q.value.name)),1)])):(c(),p("span",ir,t(q.placeholder),1))]),option:d(q=>[e("div",nr,[e("div",or,t(h.$t(q.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",cr,[e("span",rr,t(h.$t("characterSheet.level")),1),s(f,{modelValue:U.value,"onUpdate:modelValue":C[4]||(C[4]=q=>U.value=q),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:C[5]||(C[5]=q=>I(q,"levelText"))},null,8,["modelValue"]),e("div",ur,[s(i,{modelValue:U.value,"onUpdate:modelValue":C[6]||(C[6]=q=>U.value=q),min:1,max:230,onChange:C[7]||(C[7]=q=>I(q,"levelSlider"))},null,8,["modelValue"])])]),dr,e("div",pr,[s(g,{placement:"left",duration:"0"},{content:d(()=>[e("div",hr,t(h.$t("characterSheet.buildCopyPaste")),1)]),default:d(()=>[mr]),_:1}),e("div",vr,t(h.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:M},[e("span",null,t(N.value),1)]),s(E,{class:"py-1 ml-2 px-2",label:h.$t("characterSheet.copy"),onClick:M},null,8,["label"]),e("div",_r,[s(g,{placement:"bottom",duration:"0"},{content:d(()=>[e("div",fr,t(h.$t("characterSheet.codeInfo")),1)]),default:d(()=>[gr]),_:1}),e("div",br,t(h.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",$r,[e("div",yr,[s(Ha)]),e("div",kr,[s(W,{class:"main-tab-view",onTabChange:T},{default:d(()=>[s(w,null,{header:d(()=>[e("div",{class:se(["characteristics-tab-header px-3 h-full",{error:O.value,"points-to-spend":!1}])},[e("span",null,t(h.$t("characterSheet.characteristics")),1),Sr,Cr],2)]),default:d(()=>[s(vl,{ref_key:"characteristicsTabContent",ref:y},null,512)]),_:1}),s(w,null,{header:d(()=>[e("div",wr,[e("span",null,t(h.$t("characterSheet.equipment")),1)])]),default:d(()=>[s(Ti,{ref_key:"equipmentTabContent",ref:a},null,512)]),_:1}),s(w,null,{header:d(()=>[e("div",xr,[e("span",null,t(h.$t("characterSheet.autoItemSolver")),1)])]),default:d(()=>[s(rc)]),_:1}),s(w,null,{header:d(()=>[e("div",Ar,[e("span",null,t(h.$t("characterSheet.runesAndSubs")),1)])]),default:d(()=>[s(tr)]),_:1}),s(w,null,{header:d(()=>[e("div",Vr,[e("span",null,t(h.$t("characterSheet.spellsAndPassives")),1)])]),default:d(()=>[s(Sn)]),_:1})]),_:1})])])])):(c(),p("div",Wr," No Character data found for the given ID. "))}}},Pr=ue(Ir,[["__scopeId","data-v-7d0152bc"]]);export{Pr as default};
