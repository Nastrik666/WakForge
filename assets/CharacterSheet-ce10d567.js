import{_ as be,i as _e,g as E,q as a,o as n,h as u,j as e,k as l,t as s,y as Ue,l as K,z as Xe,s as $e,x as ye,A as Oe,r as $,f as me,B as at,D as Pe,E as Ze,G as ae,H as N,w as p,F as Y,m as ne,n as re,I as ve,a as Be,J as Ne,K as Z,L as Fe,b as ze,M as Ie,N as it,O as nt,P as Ae,Q as Qe,R as ot,S as je,T as ct,d as Ke,U as rt,V as ut,W as dt,p as he,X as He,Y as pt,u as mt}from"./index-df36ac4f.js";import{I as We,M as Te,u as et,E as tt,a as ht}from"./addCompanion-8909eb9f.js";const X=g=>($e("data-v-0d2a0c48"),g=g(),ye(),g),vt={key:0},_t={class:"flex justify-content-between w-full px-2"},gt={class:"main-stat-box"},ft={class:"flex align-items-center my-1"},bt={class:"ml-1"},$t={class:"stat-value py-1"},yt={class:"main-stat-box"},kt={class:"flex align-items-center my-1"},St={class:"ml-1"},xt={class:"stat-value py-1"},wt={class:"main-stat-box"},Ct={class:"flex align-items-center my-1"},At={class:"ml-1"},Vt={class:"stat-value py-1"},Wt={class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Et={class:"ml-1"},It={class:"stat-value py-1"},Pt={key:0,class:"main-stat-box"},Tt={class:"flex align-items-center my-1"},Dt={class:"ml-1"},Mt={class:"stat-value py-1"},Rt={key:1,class:"main-stat-box"},Lt={class:"flex align-items-center my-1"},Ut={class:"ml-1"},Ft={class:"stat-value py-1"},Ot={class:"main-stat-area flex flex-column mt-2 pb-2"},Nt={class:"section-header py-1 mb-1"},jt={class:"flex pl-1"},Ht={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Zt={class:"stat-block pr-2"},Kt={class:"ml-1"},es=X(()=>e("div",{class:"flex-grow-1"},null,-1)),ts={class:"stat-block pr-2"},ss={class:"ml-1"},ls=X(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"section-header py-1 mb-1"},is={class:"flex pl-1"},ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=X(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=X(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},hs={class:"stat-block pr-2"},vs={class:"ml-1"},_s=X(()=>e("div",{class:"flex-grow-1"},null,-1)),gs={class:"stat-block pr-2"},fs={class:"ml-1"},bs=X(()=>e("div",{class:"flex-grow-1"},null,-1)),$s={class:"lex flex-column"},ys={class:"section-header py-1 mb-1"},ks={class:"flex pl-1"},Ss={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xs={class:"stat-block pr-2"},ws={class:"ml-1"},Cs=X(()=>e("div",{class:"flex-grow-1"},null,-1)),As={class:"stat-block pr-2"},Vs={class:"ml-1"},Ws=X(()=>e("div",{class:"flex-grow-1"},null,-1)),qs={class:"stat-block pr-2"},Es={class:"ml-1"},Is=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Ps={class:"stat-block pr-2"},Ts={class:"ml-1"},Ds=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Ms={class:"stat-block pr-2"},Rs={class:"ml-1"},Ls=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Us={class:"stat-block pr-2"},Fs={class:"ml-1"},Os=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},js={class:"stat-block pr-2"},Hs={class:"ml-1"},Bs=X(()=>e("div",{class:"flex-grow-1"},null,-1)),zs={class:"stat-block pr-2"},Gs={class:"ml-1"},Ys=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Js={class:"stat-block pr-2"},Qs={class:"ml-1"},Xs=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Zs={class:"stat-block pr-2"},Ks={class:"ml-1"},el=X(()=>e("div",{class:"flex-grow-1"},null,-1)),tl={class:"stat-block pr-2"},sl={class:"ml-1"},ll=X(()=>e("div",{class:"flex-grow-1"},null,-1)),al={class:"stat-block pr-2"},il={class:"ml-1"},nl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),ol={class:"flex flex-column"},cl={class:"section-header py-1 mb-1"},rl={class:"flex pl-1"},ul={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},dl={class:"stat-block pr-2"},pl={class:"ml-1"},ml=X(()=>e("div",{class:"flex-grow-1"},null,-1)),hl={class:"stat-block pr-2"},vl={class:"ml-1"},_l=X(()=>e("div",{class:"flex-grow-1"},null,-1)),gl={class:"stat-block pr-2"},fl={class:"ml-1"},bl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),$l={class:"stat-block pr-2"},yl={class:"ml-1"},kl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Sl={class:"stat-block pr-2"},xl={class:"ml-1"},wl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Cl={class:"stat-block pr-2"},Al={class:"ml-1"},Vl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Wl={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ql={class:"stat-block pr-2"},El={class:"ml-1"},Il=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Pl={class:"stat-block pr-2"},Tl={class:"ml-1"},Dl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Ml={class:"stat-block pr-2"},Rl={class:"ml-1"},Ll=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Ul={class:"stat-block pr-2"},Fl={class:"ml-1"},Ol=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Nl={class:"stat-block pr-2"},jl={class:"ml-1"},Hl=X(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={__name:"StatDisplay",setup(g){const h=_e("currentCharacter"),{calcElemResistancePercentage:M}=Xe();return(t,y)=>{const f=E("p-image");return a(h)?(n(),u("div",vt,[e("div",_t,[e("div",gt,[e("div",ft,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",bt,s(t.$t("constants.hp")),1)]),e("div",$t,s(a(h).healthPoints),1)]),e("div",yt,[e("div",kt,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",St,s(t.$t("characterSheet.statsDisplay.ar")),1)]),e("div",xt,s(a(h).armorPoints),1)]),e("div",wt,[e("div",Ct,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",At,s(t.$t("constants.ap")),1)]),e("div",Vt,s(a(h).actionPoints),1)]),e("div",Wt,[e("div",qt,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Et,s(t.$t("constants.mp")),1)]),e("div",It,s(a(h).movementPoints),1)]),a(h).class===a(Ue).huppermage.id?(n(),u("div",Pt,[e("div",Tt,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Dt,s(t.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Mt,s(a(h).quadrumentalBreeze),1)])):(n(),u("div",Rt,[e("div",Lt,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Ut,s(t.$t("constants.wp")),1)]),e("div",Ft,s(a(h).wakfuPoints),1)]))]),e("div",Ot,[e("div",Nt,s(t.$t("constants.elementalMasteries")),1),e("div",jt,[e("div",Ht,[e("div",Bt,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",zt,s(t.$t("characterSheet.statsDisplay.water")),1),Gt,e("span",null,s(a(h).masteries.water),1)]),e("div",Yt,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Jt,s(t.$t("characterSheet.statsDisplay.air")),1),Qt,e("span",null,s(a(h).masteries.air),1)])]),e("div",Xt,[e("div",Zt,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Kt,s(t.$t("characterSheet.statsDisplay.earth")),1),es,e("span",null,s(a(h).masteries.earth),1)]),e("div",ts,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ss,s(t.$t("characterSheet.statsDisplay.fire")),1),ls,e("span",null,s(a(h).masteries.fire),1)])])]),e("div",as,s(t.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",is,[e("div",ns,[e("div",os,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",cs,s(t.$t("characterSheet.statsDisplay.water")),1),rs,e("span",null,s(a(M)(a(h).resistances.water))+"% ("+s(a(h).resistances.water)+")",1)]),e("div",us,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ds,s(t.$t("characterSheet.statsDisplay.air")),1),ps,e("span",null,s(a(M)(a(h).resistances.air))+"% ("+s(a(h).resistances.air)+")",1)])]),e("div",ms,[e("div",hs,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",vs,s(t.$t("characterSheet.statsDisplay.earth")),1),_s,e("span",null,s(a(M)(a(h).resistances.earth))+"% ("+s(a(h).resistances.earth)+")",1)]),e("div",gs,[l(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",fs,s(t.$t("characterSheet.statsDisplay.fire")),1),bs,e("span",null,s(a(M)(a(h).resistances.fire))+"% ("+s(a(h).resistances.fire)+")",1)])])]),e("div",$s,[e("div",ys,s(t.$t("characterSheet.statsDisplay.battle")),1),e("div",ks,[e("div",Ss,[e("div",xs,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",ws,s(t.$t("constants.damageInflicted")),1),Cs,e("span",null,s(a(h).stats.damageInflicted)+"%",1)]),e("div",As,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",Vs,s(t.$t("characterSheet.statsDisplay.criticalHit")),1),Ws,e("span",null,s(a(h).stats.criticalHit)+"%",1)]),e("div",qs,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Es,s(t.$t("constants.initiative")),1),Is,e("span",null,s(a(h).stats.initiative),1)]),e("div",Ps,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ts,s(t.$t("constants.dodge")),1),Ds,e("span",null,s(a(h).stats.dodge),1)]),e("div",Ms,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Rs,s(t.$t("constants.wisdom")),1),Ls,e("span",null,s(a(h).stats.wisdom),1)]),e("div",Us,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Fs,s(t.$t("constants.control")),1),Os,e("span",null,s(a(h).stats.control),1)])]),e("div",Ns,[e("div",js,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Hs,s(t.$t("constants.healsPerformed")),1),Bs,e("span",null,s(a(h).stats.healsPerformed)+"%",1)]),e("div",zs,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Gs,s(t.$t("characterSheet.statsDisplay.block")),1),Ys,e("span",null,s(a(h).stats.block)+"%",1)]),e("div",Js,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Qs,s(t.$t("constants.range")),1),Xs,e("span",null,s(a(h).stats.range),1)]),e("div",Zs,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Ks,s(t.$t("constants.lock")),1),el,e("span",null,s(a(h).stats.lock),1)]),e("div",tl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",sl,s(t.$t("constants.prospecting")),1),ll,e("span",null,s(a(h).stats.prospecting),1)]),e("div",al,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",il,s(t.$t("constants.forceOfWill")),1),nl,e("span",null,s(a(h).stats.forceOfWill),1)])])])]),e("div",ol,[e("div",cl,s(t.$t("characterSheet.statsDisplay.secondary")),1),e("div",rl,[e("div",ul,[e("div",dl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",pl,s(t.$t("constants.criticalMastery")),1),ml,e("span",null,s(a(h).masteries.critical),1)]),e("div",hl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",vl,s(t.$t("constants.rearMastery")),1),_l,e("span",null,s(a(h).masteries.rear),1)]),e("div",gl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",fl,s(t.$t("constants.meleeMastery")),1),bl,e("span",null,s(a(h).masteries.melee),1)]),e("div",$l,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",yl,s(t.$t("constants.distanceMastery")),1),kl,e("span",null,s(a(h).masteries.distance),1)]),e("div",Sl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",xl,s(t.$t("constants.healingMastery")),1),wl,e("span",null,s(a(h).masteries.healing),1)]),e("div",Cl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Al,s(t.$t("constants.berserkMastery")),1),Vl,e("span",null,s(a(h).masteries.berserk),1)])]),e("div",Wl,[e("div",ql,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",El,s(t.$t("constants.criticalResistance")),1),Il,e("span",null,s(a(h).resistances.critical),1)]),e("div",Pl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Tl,s(t.$t("constants.rearResistance")),1),Dl,e("span",null,s(a(h).resistances.rear),1)]),e("div",Ml,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Rl,s(t.$t("constants.armorGiven")),1),Ll,e("span",null,s(a(h).stats.armorGiven)+"%",1)]),e("div",Ul,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Fl,s(t.$t("characterSheet.statsDisplay.armorReceived")),1),Ol,e("span",null,s(a(h).stats.armorReceived)+"%",1)]),e("div",Nl,[l(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",jl,s(t.$t("characterSheet.statsDisplay.indirectDamage")),1),Hl,e("span",null,s(a(h).stats.indirectDamage)+"%",1)])])])])])])):K("",!0)}}},zl=be(Bl,[["__scopeId","data-v-0d2a0c48"]]);const Gl=g=>($e("data-v-c1799ab4"),g=g(),ye(),g),Yl={class:"flex align-items-center my-1"},Jl={class:"entry-label ml-2"},Ql=Gl(()=>e("div",{class:"flex-grow-1"},null,-1)),Xl={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(g){return(h,M)=>{const t=E("p-image"),y=E("p-inputNumber");return n(),u("div",Yl,[l(t,{src:g.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Jl,s(g.label),1),Ql,l(y,Oe(h.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(g.maxOverride,g.remainingPoints+h.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:g.updateFunction}),null,16,["max","onInput"])])}}},ee=be(Xl,[["__scopeId","data-v-c1799ab4"]]);const De=g=>($e("data-v-d18760ce"),g=g(),ye(),g),Zl={class:"flex flex-column h-full"},Kl={class:"characteristic-panels flex pb-3"},ea={class:"flex flex-column flex-grow-1 mr-1"},ta={class:"characteristics-category-header px-2 py-2"},sa=De(()=>e("div",{class:"flex-grow-1"},null,-1)),la={class:"flex flex-column px-2 py-1"},aa={class:"characteristics-category-header px-2 py-2"},ia=De(()=>e("div",{class:"flex-grow-1"},null,-1)),na={class:"flex flex-column px-2 py-1"},oa={class:"characteristics-category-header px-2 py-2"},ca=De(()=>e("div",{class:"flex-grow-1"},null,-1)),ra={class:"flex flex-column px-2 py-1"},ua={class:"flex flex-column flex-grow-1 ml-1"},da={class:"characteristics-category-header px-2 py-2"},pa=De(()=>e("div",{class:"flex-grow-1"},null,-1)),ma={class:"flex flex-column px-2 py-1"},ha={class:"characteristics-category-header px-2 py-2"},va=De(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"flex flex-column px-2 py-1"},ga={__name:"CharacteristicsTabContent",setup(g,{expose:h}){const M=_e("masterData"),t=_e("currentCharacter"),y=$(!1),f=me(()=>y.value?10:1);at(()=>{document.addEventListener("keydown",i=>{J(i)}),document.addEventListener("keyup",i=>{J(i)})});const J=i=>{i.shiftKey?y.value=!0:y.value=!1},P=$(t.value.characteristics.intelligence.percentHealthPoints),se=$(t.value.characteristics.intelligence.elementalResistance),Q=$(t.value.characteristics.intelligence.barrier),j=$(t.value.characteristics.intelligence.percentHealsReceived),O=$(t.value.characteristics.intelligence.percentArmorHeathPoints),A=$(t.value.characteristics.strength.elementalMastery),q=$(t.value.characteristics.strength.meleeMastery),R=$(t.value.characteristics.strength.distanceMastery),D=$(t.value.characteristics.strength.healthPoints),_=$(t.value.characteristics.agility.lock),L=$(t.value.characteristics.agility.dodge),H=$(t.value.characteristics.agility.initiative),oe=$(t.value.characteristics.agility.lockAndDodge),b=$(t.value.characteristics.agility.forceOfWill),w=$(t.value.characteristics.fortune.percentCriticalHit),G=$(t.value.characteristics.fortune.percentBlock),F=$(t.value.characteristics.fortune.criticalMastery),le=$(t.value.characteristics.fortune.rearMastery),S=$(t.value.characteristics.fortune.berserkMastery),T=$(t.value.characteristics.fortune.healingMastery),B=$(t.value.characteristics.fortune.rearResistance),te=$(t.value.characteristics.fortune.criticalResistance),V=$(t.value.characteristics.major.actionPoints),U=$(t.value.characteristics.major.movementPointsAndDamage),I=$(t.value.characteristics.major.rangeAndDamage),ie=$(t.value.characteristics.major.wakfuPoints),de=$(t.value.characteristics.major.controlAndDamage),pe=$(t.value.characteristics.major.percentDamageInflicted),k=$(t.value.characteristics.major.elementalResistance),m=i=>{let r=0;return i==="intelligence"?r=P.value+se.value+Q.value+j.value+O.value:i==="strength"?r=A.value+q.value+R.value+D.value:i==="agility"?r=_.value+L.value+H.value+oe.value+b.value:i==="fortune"?r=w.value+G.value+F.value+le.value+S.value+T.value+B.value+te.value:i==="major"&&(r=V.value+U.value+I.value+ie.value+de.value+pe.value+k.value),t.value.characteristics.limits[i]-r},z=()=>{t.value.characteristics.intelligence.percentHealthPoints=P.value,t.value.characteristics.intelligence.elementalResistance=se.value,t.value.characteristics.intelligence.barrier=Q.value,t.value.characteristics.intelligence.percentHealsReceived=j.value,t.value.characteristics.intelligence.percentArmorHeathPoints=O.value,t.value.characteristics.strength.elementalMastery=A.value,t.value.characteristics.strength.meleeMastery=q.value,t.value.characteristics.strength.distanceMastery=R.value,t.value.characteristics.strength.healthPoints=D.value,t.value.characteristics.agility.lock=_.value,t.value.characteristics.agility.dodge=L.value,t.value.characteristics.agility.initiative=H.value,t.value.characteristics.agility.lockAndDodge=oe.value,t.value.characteristics.agility.forceOfWill=b.value,t.value.characteristics.fortune.percentCriticalHit=w.value,t.value.characteristics.fortune.percentBlock=G.value,t.value.characteristics.fortune.criticalMastery=F.value,t.value.characteristics.fortune.rearMastery=le.value,t.value.characteristics.fortune.berserkMastery=S.value,t.value.characteristics.fortune.healingMastery=T.value,t.value.characteristics.fortune.rearResistance=B.value,t.value.characteristics.fortune.criticalResistance=te.value,t.value.characteristics.major.actionPoints=V.value,t.value.characteristics.major.movementPointsAndDamage=U.value,t.value.characteristics.major.rangeAndDamage=I.value,t.value.characteristics.major.wakfuPoints=ie.value,t.value.characteristics.major.controlAndDamage=de.value,t.value.characteristics.major.percentDamageInflicted=pe.value,t.value.characteristics.major.elementalResistance=k.value};Pe(M,Ze.debounce(()=>{P.value=t.value.characteristics.intelligence.percentHealthPoints,se.value=t.value.characteristics.intelligence.elementalResistance,Q.value=t.value.characteristics.intelligence.barrier,j.value=t.value.characteristics.intelligence.percentHealsReceived,O.value=t.value.characteristics.intelligence.percentArmorHeathPoints,A.value=t.value.characteristics.strength.elementalMastery,q.value=t.value.characteristics.strength.meleeMastery,R.value=t.value.characteristics.strength.distanceMastery,D.value=t.value.characteristics.strength.healthPoints,_.value=t.value.characteristics.agility.lock,L.value=t.value.characteristics.agility.dodge,H.value=t.value.characteristics.agility.initiative,oe.value=t.value.characteristics.agility.lockAndDodge,b.value=t.value.characteristics.agility.forceOfWill,w.value=t.value.characteristics.fortune.percentCriticalHit,G.value=t.value.characteristics.fortune.percentBlock,F.value=t.value.characteristics.fortune.criticalMastery,le.value=t.value.characteristics.fortune.rearMastery,S.value=t.value.characteristics.fortune.berserkMastery,T.value=t.value.characteristics.fortune.healingMastery,B.value=t.value.characteristics.fortune.rearResistance,te.value=t.value.characteristics.fortune.criticalResistance,V.value=t.value.characteristics.major.actionPoints,U.value=t.value.characteristics.major.movementPointsAndDamage,I.value=t.value.characteristics.major.rangeAndDamage,ie.value=t.value.characteristics.major.wakfuPoints,de.value=t.value.characteristics.major.controlAndDamage,pe.value=t.value.characteristics.major.percentDamageInflicted,k.value=t.value.characteristics.major.elementalResistance},100));const c=me(()=>m("intelligence")<0||m("strength")<0||m("agility")<0||m("fortune")<0||m("major")<0);return h({hasCharacteristicsError:c}),(i,r)=>{var d,x,ce,ge,fe,xe,qe,we,Ce,o,W,v,ue,Ee,Je;return n(),u("div",Zl,[e("div",Kl,[e("div",ea,[e("div",{class:ae(["category-wrapper flex flex-column",{error:m("intelligence")<0}])},[e("div",ta,[e("span",null,s(i.$t("characterSheet.characteristicsContent.intelligence")),1),sa,e("span",null,s(m("intelligence"))+"/"+s((ce=(x=(d=a(t))==null?void 0:d.characteristics)==null?void 0:x.limits)==null?void 0:ce.intelligence)+" "+s(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",la,[l(ee,{modelValue:P.value,"onUpdate:modelValue":r[0]||(r[0]=C=>P.value=C),label:i.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":m("intelligence"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:se.value,"onUpdate:modelValue":r[1]||(r[1]=C=>se.value=C),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":m("intelligence"),"update-function":z,"max-override":10,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:Q.value,"onUpdate:modelValue":r[2]||(r[2]=C=>Q.value=C),label:i.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":m("intelligence"),"update-function":z,"max-override":10,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:j.value,"onUpdate:modelValue":r[3]||(r[3]=C=>j.value=C),label:i.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":m("intelligence"),"update-function":z,"max-override":5,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:O.value,"onUpdate:modelValue":r[4]||(r[4]=C=>O.value=C),label:i.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":m("intelligence"),"update-function":z,"max-override":10,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ae(["category-wrapper flex flex-column mt-2",{error:m("strength")<0}])},[e("div",aa,[e("span",null,s(i.$t("characterSheet.characteristicsContent.strength")),1),ia,e("span",null,s(m("strength"))+"/"+s((xe=(fe=(ge=a(t))==null?void 0:ge.characteristics)==null?void 0:fe.limits)==null?void 0:xe.strength)+" "+s(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",na,[l(ee,{modelValue:A.value,"onUpdate:modelValue":r[5]||(r[5]=C=>A.value=C),label:i.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":m("strength"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:q.value,"onUpdate:modelValue":r[6]||(r[6]=C=>q.value=C),label:i.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":m("strength"),"update-function":z,"max-override":40,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:R.value,"onUpdate:modelValue":r[7]||(r[7]=C=>R.value=C),label:i.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":m("strength"),"update-function":z,"max-override":40,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:D.value,"onUpdate:modelValue":r[8]||(r[8]=C=>D.value=C),label:i.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":m("strength"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ae(["category-wrapper flex flex-column mt-2",{error:m("agility")<0}])},[e("div",oa,[e("span",null,s(i.$t("characterSheet.characteristicsContent.agility")),1),ca,e("span",null,s(m("agility"))+"/"+s((Ce=(we=(qe=a(t))==null?void 0:qe.characteristics)==null?void 0:we.limits)==null?void 0:Ce.agility)+" "+s(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ra,[l(ee,{modelValue:_.value,"onUpdate:modelValue":r[9]||(r[9]=C=>_.value=C),label:i.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":m("agility"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:L.value,"onUpdate:modelValue":r[10]||(r[10]=C=>L.value=C),label:i.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":m("agility"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:H.value,"onUpdate:modelValue":r[11]||(r[11]=C=>H.value=C),label:i.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":m("agility"),"update-function":z,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:oe.value,"onUpdate:modelValue":r[12]||(r[12]=C=>oe.value=C),label:i.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":m("agility"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:b.value,"onUpdate:modelValue":r[13]||(r[13]=C=>b.value=C),label:i.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":m("agility"),"update-function":z,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",ua,[e("div",{class:ae(["category-wrapper flex flex-column flex-grow-1",{error:m("fortune")<0}])},[e("div",da,[e("span",null,s(i.$t("characterSheet.characteristicsContent.fortune")),1),pa,e("span",null,s(m("fortune"))+"/"+s((v=(W=(o=a(t))==null?void 0:o.characteristics)==null?void 0:W.limits)==null?void 0:v.fortune)+" "+s(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ma,[l(ee,{modelValue:w.value,"onUpdate:modelValue":r[14]||(r[14]=C=>w.value=C),label:i.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":m("fortune"),"update-function":z,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:G.value,"onUpdate:modelValue":r[15]||(r[15]=C=>G.value=C),label:i.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":m("fortune"),"update-function":z,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:F.value,"onUpdate:modelValue":r[16]||(r[16]=C=>F.value=C),label:i.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":m("fortune"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:le.value,"onUpdate:modelValue":r[17]||(r[17]=C=>le.value=C),label:i.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":m("fortune"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:S.value,"onUpdate:modelValue":r[18]||(r[18]=C=>S.value=C),label:i.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":m("fortune"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:T.value,"onUpdate:modelValue":r[19]||(r[19]=C=>T.value=C),label:i.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":m("fortune"),"update-function":z,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:B.value,"onUpdate:modelValue":r[20]||(r[20]=C=>B.value=C),label:i.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":m("fortune"),"update-function":z,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:te.value,"onUpdate:modelValue":r[21]||(r[21]=C=>te.value=C),label:i.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":m("fortune"),"update-function":z,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ae(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:m("major")<0}])},[e("div",ha,[e("span",null,s(i.$t("characterSheet.characteristicsContent.major")),1),va,e("span",null,s(m("major"))+"/"+s((Je=(Ee=(ue=a(t))==null?void 0:ue.characteristics)==null?void 0:Ee.limits)==null?void 0:Je.major)+" "+s(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",_a,[l(ee,{modelValue:V.value,"onUpdate:modelValue":r[22]||(r[22]=C=>V.value=C),label:i.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:U.value,"onUpdate:modelValue":r[23]||(r[23]=C=>U.value=C),label:i.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:I.value,"onUpdate:modelValue":r[24]||(r[24]=C=>I.value=C),label:i.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:ie.value,"onUpdate:modelValue":r[25]||(r[25]=C=>ie.value=C),label:i.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:de.value,"onUpdate:modelValue":r[26]||(r[26]=C=>de.value=C),label:i.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:pe.value,"onUpdate:modelValue":r[27]||(r[27]=C=>pe.value=C),label:i.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),l(ee,{modelValue:k.value,"onUpdate:modelValue":r[28]||(r[28]=C=>k.value=C),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":m("major"),"update-function":z,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},fa=be(ga,[["__scopeId","data-v-d18760ce"]]);const st=g=>($e("data-v-f117c1a1"),g=g(),ye(),g),ba={class:"flex align-items-center flex-wrap mt-3"},$a={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},ya={class:"checkmarks-container flex gap-2"},ka={class:"rarity-container mt-2"},Sa={class:"flex align-items-center mb-1"},xa=st(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),wa={class:"simple-tooltip"},Ca={class:"mr-2 ml-1"},Aa={class:"rarity-button-wrapper"},Va={class:"flex justify-content-center align-items-center"},Wa={class:"simple-tooltip"},qa={class:"item-types-container mt-2"},Ea={class:"flex align-items-center justify-content-center mb-1 w-full"},Ia=st(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Pa={class:"simple-tooltip"},Ta={class:"mr-2 ml-1"},Da={class:"simple-tooltip"},Ma={class:"item-types-button-wrapper"},Ra={class:"filter-category-wrapper"},La={class:"flex justify-content-center align-items-center"},Ua={class:"simple-tooltip"},Fa={class:"filter-category-wrapper"},Oa={class:"flex justify-content-center align-items-center"},Na={class:"simple-tooltip"},ja={class:"filter-category-wrapper"},Ha={class:"flex justify-content-center align-items-center"},Ba={class:"simple-tooltip"},za={class:"filter-list-wrapper mt-3"},Ga={class:"px-2 py-1"},Ya={class:"px-2 py-1"},Ja={__name:"ItemFilters",setup(g){const h=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],t=[N.healthPoints.id,N.healingMastery.id,N.actionPoints.id,N.movementPoints.id,N.rearResistance.id,N.elementalResistance.id,N.fireResistance.id,N.waterResistance.id,N.earthResistance.id,N.airResistance.id,N.elementalMastery.id,N.fireMastery.id,N.earthMastery.id,N.waterMastery.id,N.airMastery.id,N.criticalMastery.id,N.criticalHit.id,N.range.id,N.prospecting.id,N.wisdom.id,N.initiative.id,N.lock.id,N.dodge.id,N.forceOfWill.id,N.rearMastery.id,N.control.id,N.wakfuPoints.id,N.percentBlock.id,N.criticalResistance.id,N.meleeMastery.id,N.distanceMastery.id,N.berserkMastery.id,N.randomElementalMasteries.id,N.randomElementalResistances.id,N.harvestingQuantity.id].map(S=>({value:S,text:N[S].text})),y=_e("itemFilters"),f=$(""),J=$([y.startLevel,y.endLevel]),P=$([]),se=$(y.rarityFilters),Q=$(y.itemTypeFilters),j=$(!1),O=()=>{_()},A=(S,T)=>{T==="min"&&(J.value[0]=S.value),T==="max"&&(J.value[1]=S.value),_()},q=()=>{_()},R=(S,T)=>{S.ctrlKey&&y.itemTypeFilters.forEach(B=>{B.id!==T?B.checked=!1:B.checked=!0}),_()},D=(S,T)=>{S.ctrlKey&&y.rarityFilters.forEach(B=>{B.id!==T?B.checked=!1:B.checked=!0}),_()},_=Ze.debounce(S=>{var T;y.searchTerm=f.value,y.startLevel=J.value[0],y.endLevel=J.value[1],y.effectFilters=P.value,y.rarityFilters=se.value,S&&((T=S.rawIds)!=null&&T.length)?L(S):y.itemTypeFilters=Q.value},100),L=S=>{S.rawIds.forEach(T=>{let B=Q.value.find(te=>te.rawId===T);B.checked=S.checked})},H=()=>{let S={type:t[0],comparator:h[2],value:0};P.value.push(S),_()},oe=S=>{let T=P.value.indexOf(S);P.value.splice(T,1),_()},b=()=>{y.resetFilters(),f.value=y.searchTerm,J.value[0]=y.startLevel,J.value[1]=y.endLevel,P.value=y.effectFilters,se.value=y.rarityFilters,Q.value=y.itemTypeFilters},w=()=>{y.rarityFilters.forEach(S=>{S.checked=!0}),_()},G=()=>{y.rarityFilters.forEach(S=>{S.checked=!1}),_()},F=()=>{y.itemTypeFilters.forEach(S=>{S.checked=!0}),_()},le=()=>{y.itemTypeFilters.forEach(S=>{S.checked=!1}),_()};return(S,T)=>{const B=E("p-inputText"),te=E("p-inputNumber"),V=E("p-slider"),U=E("p-button"),I=E("tippy"),ie=E("p-image"),de=E("p-checkbox"),pe=E("p-dropdown");return n(),u(Y,null,[e("div",ba,[l(B,{modelValue:f.value,"onUpdate:modelValue":T[0]||(T[0]=k=>f.value=k),placeholder:S.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:O},null,8,["modelValue","placeholder"]),e("div",$a,[l(te,{modelValue:J.value[0],"onUpdate:modelValue":T[1]||(T[1]=k=>J.value[0]=k),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:T[2]||(T[2]=k=>A(k,"min"))},null,8,["modelValue"]),l(V,{modelValue:J.value,"onUpdate:modelValue":T[3]||(T[3]=k=>J.value=k),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:q},null,8,["modelValue"]),l(te,{modelValue:J.value[1],"onUpdate:modelValue":T[4]||(T[4]=k=>J.value[1]=k),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:T[5]||(T[5]=k=>A(k,"max"))},null,8,["modelValue"])]),l(U,{class:"filter-button",label:S.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:b},null,8,["label"])]),e("div",ya,[e("div",ka,[e("div",Sa,[l(U,{class:"filter-button item-filter-action mr-2",label:S.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:w},null,8,["label"]),l(I,{placement:"top"},{content:p(()=>[e("div",wa,s(S.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[xa]),_:1}),e("div",Ca,s(S.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),l(U,{class:"filter-button item-filter-action",label:S.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:G},null,8,["label"])]),e("div",Aa,[(n(!0),u(Y,null,ne(se.value,k=>(n(),re(I,{key:k.id,duration:"0"},{content:p(()=>[e("div",Wa,s(S.$t(k.name)),1)]),default:p(()=>[l(de,{modelValue:k.checked,"onUpdate:modelValue":m=>k.checked=m,binary:!0,class:"rarity-checkbox",onChange:m=>D(m,k.id)},{icon:p(m=>[e("div",Va,[l(ie,{class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",qa,[e("div",Ea,[l(U,{class:"filter-button item-filter-action mr-2",label:S.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:F},null,8,["label"]),l(I,{placement:"top"},{content:p(()=>[e("div",Pa,s(S.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Ia]),_:1}),e("div",Ta,s(S.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),l(I,null,{content:p(()=>[e("div",Da,s(S.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:p(()=>[l(de,{modelValue:j.value,"onUpdate:modelValue":T[6]||(T[6]=k=>j.value=k),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),l(U,{class:"filter-button item-filter-action",label:S.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:le},null,8,["label"])]),e("div",Ma,[e("div",Ra,[(n(!0),u(Y,null,ne(Q.value.filter(k=>k.category==="armor"),k=>(n(),u(Y,{key:k.id},[!k.advanced||j.value?(n(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Ua,s(S.$t(k.name)),1)]),default:p(()=>[l(de,{modelValue:k.checked,"onUpdate:modelValue":m=>k.checked=m,binary:!0,class:"item-type-checkbox",onChange:m=>R(m,k.id)},{icon:p(m=>[e("div",La,[k.rawId?(n(),re(ie,{key:0,class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(n(),re(ie,{key:1,class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):K("",!0)],64))),128))]),e("div",Fa,[(n(!0),u(Y,null,ne(Q.value.filter(k=>k.category==="weapons"),k=>(n(),u(Y,{key:k.id},[!k.advanced||j.value?(n(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Na,s(S.$t(k.name)),1)]),default:p(()=>[l(de,{modelValue:k.checked,"onUpdate:modelValue":m=>k.checked=m,binary:!0,class:"item-type-checkbox",onChange:m=>a(_)(k)},{icon:p(m=>[e("div",Oa,[k.rawId?(n(),re(ie,{key:0,class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(n(),re(ie,{key:1,class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):K("",!0)],64))),128))]),e("div",ja,[(n(!0),u(Y,null,ne(Q.value.filter(k=>k.category==="miscellaneous"),k=>(n(),u(Y,{key:k.id},[!k.advanced||j.value?(n(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Ba,s(S.$t(k.name)),1)]),default:p(()=>[l(de,{modelValue:k.checked,"onUpdate:modelValue":m=>k.checked=m,binary:!0,class:"item-type-checkbox",onChange:a(_)},{icon:p(m=>[e("div",Ha,[k.rawId?(n(),re(ie,{key:0,class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(n(),re(ie,{key:1,class:ae({disabled:!m.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):K("",!0)],64))),128))])])])]),e("div",za,[l(U,{icon:"pi pi-plus",class:"filter-button",label:S.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:H},null,8,["label"]),(n(!0),u(Y,null,ne(P.value,k=>(n(),u("div",{key:k.id,class:"filter-entry"},[l(pe,{modelValue:k.type,"onUpdate:modelValue":m=>k.type=m,class:"filter-type-dropdown",options:a(t),filter:"","auto-filter-focus":"","option-label":"text",onChange:a(_)},{value:p(m=>[ve(s(S.$t(m.value.text)),1)]),option:p(m=>[e("div",Ga,s(S.$t(m.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),l(pe,{modelValue:k.comparator,"onUpdate:modelValue":m=>k.comparator=m,class:"filter-comparator-dropdown",options:h,"option-label":"text",onChange:a(_)},{value:p(m=>[ve(s(m.value.symbol),1)]),option:p(m=>[e("div",Ya,s(S.$t(m.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),l(te,{modelValue:k.value,"onUpdate:modelValue":m=>k.value=m,class:"filter-value-input","allow-empty":!1,onInput:a(_)},null,8,["modelValue","onUpdate:modelValue","onInput"]),l(U,{class:"remove-filter-button",icon:"pi pi-trash",onClick:m=>oe(k)},null,8,["onClick"])]))),128))])],64)}}},Qa=be(Ja,[["__scopeId","data-v-f117c1a1"]]);const Ge=g=>($e("data-v-e31aa2f7"),g=g(),ye(),g),Xa={class:"item-card"},Za={key:0,class:"slot-label text-center pt-1 pb-1"},Ka={class:"flex px-2 pt-2"},ei={class:"flex flex-column ml-1"},ti={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},si={class:"flex"},li={key:0},ai={key:1},ii={key:2,class:"ml-1"},ni=Ge(()=>e("div",{class:"flex-grow-1"},null,-1)),oi={class:"flex flex-column"},ci=Ge(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),ri={key:0,class:"item-card-tooltip"},ui={key:0,class:"effect-header existing-item flex pt-2 px-1"},di={class:"flex flex-column ml-1"},pi={class:"item-name mr-2"},mi={class:"flex"},hi={key:0},vi={key:1},_i={key:2,class:"ml-1"},gi=Ge(()=>e("div",{class:"ml-1"},"(equipped)",-1)),fi={class:"effect-header flex pt-2 px-1"},bi={class:"flex flex-column ml-1"},$i={class:"item-name mr-2"},yi={class:"flex"},ki={key:0},Si={key:1},xi={key:2,class:"ml-1"},wi={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1}},setup(g){let h=g,M=document;const t=Be(),y=_e("currentCharacter"),{getItemEncyclopediaUrl:f}=et(),{equipItem:J}=Ne(y),P=me(()=>{var A,q;let O=h.item.type.validSlots[0];return((A=y.value.equipment[O])==null?void 0:A.id)!==((q=h.item)==null?void 0:q.id)?y.value.equipment[O]:null}),se=(j,O)=>{J(j,O,t)},Q=j=>{let O=f(j);window.open(O,"_blank")};return(j,O)=>{const A=E("p-image"),q=E("p-button"),R=E("tippy");return n(),re(Te,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(M).body,"max-width":500},{trigger:p(()=>[e("div",Xa,[g.withSlotLabel?(n(),u("div",Za,s(g.item.type.validSlots[0]==="LEFT_HAND"?"Ring":j.$t(a(Z)[g.item.type.validSlots[0]].name))+" Slot ",1)):K("",!0),e("div",Ka,[l(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${g.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ei,[e("div",ti,s(j.$t(`items.${g.item.id}`)),1),e("div",si,[l(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${g.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(g.item.type.id)?(n(),u("div",li,"Item Level: "+s(g.item.id===12237?"25":"50"),1)):(n(),u("div",ai,"Lvl: "+s(g.item.level),1)),g.item.type.validSlots[0]===a(Z).FIRST_WEAPON.id?(n(),u("div",ii,s(g.item.type.disabledSlots.includes(a(Z).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):K("",!0)])]),ni,e("div",oi,[l(q,{icon:"pi pi-plus",class:"action-button mb-1",onClick:O[0]||(O[0]=D=>se(g.item,D))}),l(R,{placement:"left"},{content:p(()=>[ci]),default:p(()=>[l(q,{icon:"pi pi-question-circle",class:"action-button",onClick:O[1]||(O[1]=D=>Q(g.item))})]),_:1})])])])]),content:p(()=>[g.item?(n(),u("div",ri,[P.value?(n(),u("div",ui,[l(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${P.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",di,[e("div",pi,s(j.$t(`items.${P.value.id}`)),1),e("div",mi,[l(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${P.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${P.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(P.value.type.id)?(n(),u("div",hi,"Item Level: "+s(P.value.id===12237?"25":"50"),1)):(n(),u("div",vi,"Lvl: "+s(P.value.level),1)),P.value.type.validSlots[0]===a(Z).FIRST_WEAPON.id?(n(),u("div",_i,s(P.value.type.disabledSlots.includes(a(Z).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):K("",!0),gi])])])):K("",!0),l(We,{item:g.item,"with-comparisons":"","with-totals":g.withTotals},null,8,["item","with-totals"]),e("div",fi,[l(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${g.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",bi,[e("div",$i,s(j.$t(`items.${g.item.id}`)),1),e("div",yi,[l(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${g.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(g.item.type.id)?(n(),u("div",ki,"Item Level: "+s(g.item.id===12237?"25":"50"),1)):(n(),u("div",Si,"Lvl: "+s(g.item.level),1)),g.item.type.validSlots[0]===a(Z).FIRST_WEAPON.id?(n(),u("div",xi,s(g.item.type.disabledSlots.includes(a(Z).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):K("",!0)])])])])):K("",!0)]),_:1},8,["append-to"])}}},lt=be(wi,[["__scopeId","data-v-e31aa2f7"]]);const Ye=g=>($e("data-v-1858fe31"),g=g(),ye(),g),Ci={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Ai={class:"flex align-items-center"},Vi={class:"px-2 py-1"},Wi={class:"px-2 py-1"},qi=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),Ei={class:"ml-2"},Ii=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),Pi={class:"mr-1"},Ti={class:"mr-1 ml-3"},Di={key:0,class:"flex"},Mi={key:0,class:"item-card with-stats"},Ri={class:"flex px-2 pt-2"},Li={class:"flex flex-column ml-1"},Ui={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Fi={class:"flex"},Oi={key:0},Ni={key:1},ji={key:2,class:"ml-1"},Hi=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),Bi={class:"flex flex-column gap-1"},zi={key:1},Gi={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Yi={class:"text-center mt-2"},Ji={class:"flex justify-content-center"},Qi={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Xi={__name:"EquipmentTabContent",setup(g,{expose:h}){const M=Be(),{t}=ze(),y=_e("currentCharacter"),f=_e("currentItemList"),J=_e("itemListLoading"),P=_e("itemFilters"),se=$(null),Q=$(4),{getNumTotalItems:j}=Ne(),{getItemEncyclopediaUrl:O}=et(),A=()=>{Q.value=Math.floor((se.value.clientWidth-16)/(D.value?310+5:230+5))};window.addEventListener("resize",A);let q=me(()=>{let b=[],w=[];return f.value.forEach(G=>{w.length===Q.value?(b.push(w),w=[G]):w.push(G)}),w.length>0&&b.push(w),b.length===0&&b.push([]),b});const R=$(!1),D=$(!1),_=$(!0),L=()=>{R.value=!0,Ie(()=>{A()})};Pe(D,()=>{Ie(()=>{R.value=!1,Ie(()=>{R.value=!0,Ie(()=>{A()})})})});const H=(b,w)=>{let G=b.type.validSlots.includes(Z.LEFT_HAND.id)||b.type.validSlots.includes(Z.RIGHT_HAND.id),F=b.type.disabledSlots.includes(Z.SECOND_WEAPON.id)&&y.value.equipment[Z.SECOND_WEAPON.id]!==null,le=b.type.validSlots[0]===Z.SECOND_WEAPON.id&&y.value.equipment[Z.FIRST_WEAPON.id]!==null&&y.value.equipment[Z.FIRST_WEAPON.id].type.disabledSlots.includes(Z.SECOND_WEAPON.id),S=!1,T=null,B=!1,te=null;Object.keys(y.value.equipment).forEach(I=>{b.rarity===5&&y.value.equipment[I]!==null&&y.value.equipment[I].rarity===5&&(S=!0,T=I),b.rarity===7&&y.value.equipment[I]!==null&&y.value.equipment[I].rarity===7&&(B=!0,te=I)});let V=null;S&&(V=t("characterSheet.equipmentContent.hasRelicWarning")),B&&(V=t("characterSheet.equipmentContent.hasEpicWarning")),F&&(V=t("characterSheet.equipmentContent.twoHandedWeaponWarning")),le&&(V=t("characterSheet.equipmentContent.secondWeaponWarning")),S&&F&&(V=t("characterSheet.equipmentContent.relicAndTwoHandedWarning")),S&&le&&(V=t("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),B&&F&&(V=t("characterSheet.equipmentContent.epicAndTwoHandedWarning")),B&&le&&(V=t("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),F||le||S||B?M.require({group:"popup",target:w.currentTarget,message:V,accept:()=>{G&&(y.value.equipment[Z.LEFT_HAND.id]===null?y.value.equipment[Z.LEFT_HAND.id]=b:y.value.equipment[Z.RIGHT_HAND.id]=b),F&&(y.value.equipment[Z.FIRST_WEAPON.id]=b,y.value.equipment[Z.SECOND_WEAPON.id]=null),le&&(y.value.equipment[Z.FIRST_WEAPON.id]=null,y.value.equipment[Z.SECOND_WEAPON.id]=b),S&&(y.value.equipment[T]=null,y.value.equipment[b.type.validSlots[0]]=b),B&&(y.value.equipment[te]=null,y.value.equipment[b.type.validSlots[0]]=b)}}):G?y.value.equipment[Z.LEFT_HAND.id]===null?y.value.equipment[Z.LEFT_HAND.id]=b:y.value.equipment[Z.RIGHT_HAND.id]=b:b.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",b.type):y.value.equipment[b.type.validSlots[0]]=b},oe=b=>{let w=O(b);window.open(w,"_blank")};return h({showList:L}),(b,w)=>{const G=E("p-divider"),F=E("p-dropdown"),le=E("p-checkbox"),S=E("p-image"),T=E("p-button"),B=E("p-virtualScroller"),te=E("p-progressSpinner");return n(),u("div",Ci,[l(tt,{character:a(y)},null,8,["character"]),l(Qa),l(G,{class:"mt-3 mb-2"}),e("div",Ai,[e("div",null,s(b.$t("characterSheet.equipmentContent.sortBy"))+":",1),l(F,{modelValue:a(P).sortBy,"onUpdate:modelValue":w[0]||(w[0]=V=>a(P).sortBy=V),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:a(it)},{value:p(V=>[ve(s(b.$t(V.value.label)),1)]),option:p(V=>[e("div",Vi,s(b.$t(V.option.label)),1)]),_:1},8,["modelValue","options"]),l(F,{modelValue:a(P).sortOrder,"onUpdate:modelValue":w[1]||(w[1]=V=>a(P).sortOrder=V),class:"sort-dropdown ml-2","option-label":"label",options:a(nt)},{value:p(V=>[ve(s(b.$t(V.value.label)),1)]),option:p(V=>[e("div",Wi,s(b.$t(V.option.label)),1)]),_:1},8,["modelValue","options"]),qi,e("div",Ei,s(a(f).length)+" "+s(b.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+s(a(j)())+" "+s(b.$t("characterSheet.equipmentContent.itemsTotal")),1),Ii,e("span",Pi,s(b.$t("characterSheet.equipmentContent.displayTotals")),1),l(le,{modelValue:_.value,"onUpdate:modelValue":w[2]||(w[2]=V=>_.value=V),binary:!0},null,8,["modelValue"]),e("span",Ti,s(b.$t("characterSheet.equipmentContent.displayStats")),1),l(le,{modelValue:D.value,"onUpdate:modelValue":w[3]||(w[3]=V=>D.value=V),binary:!0},null,8,["modelValue"])]),R.value&&!a(J)?(n(),u("div",{key:0,ref_key:"itemResultsWrapper",ref:se,class:"item-results-wrapper flex flex-grow-1 mt-2"},[l(B,{items:a(q),"item-size":[D.value?215:65,D.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:p(({item:V})=>[a(q)[0].length>0?(n(),u("div",Di,[(n(!0),u(Y,null,ne(V,(U,I)=>(n(),u(Y,{key:I},[D.value&&U?(n(),u("div",Mi,[e("div",Ri,[l(S,{src:`https://tmktahu.github.io/WakfuAssets/items/${U.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Li,[e("div",Ui,s(b.$t(`items.${U.id}`)),1),e("div",Fi,[l(S,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${U.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(S,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${U.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(U.type.id)?(n(),u("div",Oi,s(b.$t("characterSheet.equipmentContent.itemLevel"))+": "+s(U.id===12237?"25":"50"),1)):(n(),u("div",Ni,"Lvl: "+s(U.level),1)),U.type.validSlots[0]===a(Z).FIRST_WEAPON.id?(n(),u("div",ji,s(U.type.disabledSlots.includes(a(Z).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):K("",!0)])]),Hi,e("div",Bi,[l(T,{icon:"pi pi-plus",class:"equip-button",onClick:ie=>H(U,ie)},null,8,["onClick"]),l(T,{icon:"pi pi-question-circle",class:"equip-button",onClick:ie=>oe(U)},null,8,["onClick"])])]),l(We,{"card-mode":"",item:U},null,8,["item"])])):(n(),re(lt,{key:1,item:U,"with-totals":_.value},null,8,["item","with-totals"]))],64))),128))])):(n(),u("div",zi,s(b.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(n(),u("div",Gi,[e("div",Yi,s(b.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Ji,[e("div",Qi,[l(te,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),l(te,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Zi=be(Xi,[["__scopeId","data-v-1858fe31"]]);const ke=g=>($e("data-v-22a133ae"),g=g(),ye(),g),Ki={class:"w-full h-full"},en=ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),tn={class:"simple-tooltip"},sn={class:"flex mt-2"},ln={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},an={class:"disabled-mask"},nn=ke(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),on={key:1,class:"spell-button disabled"},cn={class:"disabled-mask"},rn={class:"mt-3"},un=ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),dn={class:"simple-tooltip"},pn={class:"flex mt-2"},mn={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},hn={key:0},vn=["onClick"],_n=ke(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),gn={class:"spell-tooltip"},fn={class:"spell-name px-2 py-1"},bn={class:"spell-description px-2 py-1"},$n=["innerHTML"],yn={key:0,class:"spell-unlock-number"},kn={class:"flex flex-wrap gap-1"},Sn=["onClick"],xn=ke(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),wn=ke(()=>e("div",{class:"disabled-mask"},null,-1)),Cn={key:0,class:"spell-unlock-number"},An={class:"spell-tooltip"},Vn={class:"spell-name px-2 py-1"},Wn={class:"spell-description px-2 py-1"},qn=["innerHTML"],En={class:"flex flex-wrap gap-1"},In=["onClick"],Pn=ke(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Tn=ke(()=>e("div",{class:"disabled-mask"},null,-1)),Dn={key:0,class:"spell-unlock-number"},Mn={class:"spell-tooltip"},Rn={class:"spell-name px-2 py-1"},Ln={class:"spell-description px-2 py-1"},Un=["innerHTML"],Fn={__name:"SpellTabContent",setup(g){const h=_e("currentCharacter"),{getClassPassiveSpells:M,getSpellHtml:t,getSpellLevel:y}=ot(h),f=me(()=>M(h.value.class).sort((R,D)=>{let _=Ae[R.id],L=Ae[D.id];return _-L})),J=me(()=>M("all").sort((R,D)=>{let _=Ae[R.id],L=Ae[D.id];return _-L})),P=A=>{A.category===je.passive&&(Object.keys(h.value.spells).forEach(q=>{var R;q.includes(je.passive)&&((R=h.value.spells[q])==null?void 0:R.id)===A.id&&(h.value.spells[q]=null)}),Object.keys(h.value.spells).some(q=>{if(q.includes(je.passive)&&O(parseInt(q.replace("passiveSlot","")))&&h.value.spells[q]===null)return h.value.spells[q]=A,!0}))},se=A=>{h.value.spells[A]=null},Q=A=>{let q=!1;return Object.keys(h.value.spells).forEach(R=>{var D;((D=h.value.spells[R])==null?void 0:D.id)===A.id&&(q=!0)}),q},j=A=>{let q=Ae[A.id];return h.value.level>=q},O=A=>{let q=Qe[A-1];return h.value.level>=q};return(A,q)=>{const R=E("tippy"),D=E("p-image");return n(),u("div",Ki,[e("div",null,[l(R,{placement:"left"},{content:p(()=>[e("div",tn,s(A.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:p(()=>[en]),_:1}),ve(" "+s(A.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",sn,[e("div",ln,[(n(),u(Y,null,ne(12,_=>(n(),u(Y,{key:_},[a(h).spells["activeSlot"+_]!==null?(n(),u("div",{key:0,class:"spell-button disabled",onClick:q[0]||(q[0]=L=>se(A.spell))},[e("div",an,s(),1),nn,l(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(h).spells["activeSlot"+_].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(n(),u("div",on,[l(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",cn,s(),1)]))],64))),64))])]),e("div",rn,[l(R,{placement:"left"},{content:p(()=>[e("div",dn,s(A.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:p(()=>[un]),_:1}),ve(" "+s(A.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",pn,[e("div",mn,[(n(),u(Y,null,ne(6,_=>(n(),u(Y,{key:_},[a(h).spells["passiveSlot"+_]!==null?(n(),u("div",hn,[l(R,{duration:"0"},{content:p(()=>[e("div",gn,[e("div",fn,s(a(h).spells["passiveSlot"+_].name)+" (Level "+s(a(y)(a(h).spells["passiveSlot"+_]))+") ",1),e("div",bn,s(a(h).spells["passiveSlot"+_].description),1),e("div",{class:"spell-details",innerHTML:a(t)(a(h).spells["passiveSlot"+_])},null,8,$n)])]),default:p(()=>[e("div",{class:"spell-button",onClick:L=>se("passiveSlot"+_)},[_n,l(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(h).spells["passiveSlot"+_].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,vn)]),_:2},1024)])):(n(),u("div",{key:1,class:ae(["spell-slot",{disabled:!O(_)}])},[l(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),O(_)?K("",!0):(n(),u("div",yn,s(a(Qe)[_-1]),1))],2))],64))),64))]),e("div",kn,[(n(!0),u(Y,null,ne(f.value,_=>(n(),re(R,{key:_.id,duration:"0"},{content:p(()=>[e("div",An,[e("div",Vn,s(_.name)+" (Level "+s(a(y)(_))+")",1),e("div",Wn,s(_.description),1),e("div",{class:"spell-details",innerHTML:a(t)(_)},null,8,qn)])]),default:p(()=>[e("div",{class:ae(["spell-button",{disabled:Q(_)||!j(_)}]),onClick:L=>P(_)},[xn,wn,l(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${_.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),j(_)?K("",!0):(n(),u("div",Cn,s(a(Ae)[_.id]),1))],10,Sn)]),_:2},1024))),128))]),e("div",En,[(n(!0),u(Y,null,ne(J.value,_=>(n(),re(R,{key:_.id,duration:"0"},{content:p(()=>[e("div",Mn,[e("div",Rn,s(_.name)+" (Level "+s(a(y)(_))+")",1),e("div",Ln,s(_.description),1),e("div",{class:"spell-details",innerHTML:a(t)(_)},null,8,Un)])]),default:p(()=>[e("div",{class:ae(["spell-button",{disabled:Q(_)||!j(_)}]),onClick:L=>P(_)},[Pn,Tn,l(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${_.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),j(_)?K("",!0):(n(),u("div",Dn,s(a(Ae)[_.id]),1))],10,In)]),_:2},1024))),128))])])])}}},On=be(Fn,[["__scopeId","data-v-22a133ae"]]),Nn={class:"flex align-items-center"},jn={class:"mx-2"},Hn=e("i",{class:"mdi mdi-information-outline"},null,-1),Bn={class:"simple-tooltip"},Ve={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(g){return(h,M)=>{const t=E("p-checkbox"),y=E("tippy");return n(),u("div",Nn,[l(t,Oe(h.$attrs,{binary:!0}),null,16),e("div",jn,s(g.label),1),g.tooltipText?(n(),re(y,{key:0,placement:"left",duration:"0"},{content:p(()=>[e("div",Bn,s(g.tooltipText),1)]),default:p(()=>[Hn]),_:1})):K("",!0)])}}},zn={class:"flex align-items-center"},Gn={class:"mx-2"},Yn=e("i",{class:"mdi mdi-information-outline"},null,-1),Jn={class:"simple-tooltip"},Le={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(g){return(h,M)=>{const t=E("p-inputNumber"),y=E("tippy");return n(),u("div",zn,[l(t,Oe(h.$attrs,{class:"number-input"}),null,16),e("div",Gn,s(g.label),1),l(y,{placement:"left",duration:"0"},{content:p(()=>[e("div",Jn,s(g.tooltipText),1)]),default:p(()=>[Yn]),_:1})])}}};const Me=g=>($e("data-v-48af5ea5"),g=g(),ye(),g),Qn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Xn={class:"flex flex-column mt-4"},Zn={class:"flex"},Kn={class:"flex mt-3"},eo={class:"setting-group flex flex-column mr-3 gap-2"},to={class:"mb-2"},so=Me(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),lo={class:"simple-tooltip"},ao={class:"setting-group flex flex-column mr-3"},io={class:"flex flex-column gap-2"},no={class:"mb-2"},oo=Me(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),co={class:"simple-tooltip"},ro={class:"flex align-items-center"},uo={class:"mr-2"},po={class:"px-2 py-1"},mo={class:"flex align-items-center"},ho={class:"mr-2"},vo={class:"px-2 py-1"},_o={class:"flex align-items-center"},go={class:"mr-2"},fo={class:"px-2 py-1"},bo={class:"flex align-items-center"},$o={class:"mr-2"},yo={class:"px-2 py-1"},ko={class:"flex align-items-center"},So={class:"mr-2"},xo={class:"px-2 py-1"},wo={class:"flex flex-column"},Co={class:"rarity-container"},Ao={class:"flex align-items-center mb-1"},Vo=Me(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Wo={class:"simple-tooltip"},qo={class:"mr-2 ml-1"},Eo={class:"rarity-button-wrapper"},Io={class:"flex justify-content-center align-items-center"},Po={class:"simple-tooltip"},To={class:"setting-group flex flex-column gap-2 mt-2"},Do={class:"mb-2"},Mo=Me(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ro={class:"simple-tooltip"},Lo={key:0,class:"warning-message mt-2 py-1 px-2"},Uo={class:"flex align-items-center mt-3"},Fo=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Oo=["innerHTML"],No={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},jo={key:0,class:"error-state px-3 py-3"},Ho={key:0,class:"mt-1"},Bo={key:1},zo={class:"mt-3"},Go={key:0,class:"mt-2"},Yo={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Jo={key:1},Qo={class:"flex flex-wrap gap-1 mt-2"},Xo={key:2,class:"loading-state px-3 py-3"},Zo={class:"mt-2"},Ko={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},ec={class:"text-center mt-2"},tc={class:"text-center mb-5 mt-2"},sc={class:"flex justify-content-center"},lc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},ac={__name:"ItemSolverTabContent",setup(g){const{t:h}=ze(),M=Be(),t=_e("currentCharacter"),{equipItem:y}=Ne(t),{runCalculations:f,autoBuilderIsReady:J,itemSet:P,builderLoading:se,builderError:Q}=ct(),{createBuildCode:j}=Ke(),O=$(!1),A=$(!0),q=me(()=>{if(O.value)return P.value;{let d=Object.keys(t.value.equipment).map(x=>{if(t.value.equipment[x])return t.value.equipment[x].id}).filter(x=>x!==void 0);return P.value?P.value.filter(x=>!d.includes(x.id)):[]}}),R=$(t.value.actionPoints),D=$(t.value.movementPoints),_=$(t.value.stats.range),L=$(t.value.wakfuPoints),H=$(!1),oe=$(!1),b=$(!1),w=$(!1),G=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],F=[...G,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],le=$(G[0]),S=$(G[0]),T=$(G[0]),B=$(G[0]),te=$(G[0]),V=$(!0),U=$(rt.map(d=>({...d,checked:!0}))),I=$(!0);Pe(J,()=>{I.value=!1});const ie=()=>{U.value.forEach(d=>{d.checked=!0})},de=()=>{U.value.forEach(d=>{d.checked=!1})},pe=me(()=>J.value),k=me(()=>j(t.value)),m=$(null);Pe([R,D,_,L],()=>{m.value=null,R.value-t.value.actionPoints>=6?m.value=h("characterSheet.itemSolverContent.apWarning"):_.value-t.value.stats.range>5?m.value=h("characterSheet.itemSolverContent.rangeImpossibleWarning"):t.value.level<35?_.value-t.value.stats.range>0&&(m.value=h("characterSheet.itemSolverContent.rangeForLevelWarning")):t.value.level<50?_.value-t.value.stats.range>1?m.value=h("characterSheet.itemSolverContent.rangeForLevelWarning"):R.value-t.value.actionPoints+D.value-t.value.movementPoints>4&&(m.value=h("characterSheet.itemSolverContent.combinedApMpWarning")):t.value.level<80&&_.value-t.value.stats.range>3&&(m.value=h("characterSheet.itemSolverContent.rangeForLevelWarning"))});const z=async()=>{let d=U.value.filter(ce=>ce.checked).map(ce=>ce.id),x={buildCode:k.value,meleeMasteryPriority:le.value,distanceMasteryPriority:S.value,healingMasteryPriority:T.value,rearMasteryPriority:B.value,berserkMasteryPriority:te.value,fireMastery:H.value,earthMastery:oe.value,waterMastery:b.value,airMastery:w.value,targetApAmount:R.value||0,targetMpAmount:D.value||0,targetRangeAmount:_.value||0,targetWpAmount:L.value||0,selectedRarityIds:d,ignoreEquippedItems:!V.value};f(x)},c=d=>{M.require({group:"popup",target:d.currentTarget,message:h("confirms.willReplaceItems"),accept:()=>{P.value.forEach(x=>{y(x)})}})},i=(d,x)=>{d.ctrlKey&&U.value.forEach(ce=>{ce.id!==x?ce.checked=!1:ce.checked=!0})},r=()=>`<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>'s`;return(d,x)=>{var Ce,o,W;const ce=E("tippy"),ge=E("p-dropdown"),fe=E("p-button"),xe=E("p-image"),qe=E("p-checkbox"),we=E("p-progressSpinner");return n(),u("div",Qn,[l(tt,{character:a(t)},null,8,["character"]),e("div",Xn,[e("div",Zn,[l(Ve,{modelValue:V.value,"onUpdate:modelValue":x[0]||(x[0]=v=>V.value=v),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Kn,[e("div",eo,[e("div",to,[l(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",lo,s(d.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:p(()=>[so]),_:1}),ve(" "+s(d.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),l(Le,{modelValue:R.value,"onUpdate:modelValue":x[1]||(x[1]=v=>R.value=v),label:d.$t("constants.actionPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),l(Le,{modelValue:D.value,"onUpdate:modelValue":x[2]||(x[2]=v=>D.value=v),label:d.$t("constants.movementPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),l(Le,{modelValue:_.value,"onUpdate:modelValue":x[3]||(x[3]=v=>_.value=v),label:d.$t("constants.range"),"tooltip-text":d.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),l(Le,{modelValue:L.value,"onUpdate:modelValue":x[4]||(x[4]=v=>L.value=v),label:d.$t("constants.wakfuPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",ao,[e("div",io,[e("div",no,[l(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",co,s(d.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:p(()=>[oo]),_:1}),ve(" "+s(d.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",ro,[e("div",uo,s(d.$t("constants.meleeMastery")),1),l(ge,{modelValue:le.value,"onUpdate:modelValue":x[5]||(x[5]=v=>le.value=v),class:"condensed-dropdown","option-label":"label",options:G},{value:p(v=>[ve(s(d.$t(v.value.label)),1)]),option:p(v=>[e("div",po,s(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",mo,[e("div",ho,s(d.$t("constants.distanceMastery")),1),l(ge,{modelValue:S.value,"onUpdate:modelValue":x[6]||(x[6]=v=>S.value=v),class:"condensed-dropdown","option-label":"label",options:G},{value:p(v=>[ve(s(d.$t(v.value.label)),1)]),option:p(v=>[e("div",vo,s(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",_o,[e("div",go,s(d.$t("constants.healingMastery")),1),l(ge,{modelValue:T.value,"onUpdate:modelValue":x[7]||(x[7]=v=>T.value=v),class:"condensed-dropdown","option-label":"label",options:G},{value:p(v=>[ve(s(d.$t(v.value.label)),1)]),option:p(v=>[e("div",fo,s(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",bo,[e("div",$o,s(d.$t("constants.rearMastery")),1),l(ge,{modelValue:B.value,"onUpdate:modelValue":x[8]||(x[8]=v=>B.value=v),class:"condensed-dropdown","option-label":"label",options:F},{value:p(v=>[ve(s(d.$t(v.value.label)),1)]),option:p(v=>[e("div",yo,s(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ko,[e("div",So,s(d.$t("constants.berserkMastery")),1),l(ge,{modelValue:te.value,"onUpdate:modelValue":x[9]||(x[9]=v=>te.value=v),class:"condensed-dropdown","option-label":"label",options:F},{value:p(v=>[ve(s(d.$t(v.value.label)),1)]),option:p(v=>[e("div",xo,s(d.$t(v.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",wo,[e("div",Co,[e("div",Ao,[l(fe,{class:"filter-button item-filter-action mr-2",label:d.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ie},null,8,["label"]),l(ce,{placement:"top"},{content:p(()=>[e("div",Wo,s(d.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Vo]),_:1}),e("div",qo,s(d.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),l(fe,{class:"filter-button item-filter-action",label:d.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:de},null,8,["label"])]),e("div",Eo,[(n(!0),u(Y,null,ne(U.value,v=>(n(),re(ce,{key:v.id,duration:"0"},{content:p(()=>[e("div",Po,s(d.$t(v.name)),1)]),default:p(()=>[l(qe,{modelValue:v.checked,"onUpdate:modelValue":ue=>v.checked=ue,binary:!0,class:"rarity-checkbox",onChange:ue=>i(ue,v.id)},{icon:p(ue=>[e("div",Io,[l(xe,{class:ae({disabled:!ue.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",To,[e("div",Do,[l(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",Ro,s(d.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:p(()=>[Mo]),_:1}),ve(" "+s(d.$t("constants.elementalMasteries")),1)]),l(Ve,{modelValue:H.value,"onUpdate:modelValue":x[10]||(x[10]=v=>H.value=v),label:d.$t("constants.fireMastery")},null,8,["modelValue","label"]),l(Ve,{modelValue:oe.value,"onUpdate:modelValue":x[11]||(x[11]=v=>oe.value=v),label:d.$t("constants.earthMastery")},null,8,["modelValue","label"]),l(Ve,{modelValue:b.value,"onUpdate:modelValue":x[12]||(x[12]=v=>b.value=v),label:d.$t("constants.waterMastery")},null,8,["modelValue","label"]),l(Ve,{modelValue:w.value,"onUpdate:modelValue":x[13]||(x[13]=v=>w.value=v),label:d.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),m.value!==null?(n(),u("div",Lo,s(m.value),1)):K("",!0)]),e("div",Uo,[l(fe,{class:"py-2 px-3 mr-2",disabled:!pe.value,label:(Ce=q.value)!=null&&Ce.length?"Re-Generate Item Set":"Generate Item Set",onClick:z},null,8,["disabled","label"]),l(fe,{class:"py-2 px-3 mr-2",disabled:!((o=q.value)!=null&&o.length),label:"Equip All Items",onClick:x[14]||(x[14]=v=>c(v))},null,8,["disabled"]),l(Ve,{modelValue:O.value,"onUpdate:modelValue":x[15]||(x[15]=v=>O.value=v),label:d.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),l(Ve,{modelValue:A.value,"onUpdate:modelValue":x[16]||(x[16]=v=>A.value=v),label:d.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),Fo,e("div",{innerHTML:d.$t("characterSheet.itemSolverContent.poweredBy",{credit:r()})},null,8,Oo)]),a(se)?(n(),u("div",Ko,[e("div",ec,s(d.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",tc,s(d.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",sc,[e("div",lc,[l(we,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),l(we,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(n(),u("div",No,[a(Q)?(n(),u("div",jo,[a(Q).debug?(n(),u("div",Ho,s(d.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(n(),u("div",Bo,s(d.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",zo,[e("div",null,"Error Code: "+s(a(Q).message),1),a(Q).debug?(n(),u("div",Go,[e("div",Yo,"Debug Code: "+s(a(Q).debug),1)])):K("",!0)])])):(W=q.value)!=null&&W.length?(n(),u("div",Jo,[e("div",Qo,[(n(!0),u(Y,null,ne(q.value,v=>(n(),u("div",{key:v.id,class:"item-card-wrapper"},[l(lt,{item:v,"with-slot-label":"","with-comparisons":"","with-totals":A.value},null,8,["item","with-totals"])]))),128))])])):(n(),u("div",Xo,[e("div",null,s(d.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Zo,s(d.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},ic=be(ac,[["__scopeId","data-v-48af5ea5"]]);const Se=g=>($e("data-v-836c6c82"),g=g(),ye(),g),nc={class:"flex h-full"},oc={class:"flex flex-column"},cc={class:"mb-2"},rc={class:"flex"},uc={class:"mr-2"},dc=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),pc={class:"simple-tooltip flex flex-column"},mc={class:"mb-1"},hc={class:"mb-1"},vc={class:"mb-1"},_c={class:"mb-1"},gc={class:"mb-1"},fc={class:"mb-1"},bc={key:0,class:"item-runes-section flex align-items-center mb-2"},$c=["onClick"],yc=["onClick","onDrop","onContextmenu","onDragstart"],kc={class:"rune-image"},Sc={class:"rune-level"},xc={class:"simple-tooltip"},wc=["onDrop"],Cc={class:"rune-image"},Ac=["onDrop","onClick"],Vc={key:0,class:"sublimation-entry flex align-items-center px-2"},Wc={class:"ml-1"},qc=Se(()=>e("i",{class:"pi pi-trash"},null,-1)),Ec={key:0,class:"item-card-tooltip"},Ic={class:"effect-header flex pt-2 px-1"},Pc={class:"flex flex-column ml-1"},Tc={class:"item-name mr-2"},Dc={class:"rune-requirements flex justify-content-left gap-1 py-1"},Mc=["onDrop","onClick"],Rc={class:"px-2",style:{opacity:"0.5"}},Lc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},Uc={class:"slot-image"},Fc=["onDrop"],Oc={class:"info-text"},Nc={class:"flex mb-2"},jc={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Hc={class:"ml-1"},Bc={key:1,class:"flex align-items-center px-2 py-2"},zc={class:"ml-1"},Gc=Se(()=>e("i",{class:"pi pi-trash"},null,-1)),Yc={key:0,class:"item-card-tooltip"},Jc={class:"effect-header flex pt-2 px-1"},Qc={class:"flex flex-column ml-1"},Xc={class:"item-name mr-2"},Zc={class:"flex justify-content-left py-1 text-xs"},Kc={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},er={class:"ml-1"},tr={key:1,class:"flex align-items-center px-2 py-2"},sr={class:"ml-1"},lr=Se(()=>e("i",{class:"pi pi-trash"},null,-1)),ar={key:0,class:"item-card-tooltip"},ir={class:"effect-header flex pt-2 px-1"},nr={class:"flex flex-column ml-1"},or={class:"item-name mr-2"},cr={class:"flex justify-content-left py-1 text-xs"},rr={class:"stats-summary"},ur={class:"text-lg my-1 pl-2"},dr={class:"stats-summary-list flex flex-column"},pr={key:0,class:"summary-entry px-2 py-1"},mr={class:"ml-2"},hr={class:"flex px-2 py-1"},vr={class:"flex ml-2"},_r={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},gr=Se(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),fr={class:"flex flex-column mr-3"},br={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},$r={class:"flex align-items-center justify-content-center"},yr=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),kr={class:"simple-tooltip"},Sr={class:"mx-2"},xr={class:"rune-options flex flex-column mt-2"},wr=["onDragstart","onClick"],Cr={class:"ml-2"},Ar=Se(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Vr={class:"ml-3 mt-2"},Wr={key:0,class:"flex flex-column",style:{"min-width":"300px"}},qr={class:"flex mt-2"},Er={class:"mx-2"},Ir=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Pr={class:"simple-tooltip"},Tr=["onDragstart"],Dr={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},Mr={class:"effect-header flex pt-2 px-1"},Rr={class:"flex flex-column ml-1"},Lr={class:"item-name"},Ur={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},Fr={class:"flex mt-2"},Or={class:"mx-2"},Nr={class:"mx-2"},jr=["onClick","onDragstart"],Hr={class:"ml-1"},Br={class:"effect-header flex pt-2 px-1"},zr={class:"flex flex-column ml-1"},Gr={class:"item-name"},Yr={class:"flex justify-content-left py-1 text-xs"},Jr={key:0,class:"flex flex-column px-4 py-2"},Qr={class:"mb-2"},Xr={class:"ml-2"},Zr={__name:"RunesSubsTabContent",setup(g,{expose:h}){const{t:M}=ze(),t=_e("currentCharacter"),{getRuneValue:y}=Xe(),{getRunes:f,getSublimations:J,canSublimationFit:P}=Ne(),se=me(()=>f().sort((c,i)=>c.shardsParameters.color-i.shardsParameters.color)),Q=me(()=>J().filter(c=>{var i;return c.sublimationParameters.slotColorPattern.length>0&&M(`items.${c.id}`).toLowerCase().includes((i=O.value)==null?void 0:i.toLowerCase())}).sort((c,i)=>M(`items.${c.id}`).localeCompare(M(`items.${i.id}`))).sort((c,i)=>{if(L.value&&q.value){let r=P(t.value.equipment[L.value],c)?1:0;return(P(t.value.equipment[L.value],i)?1:0)-r}else return 0})),j=me(()=>J().filter(c=>{var i;return z(c)&&M(`items.${c.id}`).toLowerCase().includes((i=A.value)==null?void 0:i.toLowerCase())&&(c.sublimationParameters.isEpic?R.value:!0)&&(c.sublimationParameters.isRelic?D.value:!0)})),O=$(""),A=$(""),q=$(!0),R=$(!0),D=$(!0),_=$(1),L=$(null),H=$(null),oe=$(null),b=$([{label:M("constants.level"),levelSlider:!0},{label:M("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{H.value&&(t.value.equipment[H.value.itemSlotKey][H.value.runeSlotKey].color===0?t.value.equipment[H.value.itemSlotKey][H.value.runeSlotKey].color=t.value.equipment[H.value.itemSlotKey][H.value.runeSlotKey].rune.shardsParameters.color:t.value.equipment[H.value.itemSlotKey][H.value.runeSlotKey].color=0)}},{label:M("constants.remove"),command:()=>{t.value.equipment[H.value.itemSlotKey][H.value.runeSlotKey]=null}}]),w=$(!1),G=()=>{w.value=!1,Ie(()=>{w.value=!0})},F=me(()=>{let c={};return Object.keys(t.value.equipment).forEach(i=>{if(t.value.equipment[i]!==null){let r=t.value.equipment[i];for(let d=1;d<=4;d++){let x=r[`runeSlot${d}`];x&&(c[x.rune.id]||(c[x.rune.id]={totalValue:0,rune:x}),c[x.rune.id].totalValue+=y(x.rune,x.level,i))}r.subSlot&&(c[r.subSlot.equipEffects[0].values[0]]||(c[r.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:r.subSlot}),c[r.subSlot.equipEffects[0].values[0]].totalValue+=r.subSlot.equipEffects[0].values[2])}}),t.value.epicSubSlot&&(c[t.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:t.value.epicSubSlot}),t.value.relicSubSlot&&(c[t.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:t.value.relicSubSlot}),c}),le=(c,i)=>{c.stopPropagation(),L.value===i?L.value=null:L.value=i},S=(c,i,r)=>{c.shiftKey&&(t.value.equipment[i][r].color===0?t.value.equipment[i][r].color=t.value.equipment[i][r].rune.shardsParameters.color:t.value.equipment[i][r].color=0),c.ctrlKey&&(oe.value.hide(),t.value.equipment[i][r]=null)},T=(c,i,r)=>{t.value.equipment[i][r]&&(H.value={itemSlotKey:i,runeSlotKey:r},oe.value.show(c))},B=(c,i)=>{if(L.value&&t.value.equipment[L.value]!==null){let r=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let d in r)if(t.value.equipment[L.value][r[d]]===null||t.value.equipment[L.value][r[d]]===void 0){t.value.equipment[L.value][r[d]]={rune:i,color:i.shardsParameters.color,level:_.value};break}}},te=(c,i,r,d)=>{c.dataTransfer.dropEffect="move",c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("type",i),i==="rune"&&(c.dataTransfer.setData("rune",JSON.stringify(r)),d&&c.dataTransfer.setData("level",d)),i==="sublimation"&&c.dataTransfer.setData("sublimation",JSON.stringify(r))},V=(c,i,r)=>{try{let d=c.dataTransfer.getData("type");if(d==="rune"&&r.includes("rune")){let x=JSON.parse(c.dataTransfer.getData("rune")),ce=c.dataTransfer.getData("level");t.value.equipment[i][r]={rune:x,color:x.shardsParameters.color,level:ce||_.value}}if(d==="sublimation"){let x=JSON.parse(c.dataTransfer.getData("sublimation"));z(x)?x.sublimationParameters.isEpic&&r==="epicSubSlot"?t.value.epicSubSlot=x:x.sublimationParameters.isRelic&&r==="relicSubSlot"&&(t.value.relicSubSlot=x):t.value.equipment[i].subSlot=x}}catch(d){console.error(d)}},U=()=>{let c=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(t.value.equipment).forEach(i=>{t.value.equipment[i]&&(c.forEach(r=>{t.value.equipment[i][r]=void 0}),t.value.equipment[i].subSlot=null)})},I=(c,i,r)=>{t.value[r]=i},ie=c=>{c==="epicSubSlot"?t.value.epicSubSlot=null:c==="relicSubSlot"?t.value.relicSubSlot=null:t.value.equipment[c].subSlot=null},de=c=>{if(c)switch(c){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},pe=c=>{if(c)switch(c){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},k=c=>Object.keys(Z).find(i=>Z[i].rawId===c),m=me(()=>{let c=1;return ut.some((i,r)=>i<=t.value.level?(c=r+1,!1):!0),c}),z=c=>c.sublimationParameters.isRelic||c.sublimationParameters.isEpic;return Pe(()=>t.value.level,()=>{_.value=m.value},{immediate:!0}),h({showLists:G}),(c,i)=>{const r=E("tippy"),d=E("p-image"),x=E("p-inputNumber"),ce=E("p-button"),ge=E("p-inputText"),fe=E("p-checkbox"),xe=E("p-virtualScroller"),qe=E("p-slider"),we=E("p-contextMenu"),Ce=dt("ripple");return n(),u("div",nc,[e("div",oc,[e("div",cc,[l(r,{placement:"left",duration:"0"},{content:p(()=>[e("div",pc,[e("div",mc,s(c.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",hc,s(c.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",vc,s(c.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",_c,s(c.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",gc,s(c.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",fc,s(c.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:p(()=>[e("div",rc,[e("div",uc,s(c.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),dc])]),_:1})]),(n(!0),u(Y,null,ne(Object.keys(a(t).equipment),o=>(n(),u(Y,{key:o},[o!=="ACCESSORY"&&o!=="PET"&&o!=="MOUNT"&&o!=="SECOND_WEAPON"?(n(),u(Y,{key:0},[o!=="undefined"&&a(t).equipment[o]?(n(),u("div",bc,[e("div",{class:ae(["slot-image",{highlighted:L.value===o}]),onClick:W=>le(W,o)},[l(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${o}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,$c),(n(),u(Y,null,ne(4,W=>(n(),u(Y,{key:W},[a(t).equipment[o][`runeSlot${W}`]?(n(),re(r,{key:0,duration:"0"},{content:p(()=>[e("div",xc," +"+s(a(y)(a(t).equipment[o][`runeSlot${W}`].rune,a(t).equipment[o][`runeSlot${W}`].level,o))+" "+s(c.$t(`items.${a(t).equipment[o][`runeSlot${W}`].rune.id}`)),1)]),default:p(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:v=>S(v,o,`runeSlot${W}`),onDragover:i[0]||(i[0]=he(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=he(()=>{},["prevent"])),onDrop:v=>V(v,o,`runeSlot${W}`),onContextmenu:v=>T(v,o,`runeSlot${W}`),onDragstart:v=>te(v,"rune",a(t).equipment[o][`runeSlot${W}`].rune,a(t).equipment[o][`runeSlot${W}`].level)},[e("div",kc,[l(d,{src:pe(a(t).equipment[o][`runeSlot${W}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",Sc,s(a(t).equipment[o][`runeSlot${W}`].level),1)],40,yc)]),_:2},1024)):(n(),u("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=he(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=he(()=>{},["prevent"])),onDrop:v=>V(v,o,`runeSlot${W}`)},[e("div",Cc,[l(d,{src:de(null),"image-style":"width: 26px"},null,8,["src"])])],40,wc))],64))),64)),a(t).equipment[o].subSlot?(n(),re(Te,{key:0,style:{height:"100%"}},{trigger:p(()=>[e("div",{class:ae(["sublimation-drop-zone ml-2",{invalid:!a(P)(a(t).equipment[o],a(t).equipment[o].subSlot)}]),onDragover:i[4]||(i[4]=he(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=he(()=>{},["prevent"])),onDrop:W=>V(W,o,"subSlot"),onClick:W=>ie(o)},[a(t).equipment[o].subSlot?(n(),u("div",Vc,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(t).equipment[o].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Wc,s(c.$t(`items.${a(t).equipment[o].subSlot.id}`)),1)])):K("",!0),qc],42,Ac)]),content:p(()=>[a(t).equipment[o].subSlot?(n(),u("div",Ec,[e("div",Ic,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(t).equipment[o].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Pc,[e("div",Tc,s(c.$t(`items.${a(t).equipment[o].subSlot.id}`)),1),e("div",Dc,[(n(!0),u(Y,null,ne(a(t).equipment[o].subSlot.sublimationParameters.slotColorPattern,(W,v)=>(n(),u("div",{key:v,class:"flex align-items-center"},[l(d,{src:pe(W),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),l(We,{item:a(t).equipment[o].subSlot},null,8,["item"])])):K("",!0)]),_:2},1024)):(n(),u("div",{key:1,class:ae(["sublimation-drop-zone ml-2",{invalid:!a(P)(a(t).equipment[o],a(t).equipment[o].subSlot)}]),onDragover:i[6]||(i[6]=he(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=he(()=>{},["prevent"])),onDrop:W=>V(W,o,"subSlot"),onClick:W=>ie(o)},[e("div",Rc,[l(d,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,Mc))])):o!=="undefined"?(n(),u("div",Lc,[e("div",Uc,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${o}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(n(),u(Y,null,ne(4,W=>e("div",{key:W,class:"rune-drop-zone ml-2",onDragover:i[8]||(i[8]=he(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=he(()=>{},["prevent"])),onDrop:v=>V(v,o,`runeSlot${W}`)},null,40,Fc)),64)),e("div",Oc,s(c.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):K("",!0)],64)):K("",!0)],64))),128)),e("div",Nc,[l(r,{duration:"0",class:"flex h-full"},{content:p(()=>[a(t).epicSubSlot?(n(),u("div",Yc,[e("div",Jc,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(t).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Qc,[e("div",Xc,s(c.$t(`items.${a(t).epicSubSlot.id}`)),1),e("div",Zc,s(a(t).epicSubSlot.sublimationParameters.isEpic?`${c.$t("constants.epicSublimation")}`:"")+" "+s(a(t).epicSubSlot.sublimationParameters.isRelic?`${c.$t("constants.relicSublimation")}`:""),1)])]),l(We,{item:a(t).epicSubSlot},null,8,["item"])])):K("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[10]||(i[10]=he(()=>{},["prevent"])),onDragenter:i[11]||(i[11]=he(()=>{},["prevent"])),onDrop:i[12]||(i[12]=o=>V(o,null,"epicSubSlot")),onClick:i[13]||(i[13]=o=>ie("epicSubSlot"))},[a(t).epicSubSlot?(n(),u("div",jc,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(t).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Hc,s(c.$t(`items.${a(t).epicSubSlot.id}`)),1)])):(n(),u("div",Bc,[l(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",zc,s(c.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Gc],32)]),_:1}),l(r,{duration:"0",class:"flex h-full"},{content:p(()=>[a(t).relicSubSlot?(n(),u("div",ar,[e("div",ir,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(t).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",nr,[e("div",or,s(c.$t(`items.${a(t).relicSubSlot.id}`)),1),e("div",cr,s(a(t).relicSubSlot.sublimationParameters.isEpic?`${c.$t("constants.epicSublimation")}`:"")+" "+s(a(t).relicSubSlot.sublimationParameters.isRelic?`${c.$t("constants.relicSublimation")}`:""),1)])]),l(We,{item:a(t).relicSubSlot},null,8,["item"])])):K("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[14]||(i[14]=he(()=>{},["prevent"])),onDragenter:i[15]||(i[15]=he(()=>{},["prevent"])),onDrop:i[16]||(i[16]=o=>V(o,null,"relicSubSlot")),onClick:i[17]||(i[17]=o=>ie("relicSubSlot"))},[a(t).relicSubSlot?(n(),u("div",Kc,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(t).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",er,s(c.$t(`items.${a(t).relicSubSlot.id}`)),1)])):(n(),u("div",tr,[l(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",sr,s(c.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),lr],32)]),_:1})]),e("div",rr,[e("div",ur,s(c.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",dr,[(n(!0),u(Y,null,ne(Object.keys(F.value),o=>(n(),u(Y,{key:o},[F.value[o].rune?(n(),u("div",pr,[l(d,{src:pe(F.value[o].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",mr,"+"+s(F.value[o].totalValue)+" "+s(c.$t(`items.${F.value[o].rune.rune.id}`)),1)])):F.value[o].sublimation?(n(),u("div",{key:1,class:ae(["summary-entry flex-column align-items-start",{warning:F.value[o].totalValue>a(He)[F.value[o].sublimation.equipEffects[0].values[0]]}])},[e("div",hr,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${F.value[o].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",vr,[e("span",null,s(c.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:F.value[o].totalValue})),1),l(Te,{"state-id":`${F.value[o].sublimation.equipEffects[0].values[0]}`,"current-level":F.value[o].totalValue},null,8,["state-id","current-level"])])]),F.value[o].totalValue>a(He)[F.value[o].sublimation.equipEffects[0].values[0]]?(n(),u("div",_r,[gr,e("span",null,s(c.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(He)[F.value[o].sublimation.equipEffects[0].values[0]]})),1)])):K("",!0)],2)):K("",!0)],64))),128))])])]),e("div",fr,[e("div",br,[e("div",$r,[l(r,{placement:"left",duration:"0"},{content:p(()=>[e("div",kr,s(c.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:p(()=>[yr]),_:1}),e("span",Sr,s(c.$t("characterSheet.runesAndSubsContent.runeLevel")),1),l(x,{modelValue:_.value,"onUpdate:modelValue":i[18]||(i[18]=o=>_.value=o),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:m.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",xr,[(n(!0),u(Y,null,ne(se.value,o=>(n(),u("div",{key:o.id,class:ae(["rune-draggable mb-1 px-2",{highlighted:L.value&&o.shardsParameters.doubleBonusPosition.includes(a(Z)[L.value].rawId)}]),draggable:"true",onDragstart:W=>te(W,"rune",o),onClick:W=>B(W,o)},[l(d,{class:"rune-image",src:de(o.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Cr,"+"+s(a(y)(o,_.value))+" "+s(c.$t(`items.${o.id}`)),1),Ar,(n(!0),u(Y,null,ne(o.shardsParameters.doubleBonusPosition,W=>(n(),u("div",{key:W,class:"ml-1"},[l(d,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${k(W)}.png`,class:ae({disabled:!a(t).equipment[k(W)]}),onClick:v=>le(v,k(W))},null,8,["src","class","onClick"])]))),128))],42,wr))),128))])]),e("div",Vr,[l(ce,{label:c.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:U},null,8,["label"])])]),w.value?(n(),u("div",Wr,[l(ge,{modelValue:O.value,"onUpdate:modelValue":i[19]||(i[19]=o=>O.value=o),class:"py-2 px-2",placeholder:c.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",qr,[l(fe,{modelValue:q.value,"onUpdate:modelValue":i[20]||(i[20]=o=>q.value=o),binary:!0},null,8,["modelValue"]),e("div",Er,s(c.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),l(r,{placement:"top"},{content:p(()=>[e("div",Pr,s(c.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:p(()=>[Ir]),_:1})]),Q.value?(n(),re(xe,{key:0,items:Q.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:o})=>[l(Te,null,{trigger:p(()=>{var W,v;return[e("div",{class:ae(["sublimation-option py-1 px-2 mb-1",{highlighted:a(P)(a(t).equipment[L.value],o)}]),draggable:"true",onDragstart:ue=>te(ue,"sublimation",o)},[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${o.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(v=(W=o.sublimationParameters)==null?void 0:W.slotColorPattern)!=null&&v.length?(n(),u("div",Dr,[(n(!0),u(Y,null,ne(o.sublimationParameters.slotColorPattern,(ue,Ee)=>(n(),u("div",{key:Ee,class:"flex align-items-center"},[l(d,{src:pe(ue),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):K("",!0),e("div",null,s(c.$t(`items.${o.id}`)),1)],42,Tr)]}),content:p(()=>{var W,v;return[e("div",Mr,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${o.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Rr,[e("div",Lr,s(c.$t(`items.${o.id}`)),1),(v=(W=o.sublimationParameters)==null?void 0:W.slotColorPattern)!=null&&v.length?(n(),u("div",Ur,[(n(!0),u(Y,null,ne(o.sublimationParameters.slotColorPattern,(ue,Ee)=>(n(),u("div",{key:Ee,class:"flex align-items-center"},[l(d,{src:pe(ue),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):K("",!0)])]),l(We,{item:o},null,8,["item"])]}),_:2},1024)]),_:1},8,["items"])):K("",!0),l(ge,{modelValue:A.value,"onUpdate:modelValue":i[21]||(i[21]=o=>A.value=o),class:"py-2 px-2",placeholder:c.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",Fr,[l(fe,{modelValue:R.value,"onUpdate:modelValue":i[22]||(i[22]=o=>R.value=o),binary:!0},null,8,["modelValue"]),e("div",Or,s(c.$t("constants.epic")),1),l(fe,{modelValue:D.value,"onUpdate:modelValue":i[23]||(i[23]=o=>D.value=o),binary:!0},null,8,["modelValue"]),e("div",Nr,s(c.$t("constants.relic")),1)]),j.value?(n(),re(xe,{key:1,items:j.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:o})=>[l(Te,null,{trigger:p(()=>{var W,v;return[e("div",{class:ae(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((W=a(t).epicSubSlot)==null?void 0:W.id)===o.id,"relic-highlighted":((v=a(t).relicSubSlot)==null?void 0:v.id)===o.id}]),draggable:"true",onClick:ue=>I(ue,o,o.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:ue=>te(ue,"sublimation",o)},[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${o.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Hr,s(c.$t(`items.${o.id}`))+" "+s(o.sublimationParameters.isEpic?`(${c.$t("constants.epic")})`:"")+" "+s(o.sublimationParameters.isRelic?`(${c.$t("constants.relic")})`:""),1)],42,jr)]}),content:p(()=>[e("div",Br,[l(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${o.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",zr,[e("div",Gr,s(c.$t(`items.${o.id}`)),1),e("div",Yr,s(o.sublimationParameters.isEpic?`${c.$t("constants.epicSublimation")}`:"")+" "+s(o.sublimationParameters.isRelic?`${c.$t("constants.relicSublimation")}`:""),1)])]),l(We,{item:o},null,8,["item"])]),_:2},1024)]),_:1},8,["items"])):K("",!0)])):K("",!0),l(we,{ref_key:"runeContextMenu",ref:oe,model:b.value},{item:p(({item:o,props:W})=>[o.levelSlider?(n(),u("div",Jr,[e("div",Qr,s(c.$t("constants.level"))+": "+s(a(t).equipment[H.value.itemSlotKey][H.value.runeSlotKey].level),1),l(qe,{modelValue:a(t).equipment[H.value.itemSlotKey][H.value.runeSlotKey].level,"onUpdate:modelValue":i[24]||(i[24]=v=>a(t).equipment[H.value.itemSlotKey][H.value.runeSlotKey].level=v),min:1,max:11},null,8,["modelValue"])])):pt((n(),u("a",Oe({key:1,class:"flex align-items-center"},W.action),[e("span",Xr,s(o.label),1)],16)),[[Ce]])]),_:1},8,["model"])])}}},Kr=be(Zr,[["__scopeId","data-v-836c6c82"]]);const Re=g=>($e("data-v-bf87d427"),g=g(),ye(),g),eu={class:"top-bar py-3 px-3"},tu={key:0,class:"flex align-items-center pl-2"},su={class:"py-2"},lu={key:1,class:"flex align-items-center"},au={class:"py-2"},iu={class:"flex align-items-center"},nu={class:"capitalize"},ou={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},cu={class:"mr-2"},ru={class:"flex-grow-1"},uu=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),du={class:"build-code flex align-items-center ml-2 mr-3"},pu=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),mu={class:"simple-tooltip"},hu={class:"ml-2"},vu={class:"code-disclaimer"},_u=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),gu={class:"simple-tooltip"},fu={class:"ml-1"},bu={class:"flex flex-grow-1",style:{overflow:"auto"}},$u={class:"stats-area pt-3"},yu={class:"flex flex-column flex-grow-1"},ku=Re(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),Su=Re(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),xu={class:"flex align-items-center px-3 py-3"},wu={class:"flex align-items-center px-3 py-3"},Cu={class:"flex align-items-center px-3 py-3"},Au={class:"flex align-items-center px-3 py-3"},Vu={key:1,class:"px-5 mt-5"},Wu={__name:"CharacterSheet",setup(g){var L,H,oe;const h=mt(),M=_e("currentCharacter"),t=$(null),y=$(null),f=$(null),J=$((L=M.value)==null?void 0:L.name),P=$((H=M.value)==null?void 0:H.level),se=$(Ue[(oe=M.value)==null?void 0:oe.class]),Q=Object.entries(Ue).map(([b,w])=>w),{createBuildCode:j}=Ke(),O=me(()=>j(M.value));Pe(M,()=>{A()});const A=()=>{var b,w,G;J.value=(b=M.value)==null?void 0:b.name,P.value=(w=M.value)==null?void 0:w.level,se.value=Ue[(G=M.value)==null?void 0:G.class]},q=(b,w)=>{w==="name"?M.value.name=b.target.value:w==="levelText"?M.value.level=b.value:w==="levelSlider"?M.value.level=b:w==="class"&&(M.value.class=b.value.id),A()},R=()=>{Ie(()=>{t.value.showList(),f.value.showLists()})},D=me(()=>{var b;return(b=y.value)==null?void 0:b.hasCharacteristicsError}),_=()=>{navigator.clipboard.writeText(O.value),h.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(b,w)=>{const G=E("p-inputText"),F=E("p-image"),le=E("p-dropdown"),S=E("p-inputNumber"),T=E("p-slider"),B=E("tippy"),te=E("p-button"),V=E("p-tabPanel"),U=E("p-tabView");return a(M)?(n(),u("div",{key:a(M).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",eu,[l(G,{modelValue:J.value,"onUpdate:modelValue":w[0]||(w[0]=I=>J.value=I),class:"mr-2 py-2 px-2",onInput:w[1]||(w[1]=I=>q(I,"name"))},null,8,["modelValue"]),l(le,{modelValue:se.value,"onUpdate:modelValue":w[2]||(w[2]=I=>se.value=I),options:a(Q),placeholder:b.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:w[3]||(w[3]=I=>q(I,"class"))},{value:p(I=>[I.value?(n(),u("div",tu,[l(F,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${I.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",su,s(b.$t(I.value.name)),1)])):(n(),u("span",lu,[l(F,{class:"class-image mx-2",src:a(ht),"image-style":"width: 28px"},null,8,["src"]),e("div",au,s(I.placeholder),1)]))]),option:p(I=>[e("div",iu,[e("div",nu,s(b.$t(I.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",ou,[e("span",cu,s(b.$t("characterSheet.level")),1),l(S,{modelValue:P.value,"onUpdate:modelValue":w[4]||(w[4]=I=>P.value=I),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:w[5]||(w[5]=I=>q(I,"levelText"))},null,8,["modelValue"]),e("div",ru,[l(T,{modelValue:P.value,"onUpdate:modelValue":w[6]||(w[6]=I=>P.value=I),min:1,max:230,onChange:w[7]||(w[7]=I=>q(I,"levelSlider"))},null,8,["modelValue"])])]),uu,e("div",du,[l(B,{placement:"left",duration:"0"},{content:p(()=>[e("div",mu,s(b.$t("characterSheet.buildCopyPaste")),1)]),default:p(()=>[pu]),_:1}),e("div",hu,s(b.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:_},[e("span",null,s(O.value),1)]),l(te,{class:"py-1 ml-2 px-2",label:b.$t("characterSheet.copy"),onClick:_},null,8,["label"]),e("div",vu,[l(B,{placement:"bottom",duration:"0"},{content:p(()=>[e("div",gu,s(b.$t("characterSheet.codeInfo")),1)]),default:p(()=>[_u]),_:1}),e("div",fu,s(b.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",bu,[e("div",$u,[l(zl)]),e("div",yu,[l(U,{class:"main-tab-view",onTabChange:R},{default:p(()=>[l(V,null,{header:p(()=>[e("div",{class:ae(["characteristics-tab-header px-3 h-full",{error:D.value,"points-to-spend":!1}])},[e("span",null,s(b.$t("characterSheet.characteristics")),1),ku,Su],2)]),default:p(()=>[l(fa,{ref_key:"characteristicsTabContent",ref:y},null,512)]),_:1}),l(V,null,{header:p(()=>[e("div",xu,[e("span",null,s(b.$t("characterSheet.equipment")),1)])]),default:p(()=>[l(Zi,{ref_key:"equipmentTabContent",ref:t},null,512)]),_:1}),l(V,null,{header:p(()=>[e("div",wu,[e("span",null,s(b.$t("characterSheet.autoItemSolver")),1)])]),default:p(()=>[l(ic)]),_:1}),l(V,null,{header:p(()=>[e("div",Cu,[e("span",null,s(b.$t("characterSheet.runesAndSubs")),1)])]),default:p(()=>[l(Kr,{ref_key:"runesAndSubsTabContent",ref:f},null,512)]),_:1}),l(V,null,{header:p(()=>[e("div",Au,[e("span",null,s(b.$t("characterSheet.spellsAndPassives")),1)])]),default:p(()=>[l(On)]),_:1})]),_:1})])])])):(n(),u("div",Vu," No Character data found for the given ID. "))}}},Iu=be(Wu,[["__scopeId","data-v-bf87d427"]]);export{Iu as default};
