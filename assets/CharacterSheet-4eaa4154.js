import{_ as ue,i as ce,g as q,q as l,o,h as d,j as e,k as s,t,y as Be,l as ie,z as ze,s as de,x as pe,A as Pe,r as y,f as re,B as Ze,D as fe,E as Ge,G as se,H as F,F as J,m as le,n as ae,w as m,I as ne,a as Oe,b as Fe,J as De,K as xe,L as Ke,M as et,N as we,O as j,P as tt,S as Me,Q as st,d as Ye,R as at,T as lt,U as it,p as _e,V as nt,u as ot}from"./index-858fb8b6.js";import{E as Je,u as Qe}from"./EquipmentButtons-d08f0219.js";import{I as Re}from"./ItemStatList-949caa9a.js";const z=h=>(de("data-v-5d21ae46"),h=h(),pe(),h),ct={key:0},rt={class:"flex justify-content-between w-full px-2"},ut={class:"main-stat-box"},dt={class:"flex align-items-center my-1"},pt={class:"ml-1"},mt={class:"stat-value py-1"},ht={class:"main-stat-box"},vt={class:"flex align-items-center my-1"},_t={class:"ml-1"},gt={class:"stat-value py-1"},ft={class:"main-stat-box"},bt={class:"flex align-items-center my-1"},$t={class:"ml-1"},yt={class:"stat-value py-1"},kt={class:"main-stat-box"},St={class:"flex align-items-center my-1"},xt={class:"ml-1"},wt={class:"stat-value py-1"},Ct={key:0,class:"main-stat-box"},At={class:"flex align-items-center my-1"},Vt={class:"ml-1"},Wt={class:"stat-value py-1"},It={key:1,class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Et={class:"ml-1"},Pt={class:"stat-value py-1"},Dt={class:"main-stat-area flex flex-column mt-2 pb-2"},Tt={class:"section-header py-1 mb-1"},Mt={class:"flex pl-1"},Rt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ot={class:"stat-block pr-2"},Ft={class:"ml-1"},Ut=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Nt={class:"stat-block pr-2"},Lt={class:"ml-1"},jt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ht={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"section-header py-1 mb-1"},Zt={class:"flex pl-1"},Kt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},es={class:"stat-block pr-2"},ts={class:"ml-1"},ss=z(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"stat-block pr-2"},ls={class:"ml-1"},is=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"lex flex-column"},hs={class:"section-header py-1 mb-1"},vs={class:"flex pl-1"},_s={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},gs={class:"stat-block pr-2"},fs={class:"ml-1"},bs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),$s={class:"stat-block pr-2"},ys={class:"ml-1"},ks=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ss={class:"stat-block pr-2"},xs={class:"ml-1"},ws=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Cs={class:"stat-block pr-2"},As={class:"ml-1"},Vs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},Is={class:"ml-1"},qs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Es={class:"stat-block pr-2"},Ps={class:"ml-1"},Ds=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ts={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ms={class:"stat-block pr-2"},Rs={class:"ml-1"},Os=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Fs={class:"stat-block pr-2"},Us={class:"ml-1"},Ns=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},js={class:"ml-1"},Hs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"stat-block pr-2"},Js={class:"ml-1"},Qs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Xs={class:"stat-block pr-2"},Zs={class:"ml-1"},Ks=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ea={class:"flex flex-column"},ta={class:"section-header py-1 mb-1"},sa={class:"flex pl-1"},aa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},la={class:"stat-block pr-2"},ia={class:"ml-1"},na=z(()=>e("div",{class:"flex-grow-1"},null,-1)),oa={class:"stat-block pr-2"},ca={class:"ml-1"},ra=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ua={class:"stat-block pr-2"},da={class:"ml-1"},pa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ma={class:"stat-block pr-2"},ha={class:"ml-1"},va=z(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"stat-block pr-2"},ga={class:"ml-1"},fa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ba={class:"stat-block pr-2"},$a={class:"ml-1"},ya=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ka={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Sa={class:"stat-block pr-2"},xa={class:"ml-1"},wa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ca={class:"stat-block pr-2"},Aa={class:"ml-1"},Va=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Wa={class:"stat-block pr-2"},Ia={class:"ml-1"},qa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"stat-block pr-2"},Pa={class:"ml-1"},Da=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ta={class:"stat-block pr-2"},Ma={class:"ml-1"},Ra=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Oa={__name:"StatDisplay",setup(h){const r=ce("currentCharacter"),{calcElemResistancePercentage:f}=ze();return(a,$)=>{const u=q("p-image");return l(r)?(o(),d("div",ct,[e("div",rt,[e("div",ut,[e("div",dt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",pt,t(a.$t("constants.hp")),1)]),e("div",mt,t(l(r).healthPoints),1)]),e("div",ht,[e("div",vt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",_t,t(a.$t("characterSheet.statsDisplay.ar")),1)]),e("div",gt,t(l(r).armorPoints),1)]),e("div",ft,[e("div",bt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",$t,t(a.$t("constants.ap")),1)]),e("div",yt,t(l(r).actionPoints),1)]),e("div",kt,[e("div",St,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",xt,t(a.$t("constants.mp")),1)]),e("div",wt,t(l(r).movementPoints),1)]),l(r).class===l(Be).huppermage?(o(),d("div",Ct,[e("div",At,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Vt,t(a.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Wt,t(l(r).quadrumentalBreeze),1)])):(o(),d("div",It,[e("div",qt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Et,t(a.$t("constants.wp")),1)]),e("div",Pt,t(l(r).wakfuPoints),1)]))]),e("div",Dt,[e("div",Tt,t(a.$t("constants.elementalMasteries")),1),e("div",Mt,[e("div",Rt,[e("div",Ot,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Ft,t(a.$t("characterSheet.statsDisplay.water")),1),Ut,e("span",null,t(l(r).masteries.water),1)]),e("div",Nt,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Lt,t(a.$t("characterSheet.statsDisplay.air")),1),jt,e("span",null,t(l(r).masteries.air),1)])]),e("div",Ht,[e("div",Bt,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",zt,t(a.$t("characterSheet.statsDisplay.earth")),1),Gt,e("span",null,t(l(r).masteries.earth),1)]),e("div",Yt,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",Jt,t(a.$t("characterSheet.statsDisplay.fire")),1),Qt,e("span",null,t(l(r).masteries.fire),1)])])]),e("div",Xt,t(a.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",Zt,[e("div",Kt,[e("div",es,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ts,t(a.$t("characterSheet.statsDisplay.water")),1),ss,e("span",null,t(l(f)(l(r).resistances.water))+"% ("+t(l(r).resistances.water)+")",1)]),e("div",as,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ls,t(a.$t("characterSheet.statsDisplay.air")),1),is,e("span",null,t(l(f)(l(r).resistances.air))+"% ("+t(l(r).resistances.air)+")",1)])]),e("div",ns,[e("div",os,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",cs,t(a.$t("characterSheet.statsDisplay.earth")),1),rs,e("span",null,t(l(f)(l(r).resistances.earth))+"% ("+t(l(r).resistances.earth)+")",1)]),e("div",us,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ds,t(a.$t("characterSheet.statsDisplay.fire")),1),ps,e("span",null,t(l(f)(l(r).resistances.fire))+"% ("+t(l(r).resistances.fire)+")",1)])])]),e("div",ms,[e("div",hs,t(a.$t("characterSheet.statsDisplay.battle")),1),e("div",vs,[e("div",_s,[e("div",gs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",fs,t(a.$t("characterSheet.statsDisplay.damageInflicted")),1),bs,e("span",null,t(l(r).stats.damageInflicted)+"%",1)]),e("div",$s,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",ys,t(a.$t("characterSheet.statsDisplay.criticalHit")),1),ks,e("span",null,t(l(r).stats.criticalHit)+"%",1)]),e("div",Ss,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",xs,t(a.$t("constants.initiative")),1),ws,e("span",null,t(l(r).stats.initiative),1)]),e("div",Cs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",As,t(a.$t("constants.dodge")),1),Vs,e("span",null,t(l(r).stats.dodge),1)]),e("div",Ws,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Is,t(a.$t("constants.wisdom")),1),qs,e("span",null,t(l(r).stats.wisdom),1)]),e("div",Es,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Ps,t(a.$t("constants.control")),1),Ds,e("span",null,t(l(r).stats.control),1)])]),e("div",Ts,[e("div",Ms,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Rs,t(a.$t("characterSheet.statsDisplay.healsPerformed")),1),Os,e("span",null,t(l(r).stats.healsPerformed)+"%",1)]),e("div",Fs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Us,t(a.$t("characterSheet.statsDisplay.block")),1),Ns,e("span",null,t(l(r).stats.block)+"%",1)]),e("div",Ls,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",js,t(a.$t("constants.range")),1),Hs,e("span",null,t(l(r).stats.range),1)]),e("div",Bs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",zs,t(a.$t("constants.lock")),1),Gs,e("span",null,t(l(r).stats.lock),1)]),e("div",Ys,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",Js,t(a.$t("constants.prospecting")),1),Qs,e("span",null,t(l(r).stats.prospecting),1)]),e("div",Xs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",Zs,t(a.$t("constants.forceOfWill")),1),Ks,e("span",null,t(l(r).stats.forceOfWill),1)])])])]),e("div",ea,[e("div",ta,t(a.$t("characterSheet.statsDisplay.secondary")),1),e("div",sa,[e("div",aa,[e("div",la,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ia,t(a.$t("constants.criticalMastery")),1),na,e("span",null,t(l(r).masteries.critical),1)]),e("div",oa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",ca,t(a.$t("constants.rearMastery")),1),ra,e("span",null,t(l(r).masteries.rear),1)]),e("div",ua,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",da,t(a.$t("constants.meleeMastery")),1),pa,e("span",null,t(l(r).masteries.melee),1)]),e("div",ma,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",ha,t(a.$t("constants.distanceMastery")),1),va,e("span",null,t(l(r).masteries.distance),1)]),e("div",_a,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",ga,t(a.$t("constants.healingMastery")),1),fa,e("span",null,t(l(r).masteries.healing),1)]),e("div",ba,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",$a,t(a.$t("constants.berserkMastery")),1),ya,e("span",null,t(l(r).masteries.berserk),1)])]),e("div",ka,[e("div",Sa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",xa,t(a.$t("constants.criticalResistance")),1),wa,e("span",null,t(l(r).resistances.critical),1)]),e("div",Ca,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Aa,t(a.$t("constants.rearResistance")),1),Va,e("span",null,t(l(r).resistances.rear),1)]),e("div",Wa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Ia,t(a.$t("characterSheet.statsDisplay.armorGiven")),1),qa,e("span",null,t(l(r).stats.armorGiven)+"%",1)]),e("div",Ea,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Pa,t(a.$t("characterSheet.statsDisplay.armorReceived")),1),Da,e("span",null,t(l(r).stats.armorReceived)+"%",1)]),e("div",Ta,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Ma,t(a.$t("characterSheet.statsDisplay.indirectDamage")),1),Ra,e("span",null,t(l(r).stats.indirectDamage)+"%",1)])])])])])])):ie("",!0)}}},Fa=ue(Oa,[["__scopeId","data-v-5d21ae46"]]);const Ua=h=>(de("data-v-c1799ab4"),h=h(),pe(),h),Na={class:"flex align-items-center my-1"},La={class:"entry-label ml-2"},ja=Ua(()=>e("div",{class:"flex-grow-1"},null,-1)),Ha={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(h){return(r,f)=>{const a=q("p-image"),$=q("p-inputNumber");return o(),d("div",Na,[s(a,{src:h.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",La,t(h.label),1),ja,s($,Pe(r.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(h.maxOverride,h.remainingPoints+r.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:h.updateFunction}),null,16,["max","onInput"])])}}},Y=ue(Ha,[["__scopeId","data-v-c1799ab4"]]);const Ce=h=>(de("data-v-541c021e"),h=h(),pe(),h),Ba={class:"flex flex-column h-full"},za={class:"characteristic-panels flex pb-3"},Ga={class:"flex flex-column flex-grow-1 mr-1"},Ya={class:"characteristics-category-header px-2 py-2"},Ja=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),Qa={class:"flex flex-column px-2 py-1"},Xa={class:"characteristics-category-header px-2 py-2"},Za=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),Ka={class:"flex flex-column px-2 py-1"},el={class:"characteristics-category-header px-2 py-2"},tl=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),sl={class:"flex flex-column px-2 py-1"},al={class:"flex flex-column flex-grow-1 ml-1"},ll={class:"characteristics-category-header px-2 py-2"},il=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),nl={class:"flex flex-column px-2 py-1"},ol={class:"characteristics-category-header px-2 py-2"},cl=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),rl={class:"flex flex-column px-2 py-1"},ul={__name:"CharacteristicsTabContent",setup(h,{expose:r}){const f=ce("masterData"),a=ce("currentCharacter"),$=y(!1),u=re(()=>$.value?10:1);Ze(()=>{document.addEventListener("keydown",c=>{U(c)}),document.addEventListener("keyup",c=>{U(c)})});const U=c=>{c.shiftKey?$.value=!0:$.value=!1},R=y(a.value.characteristics.intelligence.percentHealthPoints),M=y(a.value.characteristics.intelligence.elementalResistance),x=y(a.value.characteristics.intelligence.barrier),D=y(a.value.characteristics.intelligence.percentHealsReceived),L=y(a.value.characteristics.intelligence.percentArmorHeathPoints),O=y(a.value.characteristics.strength.elementalMastery),I=y(a.value.characteristics.strength.meleeMastery),T=y(a.value.characteristics.strength.distanceMastery),G=y(a.value.characteristics.strength.healthPoints),te=y(a.value.characteristics.agility.lock),ee=y(a.value.characteristics.agility.dodge),Z=y(a.value.characteristics.agility.initiative),p=y(a.value.characteristics.agility.lockAndDodge),w=y(a.value.characteristics.agility.forceOfWill),N=y(a.value.characteristics.fortune.percentCriticalHit),Q=y(a.value.characteristics.fortune.percentBlock),k=y(a.value.characteristics.fortune.criticalMastery),n=y(a.value.characteristics.fortune.rearMastery),g=y(a.value.characteristics.fortune.berserkMastery),W=y(a.value.characteristics.fortune.healingMastery),P=y(a.value.characteristics.fortune.rearResistance),A=y(a.value.characteristics.fortune.criticalResistance),v=y(a.value.characteristics.major.actionPoints),X=y(a.value.characteristics.major.movementPointsAndDamage),K=y(a.value.characteristics.major.rangeAndDamage),oe=y(a.value.characteristics.major.wakfuPoints),i=y(a.value.characteristics.major.controlAndDamage),b=y(a.value.characteristics.major.percentDamageInflicted),H=y(a.value.characteristics.major.elementalResistance),E=c=>{let _=0;return c==="intelligence"?_=R.value+M.value+x.value+D.value+L.value:c==="strength"?_=O.value+I.value+T.value+G.value:c==="agility"?_=te.value+ee.value+Z.value+p.value+w.value:c==="fortune"?_=N.value+Q.value+k.value+n.value+g.value+W.value+P.value+A.value:c==="major"&&(_=v.value+X.value+K.value+oe.value+i.value+b.value+H.value),a.value.characteristics.limits[c]-_},B=()=>{a.value.characteristics.intelligence.percentHealthPoints=R.value,a.value.characteristics.intelligence.elementalResistance=M.value,a.value.characteristics.intelligence.barrier=x.value,a.value.characteristics.intelligence.percentHealsReceived=D.value,a.value.characteristics.intelligence.percentArmorHeathPoints=L.value,a.value.characteristics.strength.elementalMastery=O.value,a.value.characteristics.strength.meleeMastery=I.value,a.value.characteristics.strength.distanceMastery=T.value,a.value.characteristics.strength.healthPoints=G.value,a.value.characteristics.agility.lock=te.value,a.value.characteristics.agility.dodge=ee.value,a.value.characteristics.agility.initiative=Z.value,a.value.characteristics.agility.lockAndDodge=p.value,a.value.characteristics.agility.forceOfWill=w.value,a.value.characteristics.fortune.percentCriticalHit=N.value,a.value.characteristics.fortune.percentBlock=Q.value,a.value.characteristics.fortune.criticalMastery=k.value,a.value.characteristics.fortune.rearMastery=n.value,a.value.characteristics.fortune.berserkMastery=g.value,a.value.characteristics.fortune.healingMastery=W.value,a.value.characteristics.fortune.rearResistance=P.value,a.value.characteristics.fortune.criticalResistance=A.value,a.value.characteristics.major.actionPoints=v.value,a.value.characteristics.major.movementPointsAndDamage=X.value,a.value.characteristics.major.rangeAndDamage=K.value,a.value.characteristics.major.wakfuPoints=oe.value,a.value.characteristics.major.controlAndDamage=i.value,a.value.characteristics.major.percentDamageInflicted=b.value,a.value.characteristics.major.elementalResistance=H.value};fe(f,Ge.debounce(()=>{R.value=a.value.characteristics.intelligence.percentHealthPoints,M.value=a.value.characteristics.intelligence.elementalResistance,x.value=a.value.characteristics.intelligence.barrier,D.value=a.value.characteristics.intelligence.percentHealsReceived,L.value=a.value.characteristics.intelligence.percentArmorHeathPoints,O.value=a.value.characteristics.strength.elementalMastery,I.value=a.value.characteristics.strength.meleeMastery,T.value=a.value.characteristics.strength.distanceMastery,G.value=a.value.characteristics.strength.healthPoints,te.value=a.value.characteristics.agility.lock,ee.value=a.value.characteristics.agility.dodge,Z.value=a.value.characteristics.agility.initiative,p.value=a.value.characteristics.agility.lockAndDodge,w.value=a.value.characteristics.agility.forceOfWill,N.value=a.value.characteristics.fortune.percentCriticalHit,Q.value=a.value.characteristics.fortune.percentBlock,k.value=a.value.characteristics.fortune.criticalMastery,n.value=a.value.characteristics.fortune.rearMastery,g.value=a.value.characteristics.fortune.berserkMastery,W.value=a.value.characteristics.fortune.healingMastery,P.value=a.value.characteristics.fortune.rearResistance,A.value=a.value.characteristics.fortune.criticalResistance,v.value=a.value.characteristics.major.actionPoints,X.value=a.value.characteristics.major.movementPointsAndDamage,K.value=a.value.characteristics.major.rangeAndDamage,oe.value=a.value.characteristics.major.wakfuPoints,i.value=a.value.characteristics.major.controlAndDamage,b.value=a.value.characteristics.major.percentDamageInflicted,H.value=a.value.characteristics.major.elementalResistance},100));const C=re(()=>E("intelligence")<0||E("strength")<0||E("agility")<0||E("fortune")<0||E("major")<0);return r({hasCharacteristicsError:C}),(c,_)=>{var me,he,Ie,qe,$e,ye,ke,Se,S,ve,Ue,Ne,Le,je,He;return o(),d("div",Ba,[e("div",za,[e("div",Ga,[e("div",{class:se(["category-wrapper flex flex-column",{error:E("intelligence")<0}])},[e("div",Ya,[e("span",null,t(c.$t("characterSheet.characteristicsContent.intelligence")),1),Ja,e("span",null,t(E("intelligence"))+"/"+t((Ie=(he=(me=l(a))==null?void 0:me.characteristics)==null?void 0:he.limits)==null?void 0:Ie.intelligence)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Qa,[s(Y,{modelValue:R.value,"onUpdate:modelValue":_[0]||(_[0]=V=>R.value=V),label:c.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":E("intelligence"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:M.value,"onUpdate:modelValue":_[1]||(_[1]=V=>M.value=V),label:c.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":E("intelligence"),"update-function":B,"max-override":10,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:x.value,"onUpdate:modelValue":_[2]||(_[2]=V=>x.value=V),label:c.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":E("intelligence"),"update-function":B,"max-override":10,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:D.value,"onUpdate:modelValue":_[3]||(_[3]=V=>D.value=V),label:c.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":E("intelligence"),"update-function":B,"max-override":5,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:L.value,"onUpdate:modelValue":_[4]||(_[4]=V=>L.value=V),label:c.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":E("intelligence"),"update-function":B,"max-override":10,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:se(["category-wrapper flex flex-column mt-2",{error:E("strength")<0}])},[e("div",Xa,[e("span",null,t(c.$t("characterSheet.characteristicsContent.strength")),1),Za,e("span",null,t(E("strength"))+"/"+t((ye=($e=(qe=l(a))==null?void 0:qe.characteristics)==null?void 0:$e.limits)==null?void 0:ye.strength)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ka,[s(Y,{modelValue:O.value,"onUpdate:modelValue":_[5]||(_[5]=V=>O.value=V),label:c.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":E("strength"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:I.value,"onUpdate:modelValue":_[6]||(_[6]=V=>I.value=V),label:c.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":E("strength"),"update-function":B,"max-override":40,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:T.value,"onUpdate:modelValue":_[7]||(_[7]=V=>T.value=V),label:c.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":E("strength"),"update-function":B,"max-override":40,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:G.value,"onUpdate:modelValue":_[8]||(_[8]=V=>G.value=V),label:c.$t("characterSheet.characteristicsContent.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":E("strength"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:se(["category-wrapper flex flex-column mt-2",{error:E("agility")<0}])},[e("div",el,[e("span",null,t(c.$t("characterSheet.characteristicsContent.agility")),1),tl,e("span",null,t(E("agility"))+"/"+t((S=(Se=(ke=l(a))==null?void 0:ke.characteristics)==null?void 0:Se.limits)==null?void 0:S.agility)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",sl,[s(Y,{modelValue:te.value,"onUpdate:modelValue":_[9]||(_[9]=V=>te.value=V),label:c.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":E("agility"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:ee.value,"onUpdate:modelValue":_[10]||(_[10]=V=>ee.value=V),label:c.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":E("agility"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:Z.value,"onUpdate:modelValue":_[11]||(_[11]=V=>Z.value=V),label:c.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":E("agility"),"update-function":B,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:p.value,"onUpdate:modelValue":_[12]||(_[12]=V=>p.value=V),label:c.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":E("agility"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:w.value,"onUpdate:modelValue":_[13]||(_[13]=V=>w.value=V),label:c.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":E("agility"),"update-function":B,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",al,[e("div",{class:se(["category-wrapper flex flex-column flex-grow-1",{error:E("fortune")<0}])},[e("div",ll,[e("span",null,t(c.$t("characterSheet.characteristicsContent.fortune")),1),il,e("span",null,t(E("fortune"))+"/"+t((Ne=(Ue=(ve=l(a))==null?void 0:ve.characteristics)==null?void 0:Ue.limits)==null?void 0:Ne.fortune)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",nl,[s(Y,{modelValue:N.value,"onUpdate:modelValue":_[14]||(_[14]=V=>N.value=V),label:c.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":E("fortune"),"update-function":B,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:Q.value,"onUpdate:modelValue":_[15]||(_[15]=V=>Q.value=V),label:c.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":E("fortune"),"update-function":B,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:k.value,"onUpdate:modelValue":_[16]||(_[16]=V=>k.value=V),label:c.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":E("fortune"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:n.value,"onUpdate:modelValue":_[17]||(_[17]=V=>n.value=V),label:c.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":E("fortune"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:g.value,"onUpdate:modelValue":_[18]||(_[18]=V=>g.value=V),label:c.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":E("fortune"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:W.value,"onUpdate:modelValue":_[19]||(_[19]=V=>W.value=V),label:c.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":E("fortune"),"update-function":B,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:P.value,"onUpdate:modelValue":_[20]||(_[20]=V=>P.value=V),label:c.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":E("fortune"),"update-function":B,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:A.value,"onUpdate:modelValue":_[21]||(_[21]=V=>A.value=V),label:c.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":E("fortune"),"update-function":B,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:se(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:E("major")<0}])},[e("div",ol,[e("span",null,t(c.$t("characterSheet.characteristicsContent.major")),1),cl,e("span",null,t(E("major"))+"/"+t((He=(je=(Le=l(a))==null?void 0:Le.characteristics)==null?void 0:je.limits)==null?void 0:He.major)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",rl,[s(Y,{modelValue:v.value,"onUpdate:modelValue":_[22]||(_[22]=V=>v.value=V),label:c.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:X.value,"onUpdate:modelValue":_[23]||(_[23]=V=>X.value=V),label:c.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:K.value,"onUpdate:modelValue":_[24]||(_[24]=V=>K.value=V),label:c.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:oe.value,"onUpdate:modelValue":_[25]||(_[25]=V=>oe.value=V),label:c.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:i.value,"onUpdate:modelValue":_[26]||(_[26]=V=>i.value=V),label:c.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:b.value,"onUpdate:modelValue":_[27]||(_[27]=V=>b.value=V),label:c.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(Y,{modelValue:H.value,"onUpdate:modelValue":_[28]||(_[28]=V=>H.value=V),label:c.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":E("major"),"update-function":B,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},dl=ue(ul,[["__scopeId","data-v-541c021e"]]);const pl={class:"flex align-items-center flex-wrap mt-3"},ml={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},hl={class:"checkmarks-container flex gap-2"},vl={class:"rarity-container mt-2"},_l={class:"flex align-items-center mb-1"},gl={class:"mx-2"},fl={class:"rarity-button-wrapper"},bl={class:"flex justify-content-center align-items-center"},$l={class:"simple-tooltip"},yl={class:"item-types-container mt-2"},kl={class:"flex align-items-center justify-content-center mb-1 w-full"},Sl={class:"mx-2"},xl={class:"simple-tooltip"},wl={class:"item-types-button-wrapper"},Cl={class:"filter-category-wrapper"},Al={class:"flex justify-content-center align-items-center"},Vl={class:"simple-tooltip"},Wl={class:"filter-category-wrapper"},Il={class:"flex justify-content-center align-items-center"},ql={class:"simple-tooltip"},El={class:"filter-category-wrapper"},Pl={class:"flex justify-content-center align-items-center"},Dl={class:"simple-tooltip"},Tl={class:"filter-list-wrapper mt-3"},Ml={class:"px-2 py-1"},Rl={class:"px-2 py-1"},Ol={__name:"ItemFilters",setup(h){const r=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],a=[F.healthPoints.id,F.healingMastery.id,F.actionPoints.id,F.movementPoints.id,F.rearResistance.id,F.elementalResistance.id,F.fireResistance.id,F.waterResistance.id,F.earthResistance.id,F.airResistance.id,F.elementalMastery.id,F.fireMastery.id,F.earthMastery.id,F.waterMastery.id,F.airMastery.id,F.criticalMastery.id,F.criticalHit.id,F.range.id,F.prospecting.id,F.wisdom.id,F.initiative.id,F.lock.id,F.dodge.id,F.forceOfWill.id,F.rearMastery.id,F.control.id,F.wakfuPoints.id,F.percentBlock.id,F.criticalResistance.id,F.meleeMastery.id,F.distanceMastery.id,F.berserkMastery.id,F.randomElementalMasteries.id,F.randomElementalResistances.id,F.harvestingQuantity.id].map(k=>({value:k,text:F[k].text})),$=ce("itemFilters"),u=y(""),U=y([$.startLevel,$.endLevel]),R=y([]),M=y($.rarityFilters),x=y($.itemTypeFilters),D=y(!1),L=()=>{T()},O=(k,n)=>{n==="min"&&(U.value[0]=k.value),n==="max"&&(U.value[1]=k.value),T()},I=()=>{T()},T=Ge.debounce(k=>{var n;$.searchTerm=u.value,$.startLevel=U.value[0],$.endLevel=U.value[1],$.effectFilters=R.value,$.rarityFilters=M.value,k&&((n=k.rawIds)!=null&&n.length)?G(k):$.itemTypeFilters=x.value},100),G=k=>{k.rawIds.forEach(n=>{let g=x.value.find(W=>W.rawId===n);g.checked=k.checked})},te=()=>{let k={type:a[0],comparator:r[2],value:0};R.value.push(k),T()},ee=k=>{let n=R.value.indexOf(k);R.value.splice(n,1),T()},Z=()=>{$.resetFilters(),u.value=$.searchTerm,U.value[0]=$.startLevel,U.value[1]=$.endLevel,R.value=$.effectFilters,M.value=$.rarityFilters,x.value=$.itemTypeFilters},p=()=>{$.rarityFilters.forEach(k=>{k.checked=!0}),T()},w=()=>{$.rarityFilters.forEach(k=>{k.checked=!1}),T()},N=()=>{$.itemTypeFilters.forEach(k=>{k.checked=!0}),T()},Q=()=>{$.itemTypeFilters.forEach(k=>{k.checked=!1}),T()};return(k,n)=>{const g=q("p-inputText"),W=q("p-inputNumber"),P=q("p-slider"),A=q("p-button"),v=q("p-image"),X=q("p-checkbox"),K=q("tippy"),oe=q("p-dropdown");return o(),d(J,null,[e("div",pl,[s(g,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=i=>u.value=i),placeholder:k.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:L},null,8,["modelValue","placeholder"]),e("div",ml,[s(W,{modelValue:U.value[0],"onUpdate:modelValue":n[1]||(n[1]=i=>U.value[0]=i),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:n[2]||(n[2]=i=>O(i,"min"))},null,8,["modelValue"]),s(P,{modelValue:U.value,"onUpdate:modelValue":n[3]||(n[3]=i=>U.value=i),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:I},null,8,["modelValue"]),s(W,{modelValue:U.value[1],"onUpdate:modelValue":n[4]||(n[4]=i=>U.value[1]=i),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:n[5]||(n[5]=i=>O(i,"max"))},null,8,["modelValue"])]),s(A,{class:"filter-button",label:k.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:Z},null,8,["label"])]),e("div",hl,[e("div",vl,[e("div",_l,[s(A,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:p},null,8,["label"]),e("div",gl,t(k.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(A,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:w},null,8,["label"])]),e("div",fl,[(o(!0),d(J,null,le(M.value,i=>(o(),ae(K,{key:i.id,duration:"0"},{content:m(()=>[e("div",$l,t(k.$t(i.name)),1)]),default:m(()=>[s(X,{modelValue:i.checked,"onUpdate:modelValue":b=>i.checked=b,binary:!0,class:"rarity-checkbox",onChange:l(T)},{icon:m(b=>[e("div",bl,[s(v,{class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${i.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",yl,[e("div",kl,[s(A,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:N},null,8,["label"]),e("div",Sl,t(k.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(K,null,{content:m(()=>[e("div",xl,t(k.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:m(()=>[s(X,{modelValue:D.value,"onUpdate:modelValue":n[6]||(n[6]=i=>D.value=i),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(A,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:Q},null,8,["label"])]),e("div",wl,[e("div",Cl,[(o(!0),d(J,null,le(x.value.filter(i=>i.category==="armor"),i=>(o(),d(J,{key:i.id},[!i.advanced||D.value?(o(),ae(K,{key:0,duration:"0"},{content:m(()=>[e("div",Vl,t(k.$t(i.name)),1)]),default:m(()=>[s(X,{modelValue:i.checked,"onUpdate:modelValue":b=>i.checked=b,binary:!0,class:"item-type-checkbox",onChange:l(T)},{icon:m(b=>[e("div",Al,[i.rawId?(o(),ae(v,{key:0,class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),ae(v,{key:1,class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ie("",!0)],64))),128))]),e("div",Wl,[(o(!0),d(J,null,le(x.value.filter(i=>i.category==="weapons"),i=>(o(),d(J,{key:i.id},[!i.advanced||D.value?(o(),ae(K,{key:0,duration:"0"},{content:m(()=>[e("div",ql,t(k.$t(i.name)),1)]),default:m(()=>[s(X,{modelValue:i.checked,"onUpdate:modelValue":b=>i.checked=b,binary:!0,class:"item-type-checkbox",onChange:b=>l(T)(i)},{icon:m(b=>[e("div",Il,[i.rawId?(o(),ae(v,{key:0,class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),ae(v,{key:1,class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ie("",!0)],64))),128))]),e("div",El,[(o(!0),d(J,null,le(x.value.filter(i=>i.category==="miscellaneous"),i=>(o(),d(J,{key:i.id},[!i.advanced||D.value?(o(),ae(K,{key:0,duration:"0"},{content:m(()=>[e("div",Dl,t(k.$t(i.name)),1)]),default:m(()=>[s(X,{modelValue:i.checked,"onUpdate:modelValue":b=>i.checked=b,binary:!0,class:"item-type-checkbox",onChange:l(T)},{icon:m(b=>[e("div",Pl,[i.rawId?(o(),ae(v,{key:0,class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),ae(v,{key:1,class:se({disabled:!b.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ie("",!0)],64))),128))])])])]),e("div",Tl,[s(A,{icon:"pi pi-plus",class:"filter-button",label:k.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:te},null,8,["label"]),(o(!0),d(J,null,le(R.value,i=>(o(),d("div",{key:i.id,class:"filter-entry"},[s(oe,{modelValue:i.type,"onUpdate:modelValue":b=>i.type=b,class:"filter-type-dropdown",options:l(a),filter:"","auto-filter-focus":"","option-label":"text",onChange:l(T)},{value:m(b=>[ne(t(k.$t(b.value.text)),1)]),option:m(b=>[e("div",Ml,t(k.$t(b.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(oe,{modelValue:i.comparator,"onUpdate:modelValue":b=>i.comparator=b,class:"filter-comparator-dropdown",options:r,"option-label":"text",onChange:l(T)},{value:m(b=>[ne(t(b.value.symbol),1)]),option:m(b=>[e("div",Rl,t(k.$t(b.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(W,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,class:"filter-value-input","allow-empty":!1,onInput:l(T)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(A,{class:"remove-filter-button",icon:"pi pi-trash",onClick:b=>ee(i)},null,8,["onClick"])]))),128))])],64)}}},Fl=ue(Ol,[["__scopeId","data-v-144c22ef"]]);const Te=h=>(de("data-v-25f42264"),h=h(),pe(),h),Ul={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Nl={class:"flex align-items-center"},Ll={class:"px-2 py-1"},jl={class:"px-2 py-1"},Hl=Te(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={class:"ml-2"},zl=Te(()=>e("div",{class:"flex-grow-1"},null,-1)),Gl={class:"mr-1"},Yl={key:0,class:"flex"},Jl={key:0,class:"item-card with-stats"},Ql={class:"flex px-2 pt-2"},Xl={class:"flex flex-column ml-1"},Zl={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Kl={class:"flex"},ei={key:0},ti={key:1},si={key:2,class:"ml-1"},ai=Te(()=>e("div",{class:"flex-grow-1"},null,-1)),li={class:"flex flex-column gap-1"},ii={class:"item-card"},ni={class:"flex px-2 pt-2"},oi={class:"flex flex-column ml-1"},ci={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},ri={class:"flex"},ui={key:0},di={key:1},pi={key:2,class:"ml-1"},mi=Te(()=>e("div",{class:"flex-grow-1"},null,-1)),hi={class:"flex flex-column gap-1"},vi={class:"simple-tooltip"},_i={key:0,class:"item-card-tooltip"},gi={class:"effect-header flex pt-2 px-1"},fi={class:"flex flex-column ml-1"},bi={class:"item-name mr-2"},$i={class:"flex"},yi={key:0},ki={key:1},Si={key:2,class:"ml-1"},xi={key:1},wi={__name:"EquipmentTabContent",setup(h,{expose:r}){const f=Oe(),{t:a}=Fe(),$=ce("currentCharacter"),u=ce("currentItemList"),U=ce("itemFilters"),R=y(null),M=y(4),{getNumTotalItems:x}=De();let D=document;const{getItemEncyclopediaUrl:L}=Qe(),O=()=>{M.value=Math.floor((R.value.clientWidth-16)/(G.value?310+5:230+5))};window.addEventListener("resize",O);let I=re(()=>{let p=[],w=[];return u.value.forEach(N=>{w.length===M.value?(p.push(w),w=[N]):w.push(N)}),w.length>0&&p.push(w),p.length===0&&p.push([]),p});const T=y(!1),G=y(!1),te=()=>{T.value=!0,xe(()=>{O()})};fe(G,()=>{xe(()=>{T.value=!1,xe(()=>{T.value=!0,xe(()=>{O()})})})});const ee=(p,w)=>{let N=p.type.validSlots.includes(j.LEFT_HAND.id)||p.type.validSlots.includes(j.RIGHT_HAND.id),Q=p.type.disabledSlots.includes(j.SECOND_WEAPON.id)&&$.value.equipment[j.SECOND_WEAPON.id]!==null,k=p.type.validSlots[0]===j.SECOND_WEAPON.id&&$.value.equipment[j.FIRST_WEAPON.id]!==null&&$.value.equipment[j.FIRST_WEAPON.id].type.disabledSlots.includes(j.SECOND_WEAPON.id),n=!1,g=null,W=!1,P=null;Object.keys($.value.equipment).forEach(X=>{p.rarity===5&&$.value.equipment[X]!==null&&$.value.equipment[X].rarity===5&&(n=!0,g=X),p.rarity===7&&$.value.equipment[X]!==null&&$.value.equipment[X].rarity===7&&(W=!0,P=X)});let A=null;n&&(A=a("characterSheet.equipmentContent.hasRelicWarning")),W&&(A=a("characterSheet.equipmentContent.hasEpicWarning")),Q&&(A=a("characterSheet.equipmentContent.twoHandedWeaponWarning")),k&&(A=a("characterSheet.equipmentContent.secondWeaponWarning")),n&&Q&&(A=a("characterSheet.equipmentContent.relicAndTwoHandedWarning")),n&&k&&(A=a("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),W&&Q&&(A=a("characterSheet.equipmentContent.epicAndTwoHandedWarning")),W&&k&&(A=a("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),Q||k||n||W?f.require({group:"popup",target:w.currentTarget,message:A,accept:()=>{N&&($.value.equipment[j.LEFT_HAND.id]===null?$.value.equipment[j.LEFT_HAND.id]=p:$.value.equipment[j.RIGHT_HAND.id]=p),Q&&($.value.equipment[j.FIRST_WEAPON.id]=p,$.value.equipment[j.SECOND_WEAPON.id]=null),k&&($.value.equipment[j.FIRST_WEAPON.id]=null,$.value.equipment[j.SECOND_WEAPON.id]=p),n&&($.value.equipment[g]=null,$.value.equipment[p.type.validSlots[0]]=p),W&&($.value.equipment[P]=null,$.value.equipment[p.type.validSlots[0]]=p)}}):N?$.value.equipment[j.LEFT_HAND.id]===null?$.value.equipment[j.LEFT_HAND.id]=p:$.value.equipment[j.RIGHT_HAND.id]=p:p.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",p.type):$.value.equipment[p.type.validSlots[0]]=p},Z=p=>{let w=L(p);window.open(w,"_blank")};return r({showList:te}),(p,w)=>{const N=q("p-divider"),Q=q("p-dropdown"),k=q("p-checkbox"),n=q("p-image"),g=q("p-button"),W=q("tippy"),P=q("p-virtualScroller");return o(),d("div",Ul,[s(Je,{character:l($)},null,8,["character"]),s(Fl),s(N,{class:"mt-3 mb-2"}),e("div",Nl,[e("div",null,t(p.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(Q,{modelValue:l(U).sortBy,"onUpdate:modelValue":w[0]||(w[0]=A=>l(U).sortBy=A),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:l(Ke)},{value:m(A=>[ne(t(p.$t(A.value.label)),1)]),option:m(A=>[e("div",Ll,t(p.$t(A.option.label)),1)]),_:1},8,["modelValue","options"]),s(Q,{modelValue:l(U).sortOrder,"onUpdate:modelValue":w[1]||(w[1]=A=>l(U).sortOrder=A),class:"sort-dropdown ml-2","option-label":"label",options:l(et)},{value:m(A=>[ne(t(p.$t(A.value.label)),1)]),option:m(A=>[e("div",jl,t(p.$t(A.option.label)),1)]),_:1},8,["modelValue","options"]),Hl,e("div",Bl,t(l(u).length)+" "+t(p.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(l(x)())+" "+t(p.$t("characterSheet.equipmentContent.itemsTotal")),1),zl,e("span",Gl,t(p.$t("characterSheet.equipmentContent.displayStats")),1),s(k,{modelValue:G.value,"onUpdate:modelValue":w[2]||(w[2]=A=>G.value=A),binary:!0},null,8,["modelValue"])]),T.value?(o(),d("div",{key:0,ref_key:"itemResultsWrapper",ref:R,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(P,{items:l(I),"item-size":[G.value?215:65,G.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:m(({item:A})=>[l(I)[0].length>0?(o(),d("div",Yl,[(o(!0),d(J,null,le(A,(v,X)=>(o(),d(J,{key:X},[G.value&&v?(o(),d("div",Jl,[e("div",Ql,[s(n,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Xl,[e("div",Zl,t(p.$t(`items.${v.id}`)),1),e("div",Kl,[s(n,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(n,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(we).includes(v.type.id)?(o(),d("div",ei,t(p.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(o(),d("div",ti,"Lvl: "+t(v.level),1)),v.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),d("div",si,t(v.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])]),ai,e("div",li,[s(g,{icon:"pi pi-plus",class:"equip-button",onClick:K=>ee(v,K)},null,8,["onClick"]),s(g,{icon:"pi pi-question-circle",class:"equip-button",onClick:K=>Z(v)},null,8,["onClick"])])]),s(Re,{"card-mode":"",item:v},null,8,["item"])])):(o(),ae(W,{key:1,delay:[0,0],duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(D).body},{content:m(()=>[v?(o(),d("div",_i,[e("div",gi,[s(n,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",fi,[e("div",bi,t(p.$t(`items.${v.id}`)),1),e("div",$i,[s(n,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(n,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(we).includes(v.type.id)?(o(),d("div",yi,t(p.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(o(),d("div",ki,"Lvl: "+t(v.level),1)),v.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),d("div",Si,t(v.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])])]),s(Re,{item:v},null,8,["item"])])):ie("",!0)]),default:m(()=>[e("div",ii,[e("div",ni,[s(n,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",oi,[e("div",ci,t(p.$t(`items.${v.id}`)),1),e("div",ri,[s(n,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(n,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(we).includes(v.type.id)?(o(),d("div",ui,t(p.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(o(),d("div",di,"Lvl: "+t(v.level),1)),v.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),d("div",pi,t(v.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])]),mi,e("div",hi,[s(g,{icon:"pi pi-plus",class:"equip-button",onClick:K=>ee(v,K)},null,8,["onClick"]),s(W,{placement:"left"},{content:m(()=>[e("div",vi,t(p.$t("characterSheet.equipmentContent.openEncyclopediaPage")),1)]),default:m(()=>[s(g,{icon:"pi pi-question-circle",class:"equip-button",onClick:K=>Z(v)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1032,["append-to"]))],64))),128))])):(o(),d("div",xi,t(p.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):ie("",!0)])}}},Ci=ue(wi,[["__scopeId","data-v-25f42264"]]);const be=h=>(de("data-v-9c3b57bb"),h=h(),pe(),h),Ai={class:"w-full h-full"},Vi=be(()=>e("div",null,"Active Spells (WIP)",-1)),Wi={class:"flex mt-2"},Ii={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},qi={class:"disabled-mask"},Ei=be(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Pi={key:1,class:"spell-button disabled"},Di={class:"disabled-mask"},Ti=be(()=>e("div",{class:"mt-3"},"Passives (WIP)",-1)),Mi={class:"flex mt-2"},Ri={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Oi={key:0},Fi=["onClick"],Ui=be(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Ni={class:"spell-tooltip"},Li={class:"spell-name px-2 py-1"},ji={class:"spell-description px-2 py-1"},Hi=["innerHTML"],Bi={key:1},zi={class:"flex flex-wrap gap-1"},Gi=["onClick"],Yi=be(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Ji=be(()=>e("div",{class:"disabled-mask"},null,-1)),Qi={class:"spell-tooltip"},Xi={class:"spell-name px-2 py-1"},Zi={class:"spell-description px-2 py-1"},Ki=["innerHTML"],en={__name:"SpellTabContent",setup(h){const r=ce("currentCharacter"),{getClassPassiveSpells:f,getSpellHtml:a,getSpellLevel:$}=tt(r),u=re(()=>f(r.value.class)),U=x=>{x.category===Me.passive&&(Object.keys(r.value.spells).forEach(D=>{var L;D.includes(Me.passive)&&((L=r.value.spells[D])==null?void 0:L.id)===x.id&&(r.value.spells[D]=null)}),Object.keys(r.value.spells).some(D=>{if(D.includes(Me.passive)&&r.value.spells[D]===null)return r.value.spells[D]=x,!0}))},R=x=>{r.value.spells[x]=null},M=x=>{let D=!1;return Object.keys(r.value.spells).forEach(L=>{var O;((O=r.value.spells[L])==null?void 0:O.id)===x.id&&(D=!0)}),D};return(x,D)=>{const L=q("p-image"),O=q("tippy");return o(),d("div",Ai,[Vi,e("div",Wi,[e("div",Ii,[(o(),d(J,null,le(12,I=>(o(),d(J,{key:I},[l(r).spells["activeSlot"+I]!==null?(o(),d("div",{key:0,class:"spell-button disabled",onClick:D[0]||(D[0]=T=>R(x.spell))},[e("div",qi,t(),1),Ei,s(L,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(r).spells["activeSlot"+I].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(o(),d("div",Pi,[s(L,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Di,t(),1)]))],64))),64))])]),Ti,e("div",Mi,[e("div",Ri,[(o(),d(J,null,le(6,I=>(o(),d(J,{key:I},[l(r).spells["passiveSlot"+I]!==null?(o(),d("div",Oi,[s(O,{duration:"0"},{content:m(()=>[e("div",Ni,[e("div",Li,t(l(r).spells["passiveSlot"+I].name)+" (Level "+t(l($)(l(r).spells["passiveSlot"+I]))+") ",1),e("div",ji,t(l(r).spells["passiveSlot"+I].description),1),e("div",{class:"spell-details",innerHTML:l(a)(l(r).spells["passiveSlot"+I])},null,8,Hi)])]),default:m(()=>[e("div",{class:"spell-button",onClick:T=>R("passiveSlot"+I)},[Ui,s(L,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(r).spells["passiveSlot"+I].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Fi)]),_:2},1024)])):(o(),d("div",Bi,[s(L,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"])]))],64))),64))]),e("div",zi,[(o(!0),d(J,null,le(u.value,I=>(o(),ae(O,{key:I.id,duration:"0"},{content:m(()=>[e("div",Qi,[e("div",Xi,t(I.name)+" (Level "+t(l($)(I))+")",1),e("div",Zi,t(I.description),1),e("div",{class:"spell-details",innerHTML:l(a)(I)},null,8,Ki)])]),default:m(()=>[e("div",{class:se(["spell-button",{disabled:M(I)}]),onClick:T=>U(I)},[Yi,Ji,s(L,{src:`https://tmktahu.github.io/WakfuAssets/spells/${I.iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],10,Gi)]),_:2},1024))),128))])])])}}},tn=ue(en,[["__scopeId","data-v-9c3b57bb"]]),sn={class:"flex align-items-center"},an={class:"mx-2"},ln=e("i",{class:"mdi mdi-information-outline"},null,-1),nn={class:"simple-tooltip"},ge={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(h){return(r,f)=>{const a=q("p-checkbox"),$=q("tippy");return o(),d("div",sn,[s(a,Pe(r.$attrs,{binary:!0}),null,16),e("div",an,t(h.label),1),h.tooltipText?(o(),ae($,{key:0,placement:"left",duration:"0"},{content:m(()=>[e("div",nn,t(h.tooltipText),1)]),default:m(()=>[ln]),_:1})):ie("",!0)])}}},on={class:"flex align-items-center"},cn={class:"mx-2"},rn=e("i",{class:"mdi mdi-information-outline"},null,-1),un={class:"simple-tooltip"},Ee={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(h){return(r,f)=>{const a=q("p-inputNumber"),$=q("tippy");return o(),d("div",on,[s(a,Pe(r.$attrs,{class:"number-input"}),null,16),e("div",cn,t(h.label),1),s($,{placement:"left",duration:"0"},{content:m(()=>[e("div",un,t(h.tooltipText),1)]),default:m(()=>[rn]),_:1})])}}};const Xe=h=>(de("data-v-19682913"),h=h(),pe(),h),dn={class:"item-card"},pn={class:"slot-label text-center pt-1 pb-1"},mn={class:"flex px-2 pt-1"},hn={class:"flex flex-column ml-1"},vn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},_n={class:"flex"},gn={key:0},fn={key:1},bn={key:2,class:"ml-1"},$n=Xe(()=>e("div",{class:"flex-grow-1"},null,-1)),yn={class:"flex flex-column"},kn=Xe(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Sn={key:0,class:"item-card-tooltip"},xn={class:"effect-header flex pt-2 px-1"},wn={class:"flex flex-column ml-1"},Cn={class:"item-name mr-2"},An={class:"flex"},Vn={key:0},Wn={key:1},In={key:2,class:"ml-1"},qn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}}},setup(h){let r=document;const f=Oe(),a=ce("currentCharacter"),{getItemEncyclopediaUrl:$}=Qe(),{equipItem:u}=De(a),U=(M,x)=>{u(M,x,f)},R=M=>{let x=$(M);window.open(x,"_blank")};return(M,x)=>{const D=q("p-image"),L=q("p-button"),O=q("tippy");return o(),ae(O,{delay:"[0, 0]",duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(r).body},{content:m(()=>[h.item?(o(),d("div",Sn,[e("div",xn,[s(D,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",wn,[e("div",Cn,t(M.$t(`items.${h.item.id}`)),1),e("div",An,[s(D,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(D,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(we).includes(h.item.type.id)?(o(),d("div",Vn,"Item Level: 50")):(o(),d("div",Wn,"Lvl: "+t(h.item.level),1)),h.item.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),d("div",In,t(h.item.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])])]),s(Re,{item:h.item},null,8,["item"])])):ie("",!0)]),default:m(()=>[e("div",dn,[e("div",pn,t(h.item.type.validSlots[0]==="LEFT_HAND"?"Ring":M.$t(l(j)[h.item.type.validSlots[0]].name))+" Slot ",1),e("div",mn,[s(D,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",hn,[e("div",vn,t(M.$t(`items.${h.item.id}`)),1),e("div",_n,[s(D,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(D,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(we).includes(h.item.type.id)?(o(),d("div",gn,"Item Level: 50")):(o(),d("div",fn,"Lvl: "+t(h.item.level),1)),h.item.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),d("div",bn,t(h.item.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])]),$n,e("div",yn,[s(L,{icon:"pi pi-plus",class:"action-button mb-1",onClick:x[0]||(x[0]=I=>U(h.item,I))}),s(O,{placement:"left"},{content:m(()=>[kn]),default:m(()=>[s(L,{icon:"pi pi-question-circle",class:"action-button",onClick:x[1]||(x[1]=I=>R(h.item))})]),_:1})])])])]),_:1},8,["append-to"])}}},En=ue(qn,[["__scopeId","data-v-19682913"]]);const Ae=h=>(de("data-v-1b089a85"),h=h(),pe(),h),Pn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Dn={class:"flex flex-column mt-4"},Tn={class:"flex"},Mn={class:"flex mt-3"},Rn={class:"setting-group flex flex-column mr-3 gap-2"},On={class:"mb-2"},Fn=Ae(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Un={class:"simple-tooltip"},Nn={class:"setting-group flex flex-column mr-3"},Ln={class:"flex flex-column gap-2"},jn={class:"mb-2"},Hn=Ae(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Bn={class:"simple-tooltip"},zn={class:"flex align-items-center"},Gn={class:"mr-2"},Yn={class:"px-2 py-1"},Jn={class:"flex align-items-center"},Qn={class:"mr-2"},Xn={class:"px-2 py-1"},Zn={class:"flex align-items-center"},Kn={class:"mr-2"},eo={class:"px-2 py-1"},to={class:"flex align-items-center"},so={class:"mr-2"},ao={class:"px-2 py-1"},lo={class:"flex align-items-center"},io={class:"mr-2"},no={class:"px-2 py-1"},oo={class:"flex flex-column"},co={class:"rarity-container"},ro={class:"flex align-items-center mb-1"},uo={class:"mx-2"},po={class:"rarity-button-wrapper"},mo={class:"flex justify-content-center align-items-center"},ho={class:"simple-tooltip"},vo={class:"setting-group flex flex-column gap-2 mt-2"},_o={class:"mb-2"},go=Ae(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),fo={class:"simple-tooltip"},bo={key:0,class:"warning-message mt-2 py-1 px-2"},$o={class:"flex align-items-center mt-3"},yo=Ae(()=>e("div",{class:"flex-grow-1"},null,-1)),ko=Ae(()=>e("a",{href:"https://github.com/mikeshardmind/wakfu-utils",target:"_blank"},"Keeper of Time (sinbad)",-1)),So={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},xo={key:0,class:"error-state px-3 py-3"},wo={key:0,class:"mt-1"},Co={key:1},Ao={class:"mt-3"},Vo={key:0,class:"mt-2"},Wo={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Io={key:1},qo={class:"flex flex-wrap gap-1 mt-2"},Eo={key:2,class:"loading-state px-3 py-3"},Po={class:"mt-2"},Do={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},To={class:"text-center mt-2"},Mo={class:"text-center mb-5 mt-2"},Ro={class:"flex justify-content-center"},Oo={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Fo={__name:"ItemSolverTabContent",setup(h){const{t:r}=Fe(),f=Oe(),a=ce("currentCharacter"),{equipItem:$}=De(a),{runCalculations:u,autoBuilderIsReady:U,itemSet:R,builderLoading:M,builderError:x}=st(),{createBuildCode:D}=Ye(),L=y(!1),O=re(()=>{if(L.value)return R.value;{let C=Object.keys(a.value.equipment).map(c=>{if(a.value.equipment[c])return a.value.equipment[c].id}).filter(c=>c!==void 0);return R.value?R.value.filter(c=>!C.includes(c.id)):[]}}),I=y(a.value.actionPoints),T=y(a.value.movementPoints),G=y(a.value.stats.range),te=y(a.value.wakfuPoints),ee=y(!1),Z=y(!1),p=y(!1),w=y(!1),N=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioratized"}],Q=[...N,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],k=y(N[0]),n=y(N[0]),g=y(N[0]),W=y(N[0]),P=y(N[0]),A=y(!0),v=y(at.map(C=>({...C,checked:!0}))),X=y(!0);fe(U,()=>{X.value=!1});const K=()=>{v.value.forEach(C=>{C.checked=!0})},oe=()=>{v.value.forEach(C=>{C.checked=!1})},i=re(()=>U.value),b=re(()=>D(a.value)),H=y(null);fe([I,T,G,te],()=>{H.value=null,I.value-a.value.actionPoints>=6?H.value=r("characterSheet.itemSolverContent.apWarning"):G.value-a.value.stats.range>5?H.value=r("characterSheet.itemSolverContent.rangeImpossibleWarning"):a.value.level<35?G.value-a.value.stats.range>0&&(H.value=r("characterSheet.itemSolverContent.rangeForLevelWarning")):a.value.level<50?G.value-a.value.stats.range>1?H.value=r("characterSheet.itemSolverContent.rangeForLevelWarning"):I.value-a.value.actionPoints+T.value-a.value.movementPoints>4&&(H.value=r("characterSheet.itemSolverContent.combinedApMpWarning")):a.value.level<80&&G.value-a.value.stats.range>3&&(H.value=r("characterSheet.itemSolverContent.rangeForLevelWarning"))});const E=async()=>{let C=v.value.filter(_=>_.checked).map(_=>_.id),c={buildCode:b.value,meleeMasteryPriority:k.value,distanceMasteryPriority:n.value,healingMasteryPriority:g.value,rearMasteryPriority:W.value,berserkMasteryPriority:P.value,fireMastery:ee.value,earthMastery:Z.value,waterMastery:p.value,airMastery:w.value,targetApAmount:I.value||0,targetMpAmount:T.value||0,targetRangeAmount:G.value||0,targetWpAmount:te.value||0,selectedRarityIds:C,ignoreEquippedItems:!A.value};u(c)},B=C=>{f.require({group:"popup",target:C.currentTarget,message:r("confirms.willReplaceItems"),accept:()=>{R.value.forEach(c=>{$(c)})}})};return(C,c)=>{var ye,ke,Se;const _=q("tippy"),me=q("p-dropdown"),he=q("p-button"),Ie=q("p-image"),qe=q("p-checkbox"),$e=q("p-progressSpinner");return o(),d("div",Pn,[s(Je,{character:l(a)},null,8,["character"]),e("div",Dn,[e("div",Tn,[s(ge,{modelValue:A.value,"onUpdate:modelValue":c[0]||(c[0]=S=>A.value=S),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Mn,[e("div",Rn,[e("div",On,[s(_,{placement:"top",duration:"0"},{content:m(()=>[e("div",Un,t(C.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:m(()=>[Fn]),_:1}),ne(" "+t(C.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ee,{modelValue:I.value,"onUpdate:modelValue":c[1]||(c[1]=S=>I.value=S),label:C.$t("constants.actionPoints"),"tooltip-text":C.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ee,{modelValue:T.value,"onUpdate:modelValue":c[2]||(c[2]=S=>T.value=S),label:C.$t("constants.movementPoints"),"tooltip-text":C.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ee,{modelValue:G.value,"onUpdate:modelValue":c[3]||(c[3]=S=>G.value=S),label:C.$t("constants.range"),"tooltip-text":C.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ee,{modelValue:te.value,"onUpdate:modelValue":c[4]||(c[4]=S=>te.value=S),label:C.$t("constants.wakfuPoints"),"tooltip-text":C.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",Nn,[e("div",Ln,[e("div",jn,[s(_,{placement:"top",duration:"0"},{content:m(()=>[e("div",Bn,t(C.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:m(()=>[Hn]),_:1}),ne(" "+t(C.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",zn,[e("div",Gn,t(C.$t("constants.meleeMastery")),1),s(me,{modelValue:k.value,"onUpdate:modelValue":c[5]||(c[5]=S=>k.value=S),class:"condensed-dropdown","option-label":"label",options:N},{value:m(S=>[ne(t(C.$t(S.value.label)),1)]),option:m(S=>[e("div",Yn,t(C.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Jn,[e("div",Qn,t(C.$t("constants.distanceMastery")),1),s(me,{modelValue:n.value,"onUpdate:modelValue":c[6]||(c[6]=S=>n.value=S),class:"condensed-dropdown","option-label":"label",options:N},{value:m(S=>[ne(t(C.$t(S.value.label)),1)]),option:m(S=>[e("div",Xn,t(C.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Zn,[e("div",Kn,t(C.$t("constants.healingMastery")),1),s(me,{modelValue:g.value,"onUpdate:modelValue":c[7]||(c[7]=S=>g.value=S),class:"condensed-dropdown","option-label":"label",options:N},{value:m(S=>[ne(t(C.$t(S.value.label)),1)]),option:m(S=>[e("div",eo,t(C.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",to,[e("div",so,t(C.$t("constants.rearMastery")),1),s(me,{modelValue:W.value,"onUpdate:modelValue":c[8]||(c[8]=S=>W.value=S),class:"condensed-dropdown","option-label":"label",options:Q},{value:m(S=>[ne(t(C.$t(S.value.label)),1)]),option:m(S=>[e("div",ao,t(C.$t(S.option.label)),1)]),_:1},8,["modelValue"])]),e("div",lo,[e("div",io,t(C.$t("constants.berserkMastery")),1),s(me,{modelValue:P.value,"onUpdate:modelValue":c[9]||(c[9]=S=>P.value=S),class:"condensed-dropdown","option-label":"label",options:Q},{value:m(S=>[ne(t(C.$t(S.value.label)),1)]),option:m(S=>[e("div",no,t(C.$t(S.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",oo,[e("div",co,[e("div",ro,[s(he,{class:"filter-button item-filter-action",label:C.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),e("div",uo,t(C.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(he,{class:"filter-button item-filter-action",label:C.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:oe},null,8,["label"])]),e("div",po,[(o(!0),d(J,null,le(v.value,S=>(o(),ae(_,{key:S.id,duration:"0"},{content:m(()=>[e("div",ho,t(C.$t(S.name)),1)]),default:m(()=>[s(qe,{modelValue:S.checked,"onUpdate:modelValue":ve=>S.checked=ve,binary:!0,class:"rarity-checkbox"},{icon:m(ve=>[e("div",mo,[s(Ie,{class:se({disabled:!ve.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${S.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024))),128))])]),e("div",vo,[e("div",_o,[s(_,{placement:"top",duration:"0"},{content:m(()=>[e("div",fo,t(C.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:m(()=>[go]),_:1}),ne(" "+t(C.$t("constants.elementalMasteries")),1)]),s(ge,{modelValue:ee.value,"onUpdate:modelValue":c[10]||(c[10]=S=>ee.value=S),label:C.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(ge,{modelValue:Z.value,"onUpdate:modelValue":c[11]||(c[11]=S=>Z.value=S),label:C.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(ge,{modelValue:p.value,"onUpdate:modelValue":c[12]||(c[12]=S=>p.value=S),label:C.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(ge,{modelValue:w.value,"onUpdate:modelValue":c[13]||(c[13]=S=>w.value=S),label:C.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),H.value!==null?(o(),d("div",bo,t(H.value),1)):ie("",!0)]),e("div",$o,[s(he,{class:"py-2 px-3 mr-2",disabled:!i.value,label:(ye=O.value)!=null&&ye.length?"Re-Generate Item Set":"Generate Item Set",onClick:E},null,8,["disabled","label"]),s(he,{class:"py-2 px-3 mr-2",disabled:!((ke=O.value)!=null&&ke.length),label:"Equip All Items",onClick:c[14]||(c[14]=S=>B(S))},null,8,["disabled"]),s(ge,{modelValue:L.value,"onUpdate:modelValue":c[15]||(c[15]=S=>L.value=S),label:"Show All Items"},null,8,["modelValue"]),yo,e("div",null,[ne(t(C.$t("characterSheet.itemSolverContent.poweredBy"))+" ",1),ko,ne("'s "+t(C.$t("characterSheet.itemSolverContent.code"))+".",1)])]),l(M)?(o(),d("div",Do,[e("div",To,t(C.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Mo,t(C.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Ro,[e("div",Oo,[s($e,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s($e,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(o(),d("div",So,[l(x)?(o(),d("div",xo,[l(x).debug?(o(),d("div",wo,t(C.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(o(),d("div",Co,t(C.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Ao,[e("div",null,"Error Code: "+t(l(x).message),1),l(x).debug?(o(),d("div",Vo,[e("div",Wo,"Debug Code: "+t(l(x).debug),1)])):ie("",!0)])])):(Se=O.value)!=null&&Se.length?(o(),d("div",Io,[e("div",qo,[(o(!0),d(J,null,le(O.value,S=>(o(),ae(En,{key:S.id,item:S},null,8,["item"]))),128))])])):(o(),d("div",Eo,[e("div",null,t(C.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Po,t(C.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},Uo=ue(Fo,[["__scopeId","data-v-1b089a85"]]);const Ve=h=>(de("data-v-61b95848"),h=h(),pe(),h),No={class:"flex"},Lo={class:"flex flex-column"},jo={class:"mb-2"},Ho={class:"flex"},Bo={class:"mr-2"},zo=Ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Go={class:"simple-tooltip flex flex-column"},Yo={class:"mb-1"},Jo={class:"mb-1"},Qo={class:"mb-1"},Xo={class:"mb-1"},Zo={class:"mb-1"},Ko={class:"mb-1"},ec={key:0,class:"item-runes-section flex align-items-center mb-2"},tc=["onClick"],sc=["onClick","onDrop","onContextmenu","onDragstart"],ac={class:"rune-image"},lc={class:"rune-level"},ic={class:"simple-tooltip"},nc=["onDrop"],oc={class:"rune-image"},cc=Ve(()=>e("div",{class:"sublimation-drop-zone ml-2 pl-2 pr-2"},"sub",-1)),rc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},uc={class:"slot-image"},dc=["onDrop"],pc=Ve(()=>e("div",{class:"info-text"},"An item must be equipped",-1)),mc={class:"stats-summary"},hc={class:"text-lg my-1 pl-2"},vc={class:"stats-summary-list flex flex-column"},_c={class:"ml-2"},gc={class:"flex flex-column"},fc={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},bc={class:"flex align-items-center justify-content-center"},$c=Ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),yc={class:"simple-tooltip"},kc={class:"mx-2"},Sc={class:"rune-options flex flex-column mt-2"},xc=["onDragstart","onClick"],wc={class:"ml-2"},Cc=Ve(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Ac={class:"ml-3 mt-2"},Vc={key:0,class:"flex flex-column px-4 py-2"},Wc={class:"mb-2"},Ic={class:"ml-2"},qc={__name:"RunesSubsTabContent",setup(h){const{t:r}=Fe(),f=ce("currentCharacter"),{getRuneValue:a}=ze(),{getRunes:$,getSublimations:u}=De(),U=re(()=>$().sort((n,g)=>n.shardsParameters.color-g.shardsParameters.color));y(u());const R=y(1),M=y(null),x=y(null),D=y(null),L=y([{label:r("constants.level"),levelSlider:!0},{label:r("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{x.value&&(f.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].color===0?f.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].color=f.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].rune.shardsParameters.color:f.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].color=0)}},{label:r("constants.remove"),command:()=>{f.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey]=null}}]),O=re(()=>{let n={};return Object.keys(f.value.equipment).forEach(g=>{if(f.value.equipment[g]!==null){let W=f.value.equipment[g];for(let P=1;P<=4;P++){let A=W[`runeSlot${P}`];A&&(n[A.rune.id]||(n[A.rune.id]={totalValue:0,rune:A}),n[A.rune.id].totalValue+=a(A.rune,A.level,g))}}}),n}),I=(n,g)=>{n.stopPropagation(),M.value===g?M.value=null:M.value=g},T=(n,g,W)=>{n.shiftKey&&(f.value.equipment[g][W].color===0?f.value.equipment[g][W].color=f.value.equipment[g][W].rune.shardsParameters.color:f.value.equipment[g][W].color=0),n.ctrlKey&&(f.value.equipment[g][W]=null)},G=(n,g,W)=>{f.value.equipment[g][W]&&(x.value={itemSlotKey:g,runeSlotKey:W},D.value.show(n))},te=(n,g)=>{if(M.value&&f.value.equipment[M.value]!==null){let W=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let P in W)if(f.value.equipment[M.value][W[P]]===null||f.value.equipment[M.value][W[P]]===void 0){f.value.equipment[M.value][W[P]]={rune:g,color:g.shardsParameters.color,level:R.value};break}}},ee=(n,g,W)=>{n.dataTransfer.dropEffect="move",n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("rune",JSON.stringify(g)),W&&n.dataTransfer.setData("level",W)},Z=(n,g,W)=>{try{let P=JSON.parse(n.dataTransfer.getData("rune")),A=n.dataTransfer.getData("level");f.value.equipment[g][W]={rune:P,color:P.shardsParameters.color,level:A||R.value}}catch{}},p=()=>{let n=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(f.value.equipment).forEach(g=>{f.value.equipment[g]&&n.forEach(W=>{f.value.equipment[g][W]=void 0})})},w=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},N=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},Q=n=>Object.keys(j).find(g=>j[g].rawId===n),k=re(()=>{let n=1;return lt.some((g,W)=>g<=f.value.level?(n=W+1,!1):!0),n});return fe(()=>f.value.level,()=>{R.value=k.value},{immediate:!0}),(n,g)=>{const W=q("tippy"),P=q("p-image"),A=q("p-inputNumber"),v=q("p-button"),X=q("p-slider"),K=q("p-contextMenu"),oe=it("ripple");return o(),d("div",No,[e("div",Lo,[e("div",jo,[s(W,{placement:"left",duration:"0"},{content:m(()=>[e("div",Go,[e("div",Yo,t(n.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",Jo,t(n.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",Qo,t(n.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",Xo,t(n.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",Zo,t(n.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",Ko,t(n.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:m(()=>[e("div",Ho,[e("div",Bo,t(n.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),zo])]),_:1})]),(o(!0),d(J,null,le(Object.keys(l(f).equipment),i=>(o(),d(J,{key:i},[i!=="ACCESSORY"&&i!=="PET"&&i!=="MOUNT"&&i!=="SECOND_WEAPON"?(o(),d(J,{key:0},[i!=="undefined"&&l(f).equipment[i]?(o(),d("div",ec,[e("div",{class:se(["slot-image",{highlighted:M.value===i}]),onClick:b=>I(b,i)},[s(P,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${i}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,tc),(o(),d(J,null,le(4,b=>(o(),d(J,{key:b},[l(f).equipment[i][`runeSlot${b}`]?(o(),ae(W,{key:0,duration:"0"},{content:m(()=>[e("div",ic," +"+t(l(a)(l(f).equipment[i][`runeSlot${b}`].rune,l(f).equipment[i][`runeSlot${b}`].level,i))+" "+t(l(f).equipment[i][`runeSlot${b}`].rune.name),1)]),default:m(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:H=>T(H,i,`runeSlot${b}`),onDragover:g[0]||(g[0]=_e(()=>{},["prevent"])),onDragenter:g[1]||(g[1]=_e(()=>{},["prevent"])),onDrop:H=>Z(H,i,`runeSlot${b}`),onContextmenu:H=>G(H,i,`runeSlot${b}`),onDragstart:H=>ee(H,l(f).equipment[i][`runeSlot${b}`].rune,l(f).equipment[i][`runeSlot${b}`].level)},[e("div",ac,[s(P,{src:N(l(f).equipment[i][`runeSlot${b}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",lc,t(l(f).equipment[i][`runeSlot${b}`].level),1)],40,sc)]),_:2},1024)):(o(),d("div",{key:1,class:"rune-drop-zone ml-2",onDragover:g[2]||(g[2]=_e(()=>{},["prevent"])),onDragenter:g[3]||(g[3]=_e(()=>{},["prevent"])),onDrop:H=>Z(H,i,`runeSlot${b}`)},[e("div",oc,[s(P,{src:w(null),"image-style":"width: 26px"},null,8,["src"])])],40,nc))],64))),64)),cc])):i!=="undefined"?(o(),d("div",rc,[e("div",uc,[s(P,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${i}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(o(),d(J,null,le(4,b=>e("div",{key:b,class:"rune-drop-zone ml-2",onDragover:g[4]||(g[4]=_e(()=>{},["prevent"])),onDragenter:g[5]||(g[5]=_e(()=>{},["prevent"])),onDrop:H=>Z(H,i,`runeSlot${b}`)},null,40,dc)),64)),pc])):ie("",!0)],64)):ie("",!0)],64))),128)),e("div",mc,[e("div",hc,t(n.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",vc,[(o(!0),d(J,null,le(Object.keys(O.value),i=>(o(),d("div",{key:i,class:"summary-entry px-2 py-1"},[s(P,{src:N(O.value[i].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",_c,"+"+t(O.value[i].totalValue)+" "+t(O.value[i].rune.rune.name),1)]))),128))])])]),e("div",gc,[e("div",fc,[e("div",bc,[s(W,{placement:"left",duration:"0"},{content:m(()=>[e("div",yc,t(n.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:m(()=>[$c]),_:1}),e("span",kc,t(n.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(A,{modelValue:R.value,"onUpdate:modelValue":g[6]||(g[6]=i=>R.value=i),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:k.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Sc,[(o(!0),d(J,null,le(U.value,i=>(o(),d("div",{key:i.id,class:se(["rune-draggable mb-1 px-2",{highlighted:M.value&&i.shardsParameters.doubleBonusPosition.includes(l(j)[M.value].rawId)}]),draggable:"true",onDragstart:b=>ee(b,i),onClick:b=>te(b,i)},[s(P,{class:"rune-image",src:w(i.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",wc,"+"+t(l(a)(i,R.value))+" "+t(i.name),1),Cc,(o(!0),d(J,null,le(i.shardsParameters.doubleBonusPosition,b=>(o(),d("div",{key:b,class:"ml-1"},[s(P,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${Q(b)}.png`,class:se({disabled:!l(f).equipment[Q(b)]}),onClick:H=>I(H,Q(b))},null,8,["src","class","onClick"])]))),128))],42,xc))),128))])]),e("div",Ac,[s(v,{label:n.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:p},null,8,["label"])])]),s(K,{ref_key:"runeContextMenu",ref:D,model:L.value},{item:m(({item:i,props:b})=>[i.levelSlider?(o(),d("div",Vc,[e("div",Wc,t(n.$t("constants.level"))+": "+t(l(f).equipment[x.value.itemSlotKey][x.value.runeSlotKey].level),1),s(X,{modelValue:l(f).equipment[x.value.itemSlotKey][x.value.runeSlotKey].level,"onUpdate:modelValue":g[7]||(g[7]=H=>l(f).equipment[x.value.itemSlotKey][x.value.runeSlotKey].level=H),min:1,max:11},null,8,["modelValue"])])):nt((o(),d("a",Pe({key:1,class:"flex align-items-center"},b.action),[e("span",Ic,t(i.label),1)],16)),[[oe]])]),_:1},8,["model"])])}}},Ec=ue(qc,[["__scopeId","data-v-61b95848"]]);const We=h=>(de("data-v-d8005c1c"),h=h(),pe(),h),Pc={class:"top-bar py-3 px-3"},Dc={key:0,class:"flex align-items-center"},Tc={class:"capitalize"},Mc={key:1},Rc={class:"flex align-items-center"},Oc={class:"capitalize"},Fc={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},Uc={class:"mr-2"},Nc={class:"flex-grow-1"},Lc=We(()=>e("div",{class:"flex-grow-1"},null,-1)),jc={class:"build-code flex align-items-center ml-2 mr-3"},Hc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Bc={class:"simple-tooltip"},zc={class:"ml-2"},Gc={class:"code-disclaimer"},Yc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Jc={class:"simple-tooltip"},Qc={class:"ml-1"},Xc={class:"flex flex-grow-1",style:{overflow:"auto"}},Zc={class:"stats-area pt-3"},Kc={class:"flex flex-column flex-grow-1"},er=We(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),tr=We(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),sr={class:"flex align-items-center px-3 py-3"},ar={class:"flex align-items-center px-3 py-3"},lr={class:"flex align-items-center px-3 py-3"},ir={class:"flex align-items-center px-3 py-3"},nr={key:1,class:"px-5 mt-5"},or={__name:"CharacterSheet",setup(h){var te,ee,Z;const r=ot(),f=ce("currentCharacter"),a=y(null),$=y(null),u=y((te=f.value)==null?void 0:te.name),U=y((ee=f.value)==null?void 0:ee.level),R=y((Z=f.value)==null?void 0:Z.class),M=Object.entries(Be).map(([p,w])=>({label:w,value:w})),{createBuildCode:x}=Ye(),D=re(()=>x(f.value));fe(f,()=>{L()});const L=()=>{var p,w,N;u.value=(p=f.value)==null?void 0:p.name,U.value=(w=f.value)==null?void 0:w.level,R.value=(N=f.value)==null?void 0:N.class},O=(p,w)=>{w==="name"?f.value.name=p.target.value:w==="levelText"?f.value.level=p.value:w==="levelSlider"?f.value.level=p:w==="class"&&(f.value.class=p.value),L()},I=()=>{xe(()=>{a.value.showList()})},T=re(()=>{var p;return(p=$.value)==null?void 0:p.hasCharacteristicsError}),G=()=>{navigator.clipboard.writeText(D.value),r.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(p,w)=>{const N=q("p-inputText"),Q=q("p-dropdown"),k=q("p-inputNumber"),n=q("p-slider"),g=q("tippy"),W=q("p-button"),P=q("p-tabPanel"),A=q("p-tabView");return l(f)?(o(),d("div",{key:l(f).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Pc,[s(N,{modelValue:u.value,"onUpdate:modelValue":w[0]||(w[0]=v=>u.value=v),class:"mr-2",onInput:w[1]||(w[1]=v=>O(v,"name"))},null,8,["modelValue"]),s(Q,{modelValue:R.value,"onUpdate:modelValue":w[2]||(w[2]=v=>R.value=v),options:l(M),placeholder:p.$t("characterSheet.selectAClass"),"option-value":"value","option-label":"label",class:"mr-2",onChange:w[3]||(w[3]=v=>O(v,"class"))},{value:m(v=>[v.value?(o(),d("div",Dc,[e("div",Tc,t(v.value),1)])):(o(),d("span",Mc,t(v.placeholder),1))]),option:m(v=>[e("div",Rc,[e("div",Oc,t(v.option.label),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",Fc,[e("span",Uc,t(p.$t("characterSheet.level")),1),s(k,{modelValue:U.value,"onUpdate:modelValue":w[4]||(w[4]=v=>U.value=v),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:w[5]||(w[5]=v=>O(v,"levelText"))},null,8,["modelValue"]),e("div",Nc,[s(n,{modelValue:U.value,"onUpdate:modelValue":w[6]||(w[6]=v=>U.value=v),min:1,max:230,onChange:w[7]||(w[7]=v=>O(v,"levelSlider"))},null,8,["modelValue"])])]),Lc,e("div",jc,[s(g,{placement:"left",duration:"0"},{content:m(()=>[e("div",Bc,t(p.$t("characterSheet.buildCopyPaste")),1)]),default:m(()=>[Hc]),_:1}),e("div",zc,t(p.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:G},[e("span",null,t(D.value),1)]),s(W,{class:"py-1 ml-2 px-2",label:p.$t("characterSheet.copy"),onClick:G},null,8,["label"]),e("div",Gc,[s(g,{placement:"bottom",duration:"0"},{content:m(()=>[e("div",Jc,t(p.$t("characterSheet.codeInfo")),1)]),default:m(()=>[Yc]),_:1}),e("div",Qc,t(p.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",Xc,[e("div",Zc,[s(Fa)]),e("div",Kc,[s(A,{class:"main-tab-view",onTabChange:I},{default:m(()=>[s(P,null,{header:m(()=>[e("div",{class:se(["characteristics-tab-header px-3 h-full",{error:T.value,"points-to-spend":!1}])},[e("span",null,t(p.$t("characterSheet.characteristics")),1),er,tr],2)]),default:m(()=>[s(dl,{ref_key:"characteristicsTabContent",ref:$},null,512)]),_:1}),s(P,null,{header:m(()=>[e("div",sr,[e("span",null,t(p.$t("characterSheet.equipment")),1)])]),default:m(()=>[s(Ci,{ref_key:"equipmentTabContent",ref:a},null,512)]),_:1}),s(P,null,{header:m(()=>[e("div",ar,[e("span",null,t(p.$t("characterSheet.autoItemSolver")),1)])]),default:m(()=>[s(Uo)]),_:1}),s(P,null,{header:m(()=>[e("div",lr,[e("span",null,t(p.$t("characterSheet.runesAndSubs")),1)])]),default:m(()=>[s(Ec)]),_:1}),s(P,null,{header:m(()=>[e("div",ir,[e("span",null,t(p.$t("characterSheet.spellsAndPassives")),1)])]),default:m(()=>[s(tn)]),_:1})]),_:1})])])])):(o(),d("div",nr," No Character data found for the given ID. "))}}},dr=ue(or,[["__scopeId","data-v-d8005c1c"]]);export{dr as default};
