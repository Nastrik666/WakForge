import{_ as $e,i as ge,g as E,q as a,o as c,h as u,j as e,k as s,t,y as Fe,l as te,z as Qe,s as ye,x as ke,A as Ne,r as b,f as pe,B as at,D as Te,E as Xe,G as ne,H,w as p,F as J,m as oe,n as re,I as he,a as ze,J as je,K as ee,L as Oe,b as Ge,M as Pe,N as it,O as nt,P as Ae,Q as Je,R as ot,S as He,T as ct,d as Ze,U as rt,V as ut,W as dt,p as me,X as Be,Y as pt,u as mt}from"./index-aab2d378.js";import{I as We,M as De,u as Ke,E as et,a as ht}from"./addCompanion-de797ee3.js";const Q=v=>(ye("data-v-2fc23f58"),v=v(),ke(),v),vt={key:0},gt={class:"flex justify-content-between w-full px-2"},ft={class:"main-stat-box"},_t={class:"flex align-items-center my-1"},bt={class:"ml-1"},$t={class:"stat-value py-1"},yt={class:"main-stat-box"},kt={class:"flex align-items-center my-1"},St={class:"ml-1"},xt={class:"stat-value py-1"},wt={class:"main-stat-box"},Ct={class:"flex align-items-center my-1"},Vt={class:"ml-1"},At={class:"stat-value py-1"},Wt={class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Et={class:"ml-1"},It={class:"stat-value py-1"},Pt={key:0,class:"main-stat-box"},Tt={class:"flex align-items-center my-1"},Dt={class:"ml-1"},Mt={class:"stat-value py-1"},Rt={key:1,class:"main-stat-box"},Lt={class:"flex align-items-center my-1"},Ut={class:"ml-1"},Ft={class:"stat-value py-1"},Ot={class:"main-stat-area flex flex-column mt-2 pb-2"},Nt={class:"section-header py-1 mb-1"},jt={class:"flex pl-1"},Ht={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Zt={class:"stat-block pr-2"},Kt={class:"ml-1"},es=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ts={class:"stat-block pr-2"},ss={class:"ml-1"},ls=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"section-header py-1 mb-1"},is={class:"flex pl-1"},ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},hs={class:"stat-block pr-2"},vs={class:"ml-1"},gs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),fs={class:"stat-block pr-2"},_s={class:"ml-1"},bs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),$s={class:"lex flex-column"},ys={class:"section-header py-1 mb-1"},ks={class:"flex pl-1"},Ss={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xs={class:"stat-block pr-2"},ws={class:"ml-1"},Cs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Vs={class:"stat-block pr-2"},As={class:"ml-1"},Ws=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),qs={class:"stat-block pr-2"},Es={class:"ml-1"},Is=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ps={class:"stat-block pr-2"},Ts={class:"ml-1"},Ds=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ms={class:"stat-block pr-2"},Rs={class:"ml-1"},Ls=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Us={class:"stat-block pr-2"},Fs={class:"ml-1"},Os=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},js={class:"stat-block pr-2"},Hs={class:"ml-1"},Bs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),zs={class:"stat-block pr-2"},Gs={class:"ml-1"},Ys=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Js={class:"stat-block pr-2"},Qs={class:"ml-1"},Xs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Zs={class:"stat-block pr-2"},Ks={class:"ml-1"},el=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),tl={class:"stat-block pr-2"},sl={class:"ml-1"},ll=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),al={class:"stat-block pr-2"},il={class:"ml-1"},nl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ol={class:"flex flex-column"},cl={class:"section-header py-1 mb-1"},rl={class:"flex pl-1"},ul={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},dl={class:"stat-block pr-2"},pl={class:"ml-1"},ml=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),hl={class:"stat-block pr-2"},vl={class:"ml-1"},gl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),fl={class:"stat-block pr-2"},_l={class:"ml-1"},bl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),$l={class:"stat-block pr-2"},yl={class:"ml-1"},kl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Sl={class:"stat-block pr-2"},xl={class:"ml-1"},wl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Cl={class:"stat-block pr-2"},Vl={class:"ml-1"},Al=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Wl={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ql={class:"stat-block pr-2"},El={class:"ml-1"},Il=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Pl={class:"stat-block pr-2"},Tl={class:"ml-1"},Dl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ml={class:"stat-block pr-2"},Rl={class:"ml-1"},Ll=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ul={class:"stat-block pr-2"},Fl={class:"ml-1"},Ol=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Nl={class:"stat-block pr-2"},jl={class:"ml-1"},Hl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={class:"flex flex-column"},zl={class:"section-header py-1 mb-1"},Gl={class:"stat-block pr-2"},Yl={class:"ml-1"},Jl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ql={__name:"StatDisplay",setup(v){const m=ge("currentCharacter"),{calcElemResistancePercentage:L,calcTotalMastery:o}=Qe(m);return(l,W)=>{const S=E("p-image");return a(m)?(c(),u("div",vt,[e("div",gt,[e("div",ft,[e("div",_t,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",bt,t(l.$t("constants.hp")),1)]),e("div",$t,t(a(m).healthPoints),1)]),e("div",yt,[e("div",kt,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",St,t(l.$t("characterSheet.statsDisplay.ar")),1)]),e("div",xt,t(a(m).armorPoints),1)]),e("div",wt,[e("div",Ct,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Vt,t(l.$t("constants.ap")),1)]),e("div",At,t(a(m).actionPoints),1)]),e("div",Wt,[e("div",qt,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Et,t(l.$t("constants.mp")),1)]),e("div",It,t(a(m).movementPoints),1)]),a(m).class===a(Fe).huppermage.id?(c(),u("div",Pt,[e("div",Tt,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Dt,t(l.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Mt,t(a(m).quadrumentalBreeze),1)])):(c(),u("div",Rt,[e("div",Lt,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Ut,t(l.$t("constants.wp")),1)]),e("div",Ft,t(a(m).wakfuPoints),1)]))]),e("div",Ot,[e("div",Nt,t(l.$t("constants.elementalMasteries")),1),e("div",jt,[e("div",Ht,[e("div",Bt,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",zt,t(l.$t("characterSheet.statsDisplay.water")),1),Gt,e("span",null,t(a(m).masteries.water),1)]),e("div",Yt,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Jt,t(l.$t("characterSheet.statsDisplay.air")),1),Qt,e("span",null,t(a(m).masteries.air),1)])]),e("div",Xt,[e("div",Zt,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Kt,t(l.$t("characterSheet.statsDisplay.earth")),1),es,e("span",null,t(a(m).masteries.earth),1)]),e("div",ts,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ss,t(l.$t("characterSheet.statsDisplay.fire")),1),ls,e("span",null,t(a(m).masteries.fire),1)])])]),e("div",as,t(l.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",is,[e("div",ns,[e("div",os,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",cs,t(l.$t("characterSheet.statsDisplay.water")),1),rs,e("span",null,t(a(L)(a(m).resistances.water))+"% ("+t(a(m).resistances.water)+")",1)]),e("div",us,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ds,t(l.$t("characterSheet.statsDisplay.air")),1),ps,e("span",null,t(a(L)(a(m).resistances.air))+"% ("+t(a(m).resistances.air)+")",1)])]),e("div",ms,[e("div",hs,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",vs,t(l.$t("characterSheet.statsDisplay.earth")),1),gs,e("span",null,t(a(L)(a(m).resistances.earth))+"% ("+t(a(m).resistances.earth)+")",1)]),e("div",fs,[s(S,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",_s,t(l.$t("characterSheet.statsDisplay.fire")),1),bs,e("span",null,t(a(L)(a(m).resistances.fire))+"% ("+t(a(m).resistances.fire)+")",1)])])]),e("div",$s,[e("div",ys,t(l.$t("characterSheet.statsDisplay.battle")),1),e("div",ks,[e("div",Ss,[e("div",xs,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",ws,t(l.$t("constants.damageInflicted")),1),Cs,e("span",null,t(a(m).stats.damageInflicted)+"%",1)]),e("div",Vs,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",As,t(l.$t("characterSheet.statsDisplay.criticalHit")),1),Ws,e("span",null,t(a(m).stats.criticalHit)+"%",1)]),e("div",qs,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Es,t(l.$t("constants.initiative")),1),Is,e("span",null,t(a(m).stats.initiative),1)]),e("div",Ps,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ts,t(l.$t("constants.dodge")),1),Ds,e("span",null,t(a(m).stats.dodge),1)]),e("div",Ms,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Rs,t(l.$t("constants.wisdom")),1),Ls,e("span",null,t(a(m).stats.wisdom),1)]),e("div",Us,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Fs,t(l.$t("constants.control")),1),Os,e("span",null,t(a(m).stats.control),1)])]),e("div",Ns,[e("div",js,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Hs,t(l.$t("constants.healsPerformed")),1),Bs,e("span",null,t(a(m).stats.healsPerformed)+"%",1)]),e("div",zs,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Gs,t(l.$t("characterSheet.statsDisplay.block")),1),Ys,e("span",null,t(a(m).stats.block)+"%",1)]),e("div",Js,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Qs,t(l.$t("constants.range")),1),Xs,e("span",null,t(a(m).stats.range),1)]),e("div",Zs,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Ks,t(l.$t("constants.lock")),1),el,e("span",null,t(a(m).stats.lock),1)]),e("div",tl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",sl,t(l.$t("constants.prospecting")),1),ll,e("span",null,t(a(m).stats.prospecting),1)]),e("div",al,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",il,t(l.$t("constants.forceOfWill")),1),nl,e("span",null,t(a(m).stats.forceOfWill),1)])])])]),e("div",ol,[e("div",cl,t(l.$t("characterSheet.statsDisplay.secondary")),1),e("div",rl,[e("div",ul,[e("div",dl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",pl,t(l.$t("constants.criticalMastery")),1),ml,e("span",null,t(a(m).masteries.critical),1)]),e("div",hl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",vl,t(l.$t("constants.rearMastery")),1),gl,e("span",null,t(a(m).masteries.rear),1)]),e("div",fl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",_l,t(l.$t("constants.meleeMastery")),1),bl,e("span",null,t(a(m).masteries.melee),1)]),e("div",$l,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",yl,t(l.$t("constants.distanceMastery")),1),kl,e("span",null,t(a(m).masteries.distance),1)]),e("div",Sl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",xl,t(l.$t("constants.healingMastery")),1),wl,e("span",null,t(a(m).masteries.healing),1)]),e("div",Cl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Vl,t(l.$t("constants.berserkMastery")),1),Al,e("span",null,t(a(m).masteries.berserk),1)])]),e("div",Wl,[e("div",ql,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",El,t(l.$t("constants.criticalResistance")),1),Il,e("span",null,t(a(m).resistances.critical),1)]),e("div",Pl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Tl,t(l.$t("constants.rearResistance")),1),Dl,e("span",null,t(a(m).resistances.rear),1)]),e("div",Ml,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Rl,t(l.$t("constants.armorGiven")),1),Ll,e("span",null,t(a(m).stats.armorGiven)+"%",1)]),e("div",Ul,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Fl,t(l.$t("characterSheet.statsDisplay.armorReceived")),1),Ol,e("span",null,t(a(m).stats.armorReceived)+"%",1)]),e("div",Nl,[s(S,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",jl,t(l.$t("characterSheet.statsDisplay.indirectDamage")),1),Hl,e("span",null,t(a(m).stats.indirectDamage)+"%",1)])])])])]),e("div",Bl,[e("div",zl,t(l.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Gl,[s(S,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",Yl,t(l.$t("characterSheet.statsDisplay.totalMastery")),1),Jl,e("span",null,t(a(o)()),1)])])])):te("",!0)}}},Xl=$e(Ql,[["__scopeId","data-v-2fc23f58"]]);const Zl=v=>(ye("data-v-c1799ab4"),v=v(),ke(),v),Kl={class:"flex align-items-center my-1"},ea={class:"entry-label ml-2"},ta=Zl(()=>e("div",{class:"flex-grow-1"},null,-1)),sa={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(v){return(m,L)=>{const o=E("p-image"),l=E("p-inputNumber");return c(),u("div",Kl,[s(o,{src:v.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",ea,t(v.label),1),ta,s(l,Ne(m.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(v.maxOverride,v.remainingPoints+m.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:v.updateFunction}),null,16,["max","onInput"])])}}},ae=$e(sa,[["__scopeId","data-v-c1799ab4"]]);const Me=v=>(ye("data-v-d18760ce"),v=v(),ke(),v),la={class:"flex flex-column h-full"},aa={class:"characteristic-panels flex pb-3"},ia={class:"flex flex-column flex-grow-1 mr-1"},na={class:"characteristics-category-header px-2 py-2"},oa=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ca={class:"flex flex-column px-2 py-1"},ra={class:"characteristics-category-header px-2 py-2"},ua=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),da={class:"flex flex-column px-2 py-1"},pa={class:"characteristics-category-header px-2 py-2"},ma=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ha={class:"flex flex-column px-2 py-1"},va={class:"flex flex-column flex-grow-1 ml-1"},ga={class:"characteristics-category-header px-2 py-2"},fa=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"flex flex-column px-2 py-1"},ba={class:"characteristics-category-header px-2 py-2"},$a=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ya={class:"flex flex-column px-2 py-1"},ka={__name:"CharacteristicsTabContent",setup(v,{expose:m}){const L=ge("masterData"),o=ge("currentCharacter"),l=b(!1),W=pe(()=>l.value?10:1);at(()=>{document.addEventListener("keydown",n=>{S(n)}),document.addEventListener("keyup",n=>{S(n)})});const S=n=>{n.shiftKey?l.value=!0:l.value=!1},T=b(o.value.characteristics.intelligence.percentHealthPoints),se=b(o.value.characteristics.intelligence.elementalResistance),Z=b(o.value.characteristics.intelligence.barrier),B=b(o.value.characteristics.intelligence.percentHealsReceived),z=b(o.value.characteristics.intelligence.percentArmorHeathPoints),w=b(o.value.characteristics.strength.elementalMastery),q=b(o.value.characteristics.strength.meleeMastery),O=b(o.value.characteristics.strength.distanceMastery),D=b(o.value.characteristics.strength.healthPoints),f=b(o.value.characteristics.agility.lock),N=b(o.value.characteristics.agility.dodge),Y=b(o.value.characteristics.agility.initiative),G=b(o.value.characteristics.agility.lockAndDodge),R=b(o.value.characteristics.agility.forceOfWill),_=b(o.value.characteristics.fortune.percentCriticalHit),U=b(o.value.characteristics.fortune.percentBlock),K=b(o.value.characteristics.fortune.criticalMastery),j=b(o.value.characteristics.fortune.rearMastery),y=b(o.value.characteristics.fortune.berserkMastery),C=b(o.value.characteristics.fortune.healingMastery),X=b(o.value.characteristics.fortune.rearResistance),le=b(o.value.characteristics.fortune.criticalResistance),M=b(o.value.characteristics.major.actionPoints),V=b(o.value.characteristics.major.movementPointsAndDamage),P=b(o.value.characteristics.major.rangeAndDamage),ie=b(o.value.characteristics.major.wakfuPoints),ue=b(o.value.characteristics.major.controlAndDamage),ve=b(o.value.characteristics.major.percentDamageInflicted),$=b(o.value.characteristics.major.elementalResistance),g=n=>{let i=0;return n==="intelligence"?i=T.value+se.value+Z.value+B.value+z.value:n==="strength"?i=w.value+q.value+O.value+D.value:n==="agility"?i=f.value+N.value+Y.value+G.value+R.value:n==="fortune"?i=_.value+U.value+K.value+j.value+y.value+C.value+X.value+le.value:n==="major"&&(i=M.value+V.value+P.value+ie.value+ue.value+ve.value+$.value),o.value.characteristics.limits[n]-i},F=()=>{o.value.characteristics.intelligence.percentHealthPoints=T.value,o.value.characteristics.intelligence.elementalResistance=se.value,o.value.characteristics.intelligence.barrier=Z.value,o.value.characteristics.intelligence.percentHealsReceived=B.value,o.value.characteristics.intelligence.percentArmorHeathPoints=z.value,o.value.characteristics.strength.elementalMastery=w.value,o.value.characteristics.strength.meleeMastery=q.value,o.value.characteristics.strength.distanceMastery=O.value,o.value.characteristics.strength.healthPoints=D.value,o.value.characteristics.agility.lock=f.value,o.value.characteristics.agility.dodge=N.value,o.value.characteristics.agility.initiative=Y.value,o.value.characteristics.agility.lockAndDodge=G.value,o.value.characteristics.agility.forceOfWill=R.value,o.value.characteristics.fortune.percentCriticalHit=_.value,o.value.characteristics.fortune.percentBlock=U.value,o.value.characteristics.fortune.criticalMastery=K.value,o.value.characteristics.fortune.rearMastery=j.value,o.value.characteristics.fortune.berserkMastery=y.value,o.value.characteristics.fortune.healingMastery=C.value,o.value.characteristics.fortune.rearResistance=X.value,o.value.characteristics.fortune.criticalResistance=le.value,o.value.characteristics.major.actionPoints=M.value,o.value.characteristics.major.movementPointsAndDamage=V.value,o.value.characteristics.major.rangeAndDamage=P.value,o.value.characteristics.major.wakfuPoints=ie.value,o.value.characteristics.major.controlAndDamage=ue.value,o.value.characteristics.major.percentDamageInflicted=ve.value,o.value.characteristics.major.elementalResistance=$.value};Te(L,Xe.debounce(()=>{T.value=o.value.characteristics.intelligence.percentHealthPoints,se.value=o.value.characteristics.intelligence.elementalResistance,Z.value=o.value.characteristics.intelligence.barrier,B.value=o.value.characteristics.intelligence.percentHealsReceived,z.value=o.value.characteristics.intelligence.percentArmorHeathPoints,w.value=o.value.characteristics.strength.elementalMastery,q.value=o.value.characteristics.strength.meleeMastery,O.value=o.value.characteristics.strength.distanceMastery,D.value=o.value.characteristics.strength.healthPoints,f.value=o.value.characteristics.agility.lock,N.value=o.value.characteristics.agility.dodge,Y.value=o.value.characteristics.agility.initiative,G.value=o.value.characteristics.agility.lockAndDodge,R.value=o.value.characteristics.agility.forceOfWill,_.value=o.value.characteristics.fortune.percentCriticalHit,U.value=o.value.characteristics.fortune.percentBlock,K.value=o.value.characteristics.fortune.criticalMastery,j.value=o.value.characteristics.fortune.rearMastery,y.value=o.value.characteristics.fortune.berserkMastery,C.value=o.value.characteristics.fortune.healingMastery,X.value=o.value.characteristics.fortune.rearResistance,le.value=o.value.characteristics.fortune.criticalResistance,M.value=o.value.characteristics.major.actionPoints,V.value=o.value.characteristics.major.movementPointsAndDamage,P.value=o.value.characteristics.major.rangeAndDamage,ie.value=o.value.characteristics.major.wakfuPoints,ue.value=o.value.characteristics.major.controlAndDamage,ve.value=o.value.characteristics.major.percentDamageInflicted,$.value=o.value.characteristics.major.elementalResistance},100));const qe=pe(()=>g("intelligence")<0||g("strength")<0||g("agility")<0||g("fortune")<0||g("major")<0);return m({hasCharacteristicsError:qe}),(n,i)=>{var I,d,k,ce,fe,_e,we,Ee,Ce,Ve,r,A,h,de,Ie;return c(),u("div",la,[e("div",aa,[e("div",ia,[e("div",{class:ne(["category-wrapper flex flex-column",{error:g("intelligence")<0}])},[e("div",na,[e("span",null,t(n.$t("characterSheet.characteristicsContent.intelligence")),1),oa,e("span",null,t(g("intelligence"))+"/"+t((k=(d=(I=a(o))==null?void 0:I.characteristics)==null?void 0:d.limits)==null?void 0:k.intelligence)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ca,[s(ae,{modelValue:T.value,"onUpdate:modelValue":i[0]||(i[0]=x=>T.value=x),label:n.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":g("intelligence"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:se.value,"onUpdate:modelValue":i[1]||(i[1]=x=>se.value=x),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":g("intelligence"),"update-function":F,"max-override":10,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:Z.value,"onUpdate:modelValue":i[2]||(i[2]=x=>Z.value=x),label:n.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":g("intelligence"),"update-function":F,"max-override":10,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:B.value,"onUpdate:modelValue":i[3]||(i[3]=x=>B.value=x),label:n.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":g("intelligence"),"update-function":F,"max-override":5,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:z.value,"onUpdate:modelValue":i[4]||(i[4]=x=>z.value=x),label:n.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":g("intelligence"),"update-function":F,"max-override":10,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:g("strength")<0}])},[e("div",ra,[e("span",null,t(n.$t("characterSheet.characteristicsContent.strength")),1),ua,e("span",null,t(g("strength"))+"/"+t((_e=(fe=(ce=a(o))==null?void 0:ce.characteristics)==null?void 0:fe.limits)==null?void 0:_e.strength)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",da,[s(ae,{modelValue:w.value,"onUpdate:modelValue":i[5]||(i[5]=x=>w.value=x),label:n.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":g("strength"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:q.value,"onUpdate:modelValue":i[6]||(i[6]=x=>q.value=x),label:n.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":g("strength"),"update-function":F,"max-override":40,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:O.value,"onUpdate:modelValue":i[7]||(i[7]=x=>O.value=x),label:n.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":g("strength"),"update-function":F,"max-override":40,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:D.value,"onUpdate:modelValue":i[8]||(i[8]=x=>D.value=x),label:n.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":g("strength"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:g("agility")<0}])},[e("div",pa,[e("span",null,t(n.$t("characterSheet.characteristicsContent.agility")),1),ma,e("span",null,t(g("agility"))+"/"+t((Ce=(Ee=(we=a(o))==null?void 0:we.characteristics)==null?void 0:Ee.limits)==null?void 0:Ce.agility)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ha,[s(ae,{modelValue:f.value,"onUpdate:modelValue":i[9]||(i[9]=x=>f.value=x),label:n.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":g("agility"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:N.value,"onUpdate:modelValue":i[10]||(i[10]=x=>N.value=x),label:n.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":g("agility"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:Y.value,"onUpdate:modelValue":i[11]||(i[11]=x=>Y.value=x),label:n.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":g("agility"),"update-function":F,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:G.value,"onUpdate:modelValue":i[12]||(i[12]=x=>G.value=x),label:n.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":g("agility"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:R.value,"onUpdate:modelValue":i[13]||(i[13]=x=>R.value=x),label:n.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":g("agility"),"update-function":F,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",va,[e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1",{error:g("fortune")<0}])},[e("div",ga,[e("span",null,t(n.$t("characterSheet.characteristicsContent.fortune")),1),fa,e("span",null,t(g("fortune"))+"/"+t((A=(r=(Ve=a(o))==null?void 0:Ve.characteristics)==null?void 0:r.limits)==null?void 0:A.fortune)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",_a,[s(ae,{modelValue:_.value,"onUpdate:modelValue":i[14]||(i[14]=x=>_.value=x),label:n.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":g("fortune"),"update-function":F,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:U.value,"onUpdate:modelValue":i[15]||(i[15]=x=>U.value=x),label:n.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":g("fortune"),"update-function":F,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:K.value,"onUpdate:modelValue":i[16]||(i[16]=x=>K.value=x),label:n.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":g("fortune"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:j.value,"onUpdate:modelValue":i[17]||(i[17]=x=>j.value=x),label:n.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":g("fortune"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:y.value,"onUpdate:modelValue":i[18]||(i[18]=x=>y.value=x),label:n.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":g("fortune"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:C.value,"onUpdate:modelValue":i[19]||(i[19]=x=>C.value=x),label:n.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":g("fortune"),"update-function":F,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:X.value,"onUpdate:modelValue":i[20]||(i[20]=x=>X.value=x),label:n.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":g("fortune"),"update-function":F,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:le.value,"onUpdate:modelValue":i[21]||(i[21]=x=>le.value=x),label:n.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":g("fortune"),"update-function":F,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:g("major")<0}])},[e("div",ba,[e("span",null,t(n.$t("characterSheet.characteristicsContent.major")),1),$a,e("span",null,t(g("major"))+"/"+t((Ie=(de=(h=a(o))==null?void 0:h.characteristics)==null?void 0:de.limits)==null?void 0:Ie.major)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ya,[s(ae,{modelValue:M.value,"onUpdate:modelValue":i[22]||(i[22]=x=>M.value=x),label:n.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:V.value,"onUpdate:modelValue":i[23]||(i[23]=x=>V.value=x),label:n.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:P.value,"onUpdate:modelValue":i[24]||(i[24]=x=>P.value=x),label:n.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ie.value,"onUpdate:modelValue":i[25]||(i[25]=x=>ie.value=x),label:n.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ue.value,"onUpdate:modelValue":i[26]||(i[26]=x=>ue.value=x),label:n.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ve.value,"onUpdate:modelValue":i[27]||(i[27]=x=>ve.value=x),label:n.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:$.value,"onUpdate:modelValue":i[28]||(i[28]=x=>$.value=x),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":g("major"),"update-function":F,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},Sa=$e(ka,[["__scopeId","data-v-d18760ce"]]);const tt=v=>(ye("data-v-f117c1a1"),v=v(),ke(),v),xa={class:"flex align-items-center flex-wrap mt-3"},wa={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},Ca={class:"checkmarks-container flex gap-2"},Va={class:"rarity-container mt-2"},Aa={class:"flex align-items-center mb-1"},Wa=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),qa={class:"simple-tooltip"},Ea={class:"mr-2 ml-1"},Ia={class:"rarity-button-wrapper"},Pa={class:"flex justify-content-center align-items-center"},Ta={class:"simple-tooltip"},Da={class:"item-types-container mt-2"},Ma={class:"flex align-items-center justify-content-center mb-1 w-full"},Ra=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),La={class:"simple-tooltip"},Ua={class:"mr-2 ml-1"},Fa={class:"simple-tooltip"},Oa={class:"item-types-button-wrapper"},Na={class:"filter-category-wrapper"},ja={class:"flex justify-content-center align-items-center"},Ha={class:"simple-tooltip"},Ba={class:"filter-category-wrapper"},za={class:"flex justify-content-center align-items-center"},Ga={class:"simple-tooltip"},Ya={class:"filter-category-wrapper"},Ja={class:"flex justify-content-center align-items-center"},Qa={class:"simple-tooltip"},Xa={class:"filter-list-wrapper mt-3"},Za={class:"px-2 py-1"},Ka={class:"px-2 py-1"},ei={__name:"ItemFilters",setup(v){const m=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],o=[H.healthPoints.id,H.healingMastery.id,H.actionPoints.id,H.movementPoints.id,H.rearResistance.id,H.elementalResistance.id,H.fireResistance.id,H.waterResistance.id,H.earthResistance.id,H.airResistance.id,H.elementalMastery.id,H.fireMastery.id,H.earthMastery.id,H.waterMastery.id,H.airMastery.id,H.criticalMastery.id,H.criticalHit.id,H.range.id,H.prospecting.id,H.wisdom.id,H.initiative.id,H.lock.id,H.dodge.id,H.forceOfWill.id,H.rearMastery.id,H.control.id,H.wakfuPoints.id,H.percentBlock.id,H.criticalResistance.id,H.meleeMastery.id,H.distanceMastery.id,H.berserkMastery.id,H.randomElementalMasteries.id,H.randomElementalResistances.id,H.harvestingQuantity.id].map(y=>({value:y,text:H[y].text})),l=ge("itemFilters"),W=b(""),S=b([l.startLevel,l.endLevel]),T=b([]),se=b(l.rarityFilters),Z=b(l.itemTypeFilters),B=b(!1),z=()=>{f()},w=(y,C)=>{C==="min"&&(S.value[0]=y.value),C==="max"&&(S.value[1]=y.value),f()},q=()=>{f()},O=(y,C)=>{y.ctrlKey&&l.itemTypeFilters.forEach(X=>{X.id!==C?X.checked=!1:X.checked=!0}),f()},D=(y,C)=>{y.ctrlKey&&l.rarityFilters.forEach(X=>{X.id!==C?X.checked=!1:X.checked=!0}),f()},f=Xe.debounce(y=>{var C;l.searchTerm=W.value,l.startLevel=S.value[0],l.endLevel=S.value[1],l.effectFilters=T.value,l.rarityFilters=se.value,y&&((C=y.rawIds)!=null&&C.length)?N(y):l.itemTypeFilters=Z.value},100),N=y=>{y.rawIds.forEach(C=>{let X=Z.value.find(le=>le.rawId===C);X.checked=y.checked})},Y=()=>{let y={type:o[0],comparator:m[2],value:0};T.value.push(y),f()},G=y=>{let C=T.value.indexOf(y);T.value.splice(C,1),f()},R=()=>{l.resetFilters(),W.value=l.searchTerm,S.value[0]=l.startLevel,S.value[1]=l.endLevel,T.value=l.effectFilters,se.value=l.rarityFilters,Z.value=l.itemTypeFilters},_=()=>{l.rarityFilters.forEach(y=>{y.checked=!0}),f()},U=()=>{l.rarityFilters.forEach(y=>{y.checked=!1}),f()},K=()=>{l.itemTypeFilters.forEach(y=>{y.checked=!0}),f()},j=()=>{l.itemTypeFilters.forEach(y=>{y.checked=!1}),f()};return(y,C)=>{const X=E("p-inputText"),le=E("p-inputNumber"),M=E("p-slider"),V=E("p-button"),P=E("tippy"),ie=E("p-image"),ue=E("p-checkbox"),ve=E("p-dropdown");return c(),u(J,null,[e("div",xa,[s(X,{modelValue:W.value,"onUpdate:modelValue":C[0]||(C[0]=$=>W.value=$),placeholder:y.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:z},null,8,["modelValue","placeholder"]),e("div",wa,[s(le,{modelValue:S.value[0],"onUpdate:modelValue":C[1]||(C[1]=$=>S.value[0]=$),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:C[2]||(C[2]=$=>w($,"min"))},null,8,["modelValue"]),s(M,{modelValue:S.value,"onUpdate:modelValue":C[3]||(C[3]=$=>S.value=$),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:q},null,8,["modelValue"]),s(le,{modelValue:S.value[1],"onUpdate:modelValue":C[4]||(C[4]=$=>S.value[1]=$),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:C[5]||(C[5]=$=>w($,"max"))},null,8,["modelValue"])]),s(V,{class:"filter-button",label:y.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:R},null,8,["label"])]),e("div",Ca,[e("div",Va,[e("div",Aa,[s(V,{class:"filter-button item-filter-action mr-2",label:y.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:_},null,8,["label"]),s(P,{placement:"top"},{content:p(()=>[e("div",qa,t(y.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Wa]),_:1}),e("div",Ea,t(y.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(V,{class:"filter-button item-filter-action",label:y.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:U},null,8,["label"])]),e("div",Ia,[(c(!0),u(J,null,oe(se.value,$=>(c(),re(P,{key:$.id,duration:"0"},{content:p(()=>[e("div",Ta,t(y.$t($.name)),1)]),default:p(()=>[s(ue,{modelValue:$.checked,"onUpdate:modelValue":g=>$.checked=g,binary:!0,class:"rarity-checkbox",onChange:g=>D(g,$.id)},{icon:p(g=>[e("div",Pa,[s(ie,{class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${$.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Da,[e("div",Ma,[s(V,{class:"filter-button item-filter-action mr-2",label:y.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),s(P,{placement:"top"},{content:p(()=>[e("div",La,t(y.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Ra]),_:1}),e("div",Ua,t(y.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(P,null,{content:p(()=>[e("div",Fa,t(y.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:p(()=>[s(ue,{modelValue:B.value,"onUpdate:modelValue":C[6]||(C[6]=$=>B.value=$),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(V,{class:"filter-button item-filter-action",label:y.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:j},null,8,["label"])]),e("div",Oa,[e("div",Na,[(c(!0),u(J,null,oe(Z.value.filter($=>$.category==="armor"),$=>(c(),u(J,{key:$.id},[!$.advanced||B.value?(c(),re(P,{key:0,duration:"0"},{content:p(()=>[e("div",Ha,t(y.$t($.name)),1)]),default:p(()=>[s(ue,{modelValue:$.checked,"onUpdate:modelValue":g=>$.checked=g,binary:!0,class:"item-type-checkbox",onChange:g=>O(g,$.id)},{icon:p(g=>[e("div",ja,[$.rawId?(c(),re(ie,{key:0,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):te("",!0)],64))),128))]),e("div",Ba,[(c(!0),u(J,null,oe(Z.value.filter($=>$.category==="weapons"),$=>(c(),u(J,{key:$.id},[!$.advanced||B.value?(c(),re(P,{key:0,duration:"0"},{content:p(()=>[e("div",Ga,t(y.$t($.name)),1)]),default:p(()=>[s(ue,{modelValue:$.checked,"onUpdate:modelValue":g=>$.checked=g,binary:!0,class:"item-type-checkbox",onChange:g=>a(f)($)},{icon:p(g=>[e("div",za,[$.rawId?(c(),re(ie,{key:0,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):te("",!0)],64))),128))]),e("div",Ya,[(c(!0),u(J,null,oe(Z.value.filter($=>$.category==="miscellaneous"),$=>(c(),u(J,{key:$.id},[!$.advanced||B.value?(c(),re(P,{key:0,duration:"0"},{content:p(()=>[e("div",Qa,t(y.$t($.name)),1)]),default:p(()=>[s(ue,{modelValue:$.checked,"onUpdate:modelValue":g=>$.checked=g,binary:!0,class:"item-type-checkbox",onChange:a(f)},{icon:p(g=>[e("div",Ja,[$.rawId?(c(),re(ie,{key:0,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):te("",!0)],64))),128))])])])]),e("div",Xa,[s(V,{icon:"pi pi-plus",class:"filter-button",label:y.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:Y},null,8,["label"]),(c(!0),u(J,null,oe(T.value,$=>(c(),u("div",{key:$.id,class:"filter-entry"},[s(ve,{modelValue:$.type,"onUpdate:modelValue":g=>$.type=g,class:"filter-type-dropdown",options:a(o),filter:"","auto-filter-focus":"","option-label":"text",onChange:a(f)},{value:p(g=>[he(t(y.$t(g.value.text)),1)]),option:p(g=>[e("div",Za,t(y.$t(g.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(ve,{modelValue:$.comparator,"onUpdate:modelValue":g=>$.comparator=g,class:"filter-comparator-dropdown",options:m,"option-label":"text",onChange:a(f)},{value:p(g=>[he(t(g.value.symbol),1)]),option:p(g=>[e("div",Ka,t(y.$t(g.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(le,{modelValue:$.value,"onUpdate:modelValue":g=>$.value=g,class:"filter-value-input","allow-empty":!1,onInput:a(f)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(V,{class:"remove-filter-button",icon:"pi pi-trash",onClick:g=>G($)},null,8,["onClick"])]))),128))])],64)}}},ti=$e(ei,[["__scopeId","data-v-f117c1a1"]]);const Ye=v=>(ye("data-v-fc9729a1"),v=v(),ke(),v),si={class:"item-card"},li={key:0,class:"slot-label text-center pt-1 pb-1"},ai={class:"flex px-2 pt-2"},ii={class:"flex flex-column ml-1"},ni={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},oi={class:"flex"},ci={key:0},ri={key:1},ui={key:2,class:"ml-1"},di=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),pi={class:"flex flex-column"},mi=Ye(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),hi={key:0,class:"item-card-tooltip"},vi={key:0,class:"effect-header existing-item flex pt-2 px-1"},gi={class:"flex flex-column ml-1"},fi={class:"item-name mr-2"},_i={class:"flex"},bi={key:0},$i={key:1},yi={key:2,class:"ml-1"},ki=Ye(()=>e("div",{class:"ml-1"},"(equipped)",-1)),Si={class:"effect-header flex pt-2 px-1"},xi={class:"flex flex-column ml-1"},wi={class:"item-name mr-2"},Ci={class:"flex"},Vi={key:0},Ai={key:1},Wi={key:2,class:"ml-1"},qi={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},setup(v){let m=v,L=document;const o=ze(),l=ge("currentCharacter"),{getItemEncyclopediaUrl:W}=Ke(),{equipItem:S}=je(l),T=pe(()=>{var w,q;let z=m.item.type.validSlots[0];return((w=l.value.equipment[z])==null?void 0:w.id)!==((q=m.item)==null?void 0:q.id)?l.value.equipment[z]:null}),se=(B,z)=>{S(B,z,o)},Z=B=>{let z=W(B);window.open(z,"_blank")};return(B,z)=>{const w=E("p-image"),q=E("p-button"),O=E("tippy");return c(),re(De,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(L).body,sticky:v.sticky,"max-width":500},{trigger:p(()=>[e("div",si,[v.withSlotLabel?(c(),u("div",li,t(v.item.type.validSlots[0]==="LEFT_HAND"?"Ring":B.$t(a(ee)[v.item.type.validSlots[0]].name))+" Slot ",1)):te("",!0),e("div",ai,[s(w,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ii,[e("div",ni,t(B.$t(`items.${v.item.id}`)),1),e("div",oi,[s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(v.item.type.id)?(c(),u("div",ci,"Item Level: "+t(v.item.id===12237?"25":"50"),1)):(c(),u("div",ri,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",ui,t(v.item.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0)])]),di,e("div",pi,[s(q,{icon:"pi pi-plus",class:"action-button mb-1",onClick:z[0]||(z[0]=D=>se(v.item,D))}),s(O,{placement:"left"},{content:p(()=>[mi]),default:p(()=>[s(q,{icon:"pi pi-question-circle",class:"action-button",onClick:z[1]||(z[1]=D=>Z(v.item))})]),_:1})])])])]),content:p(()=>[v.item?(c(),u("div",hi,[T.value&&v.withComparisons?(c(),u("div",vi,[s(w,{src:`https://tmktahu.github.io/WakfuAssets/items/${T.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",gi,[e("div",fi,t(B.$t(`items.${T.value.id}`)),1),e("div",_i,[s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${T.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${T.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(T.value.type.id)?(c(),u("div",bi,"Item Level: "+t(T.value.id===12237?"25":"50"),1)):(c(),u("div",$i,"Lvl: "+t(T.value.level),1)),T.value.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",yi,t(T.value.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0),ki])])])):te("",!0),s(We,{item:v.item,"with-comparisons":v.withComparisons,"with-totals":v.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",Si,[s(w,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",xi,[e("div",wi,t(B.$t(`items.${v.item.id}`)),1),e("div",Ci,[s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(v.item.type.id)?(c(),u("div",Vi,"Item Level: "+t(v.item.id===12237?"25":"50"),1)):(c(),u("div",Ai,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",Wi,t(v.item.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0)])])])])):te("",!0)]),_:1},8,["append-to","sticky"])}}},st=$e(qi,[["__scopeId","data-v-fc9729a1"]]),Ei={class:"flex align-items-center"},Ii={class:"mx-2"},Pi=e("i",{class:"mdi mdi-information-outline"},null,-1),Ti={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(m,L)=>{const o=E("p-checkbox"),l=E("tippy");return c(),u("div",Ei,[s(o,Ne(m.$attrs,{binary:!0}),null,16),e("div",Ii,t(v.label),1),v.tooltipText?(c(),re(l,{key:0,placement:"left",duration:"0"},{content:p(()=>[e("div",Ti,t(v.tooltipText),1)]),default:p(()=>[Pi]),_:1})):te("",!0)])}}};const lt=v=>(ye("data-v-343c9a4a"),v=v(),ke(),v),Di={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Mi={class:"flex align-items-center"},Ri={class:"px-2 py-1"},Li={class:"px-2 py-1"},Ui=lt(()=>e("div",{class:"flex-grow-1"},null,-1)),Fi={class:"ml-2"},Oi={class:"flex align-items-center gap-4 mt-2"},Ni={key:0,class:"flex"},ji={key:0,class:"item-card with-stats"},Hi={class:"flex px-2 pt-2"},Bi={class:"flex flex-column ml-1"},zi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Gi={class:"flex"},Yi={key:0},Ji={key:1},Qi={key:2,class:"ml-1"},Xi=lt(()=>e("div",{class:"flex-grow-1"},null,-1)),Zi={class:"flex flex-column gap-1"},Ki={key:1},en={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},tn={class:"text-center mt-2"},sn={class:"flex justify-content-center"},ln={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},an={__name:"EquipmentTabContent",setup(v,{expose:m}){const L=ze(),{t:o}=Ge(),l=ge("currentCharacter"),W=ge("currentItemList"),S=ge("itemListLoading"),T=ge("itemFilters"),se=b(null),Z=b(4),{getNumTotalItems:B}=je(),{getItemEncyclopediaUrl:z}=Ke(),w=()=>{Z.value=Math.floor((se.value.clientWidth-16)/(D.value?310+5:230+5))};window.addEventListener("resize",w);let q=pe(()=>{let _=[],U=[];return W.value.forEach(K=>{U.length===Z.value?(_.push(U),U=[K]):U.push(K)}),U.length>0&&_.push(U),_.length===0&&_.push([]),_});const O=b(!1),D=b(!1),f=b(!1),N=b(!1),Y=()=>{O.value=!0,Pe(()=>{w()})};Te(D,()=>{Pe(()=>{O.value=!1,Pe(()=>{O.value=!0,Pe(()=>{w()})})})});const G=(_,U)=>{let K=_.type.validSlots.includes(ee.LEFT_HAND.id)||_.type.validSlots.includes(ee.RIGHT_HAND.id),j=_.type.disabledSlots.includes(ee.SECOND_WEAPON.id)&&l.value.equipment[ee.SECOND_WEAPON.id]!==null,y=_.type.validSlots[0]===ee.SECOND_WEAPON.id&&l.value.equipment[ee.FIRST_WEAPON.id]!==null&&l.value.equipment[ee.FIRST_WEAPON.id].type.disabledSlots.includes(ee.SECOND_WEAPON.id),C=!1,X=null,le=!1,M=null;Object.keys(l.value.equipment).forEach(ie=>{_.rarity===5&&l.value.equipment[ie]!==null&&l.value.equipment[ie].rarity===5&&(C=!0,X=ie),_.rarity===7&&l.value.equipment[ie]!==null&&l.value.equipment[ie].rarity===7&&(le=!0,M=ie)});let V=null;C&&(V=o("characterSheet.equipmentContent.hasRelicWarning")),le&&(V=o("characterSheet.equipmentContent.hasEpicWarning")),j&&(V=o("characterSheet.equipmentContent.twoHandedWeaponWarning")),y&&(V=o("characterSheet.equipmentContent.secondWeaponWarning")),C&&j&&(V=o("characterSheet.equipmentContent.relicAndTwoHandedWarning")),C&&y&&(V=o("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),le&&j&&(V=o("characterSheet.equipmentContent.epicAndTwoHandedWarning")),le&&y&&(V=o("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),j||y||C||le?L.require({group:"popup",target:U.currentTarget,message:V,accept:()=>{K&&(l.value.equipment[ee.LEFT_HAND.id]===null?l.value.equipment[ee.LEFT_HAND.id]=_:l.value.equipment[ee.RIGHT_HAND.id]=_),j&&(l.value.equipment[ee.FIRST_WEAPON.id]=_,l.value.equipment[ee.SECOND_WEAPON.id]=null),y&&(l.value.equipment[ee.FIRST_WEAPON.id]=null,l.value.equipment[ee.SECOND_WEAPON.id]=_),C&&(l.value.equipment[X]=null,l.value.equipment[_.type.validSlots[0]]=_),le&&(l.value.equipment[M]=null,l.value.equipment[_.type.validSlots[0]]=_)}}):K?l.value.equipment[ee.LEFT_HAND.id]===null?l.value.equipment[ee.LEFT_HAND.id]=_:l.value.equipment[ee.RIGHT_HAND.id]=_:_.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",_.type):l.value.equipment[_.type.validSlots[0]]=_},R=_=>{let U=z(_);window.open(U,"_blank")};return m({showList:Y}),(_,U)=>{const K=E("p-divider"),j=E("p-dropdown"),y=E("p-image"),C=E("p-button"),X=E("p-virtualScroller"),le=E("p-progressSpinner");return c(),u("div",Di,[s(et,{character:a(l),"with-totals":f.value},null,8,["character","with-totals"]),s(ti),s(K,{class:"mt-3 mb-2"}),e("div",Mi,[e("div",null,t(_.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(j,{modelValue:a(T).sortBy,"onUpdate:modelValue":U[0]||(U[0]=M=>a(T).sortBy=M),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:a(it)},{value:p(M=>[he(t(_.$t(M.value.label)),1)]),option:p(M=>[e("div",Ri,t(_.$t(M.option.label)),1)]),_:1},8,["modelValue","options"]),s(j,{modelValue:a(T).sortOrder,"onUpdate:modelValue":U[1]||(U[1]=M=>a(T).sortOrder=M),class:"sort-dropdown ml-2","option-label":"label",options:a(nt)},{value:p(M=>[he(t(_.$t(M.value.label)),1)]),option:p(M=>[e("div",Li,t(_.$t(M.option.label)),1)]),_:1},8,["modelValue","options"]),Ui,e("div",Fi,t(a(W).length)+" "+t(_.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(B)())+" "+t(_.$t("characterSheet.equipmentContent.itemsTotal")),1)]),e("div",Oi,[s(be,{modelValue:D.value,"onUpdate:modelValue":U[2]||(U[2]=M=>D.value=M),label:_.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(be,{modelValue:f.value,"onUpdate:modelValue":U[3]||(U[3]=M=>f.value=M),label:_.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:N.value,"onUpdate:modelValue":U[4]||(U[4]=M=>N.value=M),label:_.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),O.value&&!a(S)?(c(),u("div",{key:0,ref_key:"itemResultsWrapper",ref:se,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(X,{items:a(q),"item-size":[D.value?215:65,D.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:p(({item:M})=>[a(q)[0].length>0?(c(),u("div",Ni,[(c(!0),u(J,null,oe(M,(V,P)=>(c(),u(J,{key:P},[D.value&&V?(c(),u("div",ji,[e("div",Hi,[s(y,{src:`https://tmktahu.github.io/WakfuAssets/items/${V.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Bi,[e("div",zi,t(_.$t(`items.${V.id}`)),1),e("div",Gi,[s(y,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${V.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(y,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${V.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(V.type.id)?(c(),u("div",Yi,t(_.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(V.id===12237?"25":"50"),1)):(c(),u("div",Ji,"Lvl: "+t(V.level),1)),V.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",Qi,t(V.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0)])]),Xi,e("div",Zi,[s(C,{icon:"pi pi-plus",class:"equip-button",onClick:ie=>G(V,ie)},null,8,["onClick"]),s(C,{icon:"pi pi-question-circle",class:"equip-button",onClick:ie=>R(V)},null,8,["onClick"])])]),s(We,{"card-mode":"",item:V,"with-totals":f.value,"with-comparisons":N.value},null,8,["item","with-totals","with-comparisons"])])):(c(),re(st,{key:1,item:V,"with-totals":f.value,"with-comparisons":N.value},null,8,["item","with-totals","with-comparisons"]))],64))),128))])):(c(),u("div",Ki,t(_.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(c(),u("div",en,[e("div",tn,t(_.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",sn,[e("div",ln,[s(le,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(le,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},nn=$e(an,[["__scopeId","data-v-343c9a4a"]]);const Se=v=>(ye("data-v-22a133ae"),v=v(),ke(),v),on={class:"w-full h-full"},cn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),rn={class:"simple-tooltip"},un={class:"flex mt-2"},dn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},pn={class:"disabled-mask"},mn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),hn={key:1,class:"spell-button disabled"},vn={class:"disabled-mask"},gn={class:"mt-3"},fn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),_n={class:"simple-tooltip"},bn={class:"flex mt-2"},$n={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},yn={key:0},kn=["onClick"],Sn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),xn={class:"spell-tooltip"},wn={class:"spell-name px-2 py-1"},Cn={class:"spell-description px-2 py-1"},Vn=["innerHTML"],An={key:0,class:"spell-unlock-number"},Wn={class:"flex flex-wrap gap-1"},qn=["onClick"],En=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),In=Se(()=>e("div",{class:"disabled-mask"},null,-1)),Pn={key:0,class:"spell-unlock-number"},Tn={class:"spell-tooltip"},Dn={class:"spell-name px-2 py-1"},Mn={class:"spell-description px-2 py-1"},Rn=["innerHTML"],Ln={class:"flex flex-wrap gap-1"},Un=["onClick"],Fn=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),On=Se(()=>e("div",{class:"disabled-mask"},null,-1)),Nn={key:0,class:"spell-unlock-number"},jn={class:"spell-tooltip"},Hn={class:"spell-name px-2 py-1"},Bn={class:"spell-description px-2 py-1"},zn=["innerHTML"],Gn={__name:"SpellTabContent",setup(v){const m=ge("currentCharacter"),{getClassPassiveSpells:L,getSpellHtml:o,getSpellLevel:l}=ot(m),W=pe(()=>L(m.value.class).sort((O,D)=>{let f=Ae[O.id],N=Ae[D.id];return f-N})),S=pe(()=>L("all").sort((O,D)=>{let f=Ae[O.id],N=Ae[D.id];return f-N})),T=w=>{w.category===He.passive&&(Object.keys(m.value.spells).forEach(q=>{var O;q.includes(He.passive)&&((O=m.value.spells[q])==null?void 0:O.id)===w.id&&(m.value.spells[q]=null)}),Object.keys(m.value.spells).some(q=>{if(q.includes(He.passive)&&z(parseInt(q.replace("passiveSlot","")))&&m.value.spells[q]===null)return m.value.spells[q]=w,!0}))},se=w=>{m.value.spells[w]=null},Z=w=>{let q=!1;return Object.keys(m.value.spells).forEach(O=>{var D;((D=m.value.spells[O])==null?void 0:D.id)===w.id&&(q=!0)}),q},B=w=>{let q=Ae[w.id];return m.value.level>=q},z=w=>{let q=Je[w-1];return m.value.level>=q};return(w,q)=>{const O=E("tippy"),D=E("p-image");return c(),u("div",on,[e("div",null,[s(O,{placement:"left"},{content:p(()=>[e("div",rn,t(w.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:p(()=>[cn]),_:1}),he(" "+t(w.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",un,[e("div",dn,[(c(),u(J,null,oe(12,f=>(c(),u(J,{key:f},[a(m).spells["activeSlot"+f]!==null?(c(),u("div",{key:0,class:"spell-button disabled",onClick:q[0]||(q[0]=N=>se(w.spell))},[e("div",pn,t(),1),mn,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(m).spells["activeSlot"+f].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),u("div",hn,[s(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",vn,t(),1)]))],64))),64))])]),e("div",gn,[s(O,{placement:"left"},{content:p(()=>[e("div",_n,t(w.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:p(()=>[fn]),_:1}),he(" "+t(w.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",bn,[e("div",$n,[(c(),u(J,null,oe(6,f=>(c(),u(J,{key:f},[a(m).spells["passiveSlot"+f]!==null?(c(),u("div",yn,[s(O,{duration:"0"},{content:p(()=>[e("div",xn,[e("div",wn,t(a(m).spells["passiveSlot"+f].name)+" (Level "+t(a(l)(a(m).spells["passiveSlot"+f]))+") ",1),e("div",Cn,t(a(m).spells["passiveSlot"+f].description),1),e("div",{class:"spell-details",innerHTML:a(o)(a(m).spells["passiveSlot"+f])},null,8,Vn)])]),default:p(()=>[e("div",{class:"spell-button",onClick:N=>se("passiveSlot"+f)},[Sn,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(m).spells["passiveSlot"+f].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,kn)]),_:2},1024)])):(c(),u("div",{key:1,class:ne(["spell-slot",{disabled:!z(f)}])},[s(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),z(f)?te("",!0):(c(),u("div",An,t(a(Je)[f-1]),1))],2))],64))),64))]),e("div",Wn,[(c(!0),u(J,null,oe(W.value,f=>(c(),re(O,{key:f.id,duration:"0"},{content:p(()=>[e("div",Tn,[e("div",Dn,t(f.name)+" (Level "+t(a(l)(f))+")",1),e("div",Mn,t(f.description),1),e("div",{class:"spell-details",innerHTML:a(o)(f)},null,8,Rn)])]),default:p(()=>[e("div",{class:ne(["spell-button",{disabled:Z(f)||!B(f)}]),onClick:N=>T(f)},[En,In,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${f.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),B(f)?te("",!0):(c(),u("div",Pn,t(a(Ae)[f.id]),1))],10,qn)]),_:2},1024))),128))]),e("div",Ln,[(c(!0),u(J,null,oe(S.value,f=>(c(),re(O,{key:f.id,duration:"0"},{content:p(()=>[e("div",jn,[e("div",Hn,t(f.name)+" (Level "+t(a(l)(f))+")",1),e("div",Bn,t(f.description),1),e("div",{class:"spell-details",innerHTML:a(o)(f)},null,8,zn)])]),default:p(()=>[e("div",{class:ne(["spell-button",{disabled:Z(f)||!B(f)}]),onClick:N=>T(f)},[Fn,On,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${f.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),B(f)?te("",!0):(c(),u("div",Nn,t(a(Ae)[f.id]),1))],10,Un)]),_:2},1024))),128))])])])}}},Yn=$e(Gn,[["__scopeId","data-v-22a133ae"]]),Jn={class:"flex align-items-center"},Qn={class:"mx-2"},Xn=e("i",{class:"mdi mdi-information-outline"},null,-1),Zn={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(m,L)=>{const o=E("p-inputNumber"),l=E("tippy");return c(),u("div",Jn,[s(o,Ne(m.$attrs,{class:"number-input"}),null,16),e("div",Qn,t(v.label),1),s(l,{placement:"left",duration:"0"},{content:p(()=>[e("div",Zn,t(v.tooltipText),1)]),default:p(()=>[Xn]),_:1})])}}};const Re=v=>(ye("data-v-385dc262"),v=v(),ke(),v),Kn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},eo={class:"flex flex-column mt-4"},to={class:"flex"},so={class:"flex mt-3"},lo={class:"setting-group flex flex-column mr-3 gap-2"},ao={class:"mb-2"},io=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),no={class:"simple-tooltip"},oo={class:"setting-group flex flex-column mr-3"},co={class:"flex flex-column gap-2"},ro={class:"mb-2"},uo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),po={class:"simple-tooltip"},mo={class:"flex align-items-center"},ho={class:"mr-2"},vo={class:"px-2 py-1"},go={class:"flex align-items-center"},fo={class:"mr-2"},_o={class:"px-2 py-1"},bo={class:"flex align-items-center"},$o={class:"mr-2"},yo={class:"px-2 py-1"},ko={class:"flex align-items-center"},So={class:"mr-2"},xo={class:"px-2 py-1"},wo={class:"flex align-items-center"},Co={class:"mr-2"},Vo={class:"px-2 py-1"},Ao={class:"flex flex-column"},Wo={class:"rarity-container"},qo={class:"flex align-items-center mb-1"},Eo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Io={class:"simple-tooltip"},Po={class:"mr-2 ml-1"},To={class:"rarity-button-wrapper"},Do={class:"flex justify-content-center align-items-center"},Mo={class:"simple-tooltip"},Ro={class:"setting-group flex flex-column gap-2 mt-2"},Lo={class:"mb-2"},Uo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Fo={class:"simple-tooltip"},Oo={key:0,class:"warning-message mt-2 py-1 px-2"},No={class:"flex align-items-center mt-3"},jo=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),Ho=["innerHTML"],Bo={class:"flex align-items-center gap-4 mt-2"},zo={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},Go={key:0,class:"error-state px-3 py-3"},Yo={key:0,class:"mt-1"},Jo={key:1},Qo={class:"mt-3"},Xo={key:0,class:"mt-2"},Zo={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Ko={key:1},ec={class:"flex flex-wrap gap-1 mt-2"},tc={key:2,class:"loading-state px-3 py-3"},sc={class:"mt-2"},lc={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},ac={class:"text-center mt-2"},ic={class:"text-center mb-5 mt-2"},nc={class:"flex justify-content-center"},oc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},cc={__name:"ItemSolverTabContent",setup(v){const{t:m}=Ge(),L=ze(),o=ge("currentCharacter"),{equipItem:l}=je(o),{runCalculations:W,autoBuilderIsReady:S,itemSet:T,builderLoading:se,builderError:Z}=ct(),{createBuildCode:B}=Ze(),z=b(!1),w=b(!1),q=b(!1),O=pe(()=>{if(z.value)return T.value;{let d=Object.keys(o.value.equipment).map(k=>{if(o.value.equipment[k])return o.value.equipment[k].id}).filter(k=>k!==void 0);return T.value?T.value.filter(k=>!d.includes(k.id)):[]}}),D=b(o.value.actionPoints),f=b(o.value.movementPoints),N=b(o.value.stats.range),Y=b(o.value.wakfuPoints),G=b(!1),R=b(!1),_=b(!1),U=b(!1),K=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],j=[...K,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],y=b(K[0]),C=b(K[0]),X=b(K[0]),le=b(K[0]),M=b(K[0]),V=b(!0),P=b(rt.map(d=>({...d,checked:!0}))),ie=b(!0);Te(S,()=>{ie.value=!1});const ue=()=>{P.value.forEach(d=>{d.checked=!0})},ve=()=>{P.value.forEach(d=>{d.checked=!1})},$=pe(()=>S.value),g=pe(()=>B(o.value)),F=b(null);Te([D,f,N,Y],()=>{F.value=null,D.value-o.value.actionPoints>=6?F.value=m("characterSheet.itemSolverContent.apWarning"):N.value-o.value.stats.range>5?F.value=m("characterSheet.itemSolverContent.rangeImpossibleWarning"):o.value.level<35?N.value-o.value.stats.range>0&&(F.value=m("characterSheet.itemSolverContent.rangeForLevelWarning")):o.value.level<50?N.value-o.value.stats.range>1?F.value=m("characterSheet.itemSolverContent.rangeForLevelWarning"):D.value-o.value.actionPoints+f.value-o.value.movementPoints>4&&(F.value=m("characterSheet.itemSolverContent.combinedApMpWarning")):o.value.level<80&&N.value-o.value.stats.range>3&&(F.value=m("characterSheet.itemSolverContent.rangeForLevelWarning"))});const qe=async()=>{let d=P.value.filter(ce=>ce.checked).map(ce=>ce.id),k={buildCode:g.value,meleeMasteryPriority:y.value,distanceMasteryPriority:C.value,healingMasteryPriority:X.value,rearMasteryPriority:le.value,berserkMasteryPriority:M.value,fireMastery:G.value,earthMastery:R.value,waterMastery:_.value,airMastery:U.value,targetApAmount:D.value||0,targetMpAmount:f.value||0,targetRangeAmount:N.value||0,targetWpAmount:Y.value||0,selectedRarityIds:d,ignoreEquippedItems:!V.value};W(k)},n=d=>{L.require({group:"popup",target:d.currentTarget,message:m("confirms.willReplaceItems"),accept:()=>{T.value.forEach(k=>{l(k)})}})},i=(d,k)=>{d.ctrlKey&&P.value.forEach(ce=>{ce.id!==k?ce.checked=!1:ce.checked=!0})},I=()=>`<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>'s`;return(d,k)=>{var Ve,r,A;const ce=E("tippy"),fe=E("p-dropdown"),_e=E("p-button"),we=E("p-image"),Ee=E("p-checkbox"),Ce=E("p-progressSpinner");return c(),u("div",Kn,[s(et,{character:a(o)},null,8,["character"]),e("div",eo,[e("div",to,[s(be,{modelValue:V.value,"onUpdate:modelValue":k[0]||(k[0]=h=>V.value=h),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",so,[e("div",lo,[e("div",ao,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",no,t(d.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:p(()=>[io]),_:1}),he(" "+t(d.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ue,{modelValue:D.value,"onUpdate:modelValue":k[1]||(k[1]=h=>D.value=h),label:d.$t("constants.actionPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:f.value,"onUpdate:modelValue":k[2]||(k[2]=h=>f.value=h),label:d.$t("constants.movementPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:N.value,"onUpdate:modelValue":k[3]||(k[3]=h=>N.value=h),label:d.$t("constants.range"),"tooltip-text":d.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:Y.value,"onUpdate:modelValue":k[4]||(k[4]=h=>Y.value=h),label:d.$t("constants.wakfuPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",oo,[e("div",co,[e("div",ro,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",po,t(d.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:p(()=>[uo]),_:1}),he(" "+t(d.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",mo,[e("div",ho,t(d.$t("constants.meleeMastery")),1),s(fe,{modelValue:y.value,"onUpdate:modelValue":k[5]||(k[5]=h=>y.value=h),class:"condensed-dropdown","option-label":"label",options:K},{value:p(h=>[he(t(d.$t(h.value.label)),1)]),option:p(h=>[e("div",vo,t(d.$t(h.option.label)),1)]),_:1},8,["modelValue"])]),e("div",go,[e("div",fo,t(d.$t("constants.distanceMastery")),1),s(fe,{modelValue:C.value,"onUpdate:modelValue":k[6]||(k[6]=h=>C.value=h),class:"condensed-dropdown","option-label":"label",options:K},{value:p(h=>[he(t(d.$t(h.value.label)),1)]),option:p(h=>[e("div",_o,t(d.$t(h.option.label)),1)]),_:1},8,["modelValue"])]),e("div",bo,[e("div",$o,t(d.$t("constants.healingMastery")),1),s(fe,{modelValue:X.value,"onUpdate:modelValue":k[7]||(k[7]=h=>X.value=h),class:"condensed-dropdown","option-label":"label",options:K},{value:p(h=>[he(t(d.$t(h.value.label)),1)]),option:p(h=>[e("div",yo,t(d.$t(h.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ko,[e("div",So,t(d.$t("constants.rearMastery")),1),s(fe,{modelValue:le.value,"onUpdate:modelValue":k[8]||(k[8]=h=>le.value=h),class:"condensed-dropdown","option-label":"label",options:j},{value:p(h=>[he(t(d.$t(h.value.label)),1)]),option:p(h=>[e("div",xo,t(d.$t(h.option.label)),1)]),_:1},8,["modelValue"])]),e("div",wo,[e("div",Co,t(d.$t("constants.berserkMastery")),1),s(fe,{modelValue:M.value,"onUpdate:modelValue":k[9]||(k[9]=h=>M.value=h),class:"condensed-dropdown","option-label":"label",options:j},{value:p(h=>[he(t(d.$t(h.value.label)),1)]),option:p(h=>[e("div",Vo,t(d.$t(h.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",Ao,[e("div",Wo,[e("div",qo,[s(_e,{class:"filter-button item-filter-action mr-2",label:d.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ue},null,8,["label"]),s(ce,{placement:"top"},{content:p(()=>[e("div",Io,t(d.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Eo]),_:1}),e("div",Po,t(d.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(_e,{class:"filter-button item-filter-action",label:d.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ve},null,8,["label"])]),e("div",To,[(c(!0),u(J,null,oe(P.value,h=>(c(),re(ce,{key:h.id,duration:"0"},{content:p(()=>[e("div",Mo,t(d.$t(h.name)),1)]),default:p(()=>[s(Ee,{modelValue:h.checked,"onUpdate:modelValue":de=>h.checked=de,binary:!0,class:"rarity-checkbox",onChange:de=>i(de,h.id)},{icon:p(de=>[e("div",Do,[s(we,{class:ne({disabled:!de.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Ro,[e("div",Lo,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",Fo,t(d.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:p(()=>[Uo]),_:1}),he(" "+t(d.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:G.value,"onUpdate:modelValue":k[10]||(k[10]=h=>G.value=h),label:d.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:R.value,"onUpdate:modelValue":k[11]||(k[11]=h=>R.value=h),label:d.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:_.value,"onUpdate:modelValue":k[12]||(k[12]=h=>_.value=h),label:d.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:U.value,"onUpdate:modelValue":k[13]||(k[13]=h=>U.value=h),label:d.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),F.value!==null?(c(),u("div",Oo,t(F.value),1)):te("",!0)]),e("div",No,[s(_e,{class:"py-2 px-3 mr-2",disabled:!$.value,label:(Ve=O.value)!=null&&Ve.length?"Re-Generate Item Set":"Generate Item Set",onClick:qe},null,8,["disabled","label"]),s(_e,{class:"py-2 px-3 mr-2",disabled:!((r=O.value)!=null&&r.length),label:"Equip All Items",onClick:k[14]||(k[14]=h=>n(h))},null,8,["disabled"]),jo,e("div",{innerHTML:d.$t("characterSheet.itemSolverContent.poweredBy",{credit:I()})},null,8,Ho)]),e("div",Bo,[s(be,{modelValue:z.value,"onUpdate:modelValue":k[15]||(k[15]=h=>z.value=h),label:d.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(be,{modelValue:w.value,"onUpdate:modelValue":k[16]||(k[16]=h=>w.value=h),label:d.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:q.value,"onUpdate:modelValue":k[17]||(k[17]=h=>q.value=h),label:d.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(se)?(c(),u("div",lc,[e("div",ac,t(d.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",ic,t(d.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",nc,[e("div",oc,[s(Ce,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ce,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),u("div",zo,[a(Z)?(c(),u("div",Go,[a(Z).debug?(c(),u("div",Yo,t(d.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),u("div",Jo,t(d.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Qo,[e("div",null,"Error Code: "+t(a(Z).message),1),a(Z).debug?(c(),u("div",Xo,[e("div",Zo,"Debug Code: "+t(a(Z).debug),1)])):te("",!0)])])):(A=O.value)!=null&&A.length?(c(),u("div",Ko,[e("div",ec,[(c(!0),u(J,null,oe(O.value,h=>(c(),u("div",{key:h.id,class:"item-card-wrapper"},[s(st,{item:h,"with-slot-label":"","with-comparisons":q.value,"with-totals":w.value},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(c(),u("div",tc,[e("div",null,t(d.$t("characterSheet.itemSolverContent.instructions")),1),e("div",sc,t(d.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},rc=$e(cc,[["__scopeId","data-v-385dc262"]]);const xe=v=>(ye("data-v-67b1a5cf"),v=v(),ke(),v),uc={class:"flex h-full"},dc={class:"flex flex-column"},pc={class:"mb-2"},mc={class:"flex"},hc={class:"mr-2"},vc=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),gc={class:"simple-tooltip flex flex-column"},fc={class:"mb-1"},_c={class:"mb-1"},bc={class:"mb-1"},$c={class:"mb-1"},yc={class:"mb-1"},kc={class:"mb-1"},Sc={key:0,class:"item-runes-section flex align-items-center mb-2"},xc=["onClick"],wc=["onClick","onDrop","onContextmenu","onDragstart"],Cc={class:"rune-image"},Vc={class:"rune-level"},Ac={class:"simple-tooltip"},Wc=["onDrop"],qc={class:"rune-image"},Ec=["onDrop","onClick"],Ic={key:0,class:"sublimation-entry flex align-items-center px-2"},Pc={class:"ml-1"},Tc=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Dc={key:0,class:"item-card-tooltip"},Mc={class:"effect-header flex pt-2 px-1"},Rc={class:"flex flex-column ml-1"},Lc={class:"item-name mr-2"},Uc={class:"rune-requirements flex justify-content-left gap-1 py-1"},Fc=["onDrop","onClick"],Oc={class:"px-2",style:{opacity:"0.5"}},Nc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},jc={class:"slot-image"},Hc=["onDrop"],Bc={class:"info-text"},zc={class:"flex mb-2"},Gc={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Yc={class:"ml-1"},Jc={key:1,class:"flex align-items-center px-2 py-2"},Qc={class:"ml-1"},Xc=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Zc={key:0,class:"item-card-tooltip"},Kc={class:"effect-header flex pt-2 px-1"},er={class:"flex flex-column ml-1"},tr={class:"item-name mr-2"},sr={class:"flex justify-content-left py-1 text-xs"},lr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},ar={class:"ml-1"},ir={key:1,class:"flex align-items-center px-2 py-2"},nr={class:"ml-1"},or=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),cr={key:0,class:"item-card-tooltip"},rr={class:"effect-header flex pt-2 px-1"},ur={class:"flex flex-column ml-1"},dr={class:"item-name mr-2"},pr={class:"flex justify-content-left py-1 text-xs"},mr={class:"stats-summary"},hr={class:"text-lg my-1 pl-2"},vr={class:"stats-summary-list flex flex-column"},gr={key:0,class:"summary-entry px-2 py-1"},fr={class:"ml-2"},_r={class:"flex px-2 py-1"},br={class:"flex ml-2"},$r={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},yr=xe(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),kr={class:"flex flex-column mr-3"},Sr={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},xr={class:"flex align-items-center justify-content-center"},wr=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Cr={class:"simple-tooltip"},Vr={class:"mx-2"},Ar={class:"rune-options flex flex-column mt-2"},Wr=["onDragstart","onClick"],qr={class:"ml-2"},Er=xe(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Ir={class:"ml-3 mt-2"},Pr={key:0,class:"flex flex-column",style:{"min-width":"300px"}},Tr={class:"flex mt-2"},Dr={class:"mx-2"},Mr=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Rr={class:"simple-tooltip"},Lr=["onDragstart"],Ur={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},Fr={class:"effect-header flex pt-2 px-1"},Or={class:"flex flex-column ml-1"},Nr={class:"item-name"},jr={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},Hr={class:"flex mt-2"},Br={class:"mx-2"},zr={class:"mx-2"},Gr=["onClick","onDragstart"],Yr={class:"ml-1"},Jr={class:"effect-header flex pt-2 px-1"},Qr={class:"flex flex-column ml-1"},Xr={class:"item-name"},Zr={class:"flex justify-content-left py-1 text-xs"},Kr={key:0,class:"flex flex-column px-4 py-2"},eu={class:"mb-2"},tu={class:"ml-2"},su={__name:"RunesSubsTabContent",setup(v,{expose:m}){const{t:L}=Ge();let o=document;const l=ge("currentCharacter"),{getRuneValue:W}=Qe(),{getRunes:S,getSublimations:T,canSublimationFit:se}=je(),Z=pe(()=>S().sort((n,i)=>n.shardsParameters.color-i.shardsParameters.color)),B=pe(()=>T().filter(n=>{var i;return n.sublimationParameters.slotColorPattern.length>0&&L(`items.${n.id}`).toLowerCase().includes((i=w.value)==null?void 0:i.toLowerCase())}).sort((n,i)=>L(`items.${n.id}`).localeCompare(L(`items.${i.id}`))).sort((n,i)=>{if(Y.value&&O.value){let I=se(l.value.equipment[Y.value],n)?1:0;return(se(l.value.equipment[Y.value],i)?1:0)-I}else return 0})),z=pe(()=>T().filter(n=>{var i;return qe(n)&&L(`items.${n.id}`).toLowerCase().includes((i=q.value)==null?void 0:i.toLowerCase())&&(n.sublimationParameters.isEpic?D.value:!0)&&(n.sublimationParameters.isRelic?f.value:!0)})),w=b(""),q=b(""),O=b(!0),D=b(!0),f=b(!0),N=b(1),Y=b(null),G=b(null),R=b(null),_=b([{label:L("constants.level"),levelSlider:!0},{label:L("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{G.value&&(l.value.equipment[G.value.itemSlotKey][G.value.runeSlotKey].color===0?l.value.equipment[G.value.itemSlotKey][G.value.runeSlotKey].color=l.value.equipment[G.value.itemSlotKey][G.value.runeSlotKey].rune.shardsParameters.color:l.value.equipment[G.value.itemSlotKey][G.value.runeSlotKey].color=0)}},{label:L("constants.remove"),command:()=>{l.value.equipment[G.value.itemSlotKey][G.value.runeSlotKey]=null}}]),U=b(!1),K=()=>{U.value=!1,Pe(()=>{U.value=!0})},j=pe(()=>{let n={};return Object.keys(l.value.equipment).forEach(i=>{if(l.value.equipment[i]!==null){let I=l.value.equipment[i];for(let d=1;d<=4;d++){let k=I[`runeSlot${d}`];k&&(n[k.rune.id]||(n[k.rune.id]={totalValue:0,rune:k}),n[k.rune.id].totalValue+=W(k.rune,k.level,i))}I.subSlot&&(n[I.subSlot.equipEffects[0].values[0]]||(n[I.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:I.subSlot}),n[I.subSlot.equipEffects[0].values[0]].totalValue+=I.subSlot.equipEffects[0].values[2])}}),l.value.epicSubSlot&&(n[l.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.epicSubSlot}),l.value.relicSubSlot&&(n[l.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.relicSubSlot}),n}),y=(n,i)=>{n.stopPropagation(),Y.value===i?Y.value=null:Y.value=i},C=(n,i,I)=>{n.shiftKey&&(l.value.equipment[i][I].color===0?l.value.equipment[i][I].color=l.value.equipment[i][I].rune.shardsParameters.color:l.value.equipment[i][I].color=0),n.ctrlKey&&(R.value.hide(),l.value.equipment[i][I]=null)},X=(n,i,I)=>{l.value.equipment[i][I]&&(G.value={itemSlotKey:i,runeSlotKey:I},R.value.show(n))},le=(n,i)=>{if(Y.value&&l.value.equipment[Y.value]!==null){let I=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let d in I)if(l.value.equipment[Y.value][I[d]]===null||l.value.equipment[Y.value][I[d]]===void 0){l.value.equipment[Y.value][I[d]]={rune:i,color:i.shardsParameters.color,level:N.value};break}}},M=(n,i,I,d)=>{n.dataTransfer.dropEffect="move",n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("type",i),i==="rune"&&(n.dataTransfer.setData("rune",JSON.stringify(I)),d&&n.dataTransfer.setData("level",d)),i==="sublimation"&&n.dataTransfer.setData("sublimation",JSON.stringify(I))},V=(n,i,I)=>{try{let d=n.dataTransfer.getData("type");if(d==="rune"&&I.includes("rune")){let k=JSON.parse(n.dataTransfer.getData("rune")),ce=n.dataTransfer.getData("level");l.value.equipment[i][I]={rune:k,color:k.shardsParameters.color,level:ce||N.value}}if(d==="sublimation"){let k=JSON.parse(n.dataTransfer.getData("sublimation"));qe(k)?k.sublimationParameters.isEpic&&I==="epicSubSlot"?l.value.epicSubSlot=k:k.sublimationParameters.isRelic&&I==="relicSubSlot"&&(l.value.relicSubSlot=k):l.value.equipment[i].subSlot=k}}catch(d){console.error(d)}},P=()=>{let n=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(l.value.equipment).forEach(i=>{l.value.equipment[i]&&(n.forEach(I=>{l.value.equipment[i][I]=void 0}),l.value.equipment[i].subSlot=null)})},ie=(n,i,I)=>{l.value[I]=i},ue=n=>{n==="epicSubSlot"?l.value.epicSubSlot=null:n==="relicSubSlot"?l.value.relicSubSlot=null:l.value.equipment[n].subSlot=null},ve=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},$=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},g=n=>Object.keys(ee).find(i=>ee[i].rawId===n),F=pe(()=>{let n=1;return ut.some((i,I)=>i<=l.value.level?(n=I+1,!1):!0),n}),qe=n=>n.sublimationParameters.isRelic||n.sublimationParameters.isEpic;return Te(()=>l.value.level,()=>{N.value=F.value},{immediate:!0}),m({showLists:K}),(n,i)=>{const I=E("tippy"),d=E("p-image"),k=E("p-inputNumber"),ce=E("p-button"),fe=E("p-inputText"),_e=E("p-checkbox"),we=E("p-virtualScroller"),Ee=E("p-slider"),Ce=E("p-contextMenu"),Ve=dt("ripple");return c(),u("div",uc,[e("div",dc,[e("div",pc,[s(I,{placement:"left",duration:"0"},{content:p(()=>[e("div",gc,[e("div",fc,t(n.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",_c,t(n.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",bc,t(n.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",$c,t(n.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",yc,t(n.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",kc,t(n.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:p(()=>[e("div",mc,[e("div",hc,t(n.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),vc])]),_:1})]),(c(!0),u(J,null,oe(Object.keys(a(l).equipment),r=>(c(),u(J,{key:r},[r!=="ACCESSORY"&&r!=="PET"&&r!=="MOUNT"&&r!=="SECOND_WEAPON"?(c(),u(J,{key:0},[r!=="undefined"&&a(l).equipment[r]?(c(),u("div",Sc,[e("div",{class:ne(["slot-image",{highlighted:Y.value===r}]),onClick:A=>y(A,r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,xc),(c(),u(J,null,oe(4,A=>(c(),u(J,{key:A},[a(l).equipment[r][`runeSlot${A}`]?(c(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Ac," +"+t(a(W)(a(l).equipment[r][`runeSlot${A}`].rune,a(l).equipment[r][`runeSlot${A}`].level,r))+" "+t(n.$t(`items.${a(l).equipment[r][`runeSlot${A}`].rune.id}`)),1)]),default:p(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:h=>C(h,r,`runeSlot${A}`),onDragover:i[0]||(i[0]=me(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=me(()=>{},["prevent"])),onDrop:h=>V(h,r,`runeSlot${A}`),onContextmenu:h=>X(h,r,`runeSlot${A}`),onDragstart:h=>M(h,"rune",a(l).equipment[r][`runeSlot${A}`].rune,a(l).equipment[r][`runeSlot${A}`].level)},[e("div",Cc,[s(d,{src:$(a(l).equipment[r][`runeSlot${A}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",Vc,t(a(l).equipment[r][`runeSlot${A}`].level),1)],40,wc)]),_:2},1024)):(c(),u("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=me(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=me(()=>{},["prevent"])),onDrop:h=>V(h,r,`runeSlot${A}`)},[e("div",qc,[s(d,{src:ve(null),"image-style":"width: 26px"},null,8,["src"])])],40,Wc))],64))),64)),a(l).equipment[r].subSlot?(c(),re(De,{key:0,"append-to":()=>a(o).body,offset:[0,-2],style:{height:"100%"}},{trigger:p(()=>[e("div",{class:ne(["sublimation-drop-zone ml-2",{invalid:!a(se)(a(l).equipment[r],a(l).equipment[r].subSlot)}]),onDragover:i[4]||(i[4]=me(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=me(()=>{},["prevent"])),onDrop:A=>V(A,r,"subSlot"),onClick:A=>ue(r)},[a(l).equipment[r].subSlot?(c(),u("div",Ic,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[r].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Pc,t(n.$t(`items.${a(l).equipment[r].subSlot.id}`)),1)])):te("",!0),Tc],42,Ec)]),content:p(()=>[a(l).equipment[r].subSlot?(c(),u("div",Dc,[e("div",Mc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[r].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Rc,[e("div",Lc,t(n.$t(`items.${a(l).equipment[r].subSlot.id}`)),1),e("div",Uc,[(c(!0),u(J,null,oe(a(l).equipment[r].subSlot.sublimationParameters.slotColorPattern,(A,h)=>(c(),u("div",{key:h,class:"flex align-items-center"},[s(d,{src:$(A),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(We,{item:a(l).equipment[r].subSlot},null,8,["item"])])):te("",!0)]),_:2},1032,["append-to"])):(c(),u("div",{key:1,class:ne(["sublimation-drop-zone ml-2",{invalid:!a(se)(a(l).equipment[r],a(l).equipment[r].subSlot)}]),onDragover:i[6]||(i[6]=me(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=me(()=>{},["prevent"])),onDrop:A=>V(A,r,"subSlot"),onClick:A=>ue(r)},[e("div",Oc,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,Fc))])):r!=="undefined"?(c(),u("div",Nc,[e("div",jc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),u(J,null,oe(4,A=>e("div",{key:A,class:"rune-drop-zone ml-2",onDragover:i[8]||(i[8]=me(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=me(()=>{},["prevent"])),onDrop:h=>V(h,r,`runeSlot${A}`)},null,40,Hc)),64)),e("div",Bc,t(n.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):te("",!0)],64)):te("",!0)],64))),128)),e("div",zc,[s(I,{duration:"0",class:"flex h-full"},{content:p(()=>[a(l).epicSubSlot?(c(),u("div",Zc,[e("div",Kc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",er,[e("div",tr,t(n.$t(`items.${a(l).epicSubSlot.id}`)),1),e("div",sr,t(a(l).epicSubSlot.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(a(l).epicSubSlot.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).epicSubSlot},null,8,["item"])])):te("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[10]||(i[10]=me(()=>{},["prevent"])),onDragenter:i[11]||(i[11]=me(()=>{},["prevent"])),onDrop:i[12]||(i[12]=r=>V(r,null,"epicSubSlot")),onClick:i[13]||(i[13]=r=>ue("epicSubSlot"))},[a(l).epicSubSlot?(c(),u("div",Gc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Yc,t(n.$t(`items.${a(l).epicSubSlot.id}`)),1)])):(c(),u("div",Jc,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Qc,t(n.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Xc],32)]),_:1}),s(I,{duration:"0",class:"flex h-full"},{content:p(()=>[a(l).relicSubSlot?(c(),u("div",cr,[e("div",rr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ur,[e("div",dr,t(n.$t(`items.${a(l).relicSubSlot.id}`)),1),e("div",pr,t(a(l).relicSubSlot.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(a(l).relicSubSlot.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).relicSubSlot},null,8,["item"])])):te("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[14]||(i[14]=me(()=>{},["prevent"])),onDragenter:i[15]||(i[15]=me(()=>{},["prevent"])),onDrop:i[16]||(i[16]=r=>V(r,null,"relicSubSlot")),onClick:i[17]||(i[17]=r=>ue("relicSubSlot"))},[a(l).relicSubSlot?(c(),u("div",lr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",ar,t(n.$t(`items.${a(l).relicSubSlot.id}`)),1)])):(c(),u("div",ir,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",nr,t(n.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),or],32)]),_:1})]),e("div",mr,[e("div",hr,t(n.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",vr,[(c(!0),u(J,null,oe(Object.keys(j.value),r=>(c(),u(J,{key:r},[j.value[r].rune?(c(),u("div",gr,[s(d,{src:$(j.value[r].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",fr,"+"+t(j.value[r].totalValue)+" "+t(n.$t(`items.${j.value[r].rune.rune.id}`)),1)])):j.value[r].sublimation?(c(),u("div",{key:1,class:ne(["summary-entry flex-column align-items-start",{warning:j.value[r].totalValue>a(Be)[j.value[r].sublimation.equipEffects[0].values[0]]}])},[e("div",_r,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${j.value[r].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",br,[e("span",null,t(n.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:j.value[r].totalValue})),1),s(De,{"append-to":()=>a(o).body,offset:[0,-2],"state-id":`${j.value[r].sublimation.equipEffects[0].values[0]}`,"current-level":j.value[r].totalValue},null,8,["append-to","state-id","current-level"])])]),j.value[r].totalValue>a(Be)[j.value[r].sublimation.equipEffects[0].values[0]]?(c(),u("div",$r,[yr,e("span",null,t(n.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Be)[j.value[r].sublimation.equipEffects[0].values[0]]})),1)])):te("",!0)],2)):te("",!0)],64))),128))])])]),e("div",kr,[e("div",Sr,[e("div",xr,[s(I,{placement:"left",duration:"0"},{content:p(()=>[e("div",Cr,t(n.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:p(()=>[wr]),_:1}),e("span",Vr,t(n.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(k,{modelValue:N.value,"onUpdate:modelValue":i[18]||(i[18]=r=>N.value=r),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:F.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Ar,[(c(!0),u(J,null,oe(Z.value,r=>(c(),u("div",{key:r.id,class:ne(["rune-draggable mb-1 px-2",{highlighted:Y.value&&r.shardsParameters.doubleBonusPosition.includes(a(ee)[Y.value].rawId)}]),draggable:"true",onDragstart:A=>M(A,"rune",r),onClick:A=>le(A,r)},[s(d,{class:"rune-image",src:ve(r.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",qr,"+"+t(a(W)(r,N.value))+" "+t(n.$t(`items.${r.id}`)),1),Er,(c(!0),u(J,null,oe(r.shardsParameters.doubleBonusPosition,A=>(c(),u("div",{key:A,class:"ml-1"},[s(d,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${g(A)}.png`,class:ne({disabled:!a(l).equipment[g(A)]}),onClick:h=>y(h,g(A))},null,8,["src","class","onClick"])]))),128))],42,Wr))),128))])]),e("div",Ir,[s(ce,{label:n.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:P},null,8,["label"])])]),U.value?(c(),u("div",Pr,[s(fe,{modelValue:w.value,"onUpdate:modelValue":i[19]||(i[19]=r=>w.value=r),class:"py-2 px-2",placeholder:n.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",Tr,[s(_e,{modelValue:O.value,"onUpdate:modelValue":i[20]||(i[20]=r=>O.value=r),binary:!0},null,8,["modelValue"]),e("div",Dr,t(n.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(I,{placement:"top"},{content:p(()=>[e("div",Rr,t(n.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:p(()=>[Mr]),_:1})]),B.value?(c(),re(we,{key:0,items:B.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:r})=>[s(De,{"append-to":()=>a(o).body,offset:[0,-2]},{trigger:p(()=>{var A,h;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{highlighted:a(se)(a(l).equipment[Y.value],r)}]),draggable:"true",onDragstart:de=>M(de,"sublimation",r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(h=(A=r.sublimationParameters)==null?void 0:A.slotColorPattern)!=null&&h.length?(c(),u("div",Ur,[(c(!0),u(J,null,oe(r.sublimationParameters.slotColorPattern,(de,Ie)=>(c(),u("div",{key:Ie,class:"flex align-items-center"},[s(d,{src:$(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):te("",!0),e("div",null,t(n.$t(`items.${r.id}`)),1)],42,Lr)]}),content:p(()=>{var A,h;return[e("div",Fr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Or,[e("div",Nr,t(n.$t(`items.${r.id}`)),1),(h=(A=r.sublimationParameters)==null?void 0:A.slotColorPattern)!=null&&h.length?(c(),u("div",jr,[(c(!0),u(J,null,oe(r.sublimationParameters.slotColorPattern,(de,Ie)=>(c(),u("div",{key:Ie,class:"flex align-items-center"},[s(d,{src:$(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):te("",!0)])]),s(We,{item:r},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):te("",!0),s(fe,{modelValue:q.value,"onUpdate:modelValue":i[21]||(i[21]=r=>q.value=r),class:"py-2 px-2",placeholder:n.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",Hr,[s(_e,{modelValue:D.value,"onUpdate:modelValue":i[22]||(i[22]=r=>D.value=r),binary:!0},null,8,["modelValue"]),e("div",Br,t(n.$t("constants.epic")),1),s(_e,{modelValue:f.value,"onUpdate:modelValue":i[23]||(i[23]=r=>f.value=r),binary:!0},null,8,["modelValue"]),e("div",zr,t(n.$t("constants.relic")),1)]),z.value?(c(),re(we,{key:1,items:z.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:r})=>[s(De,{"append-to":()=>a(o).body,offset:[0,-2]},{trigger:p(()=>{var A,h;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((A=a(l).epicSubSlot)==null?void 0:A.id)===r.id,"relic-highlighted":((h=a(l).relicSubSlot)==null?void 0:h.id)===r.id}]),draggable:"true",onClick:de=>ie(de,r,r.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:de=>M(de,"sublimation",r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Yr,t(n.$t(`items.${r.id}`))+" "+t(r.sublimationParameters.isEpic?`(${n.$t("constants.epic")})`:"")+" "+t(r.sublimationParameters.isRelic?`(${n.$t("constants.relic")})`:""),1)],42,Gr)]}),content:p(()=>[e("div",Jr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Qr,[e("div",Xr,t(n.$t(`items.${r.id}`)),1),e("div",Zr,t(r.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(r.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:r},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):te("",!0)])):te("",!0),s(Ce,{ref_key:"runeContextMenu",ref:R,model:_.value},{item:p(({item:r,props:A})=>[r.levelSlider?(c(),u("div",Kr,[e("div",eu,t(n.$t("constants.level"))+": "+t(a(l).equipment[G.value.itemSlotKey][G.value.runeSlotKey].level),1),s(Ee,{modelValue:a(l).equipment[G.value.itemSlotKey][G.value.runeSlotKey].level,"onUpdate:modelValue":i[24]||(i[24]=h=>a(l).equipment[G.value.itemSlotKey][G.value.runeSlotKey].level=h),min:1,max:11},null,8,["modelValue"])])):pt((c(),u("a",Ne({key:1,class:"flex align-items-center"},A.action),[e("span",tu,t(r.label),1)],16)),[[Ve]])]),_:1},8,["model"])])}}},lu=$e(su,[["__scopeId","data-v-67b1a5cf"]]);const Le=v=>(ye("data-v-bf87d427"),v=v(),ke(),v),au={class:"top-bar py-3 px-3"},iu={key:0,class:"flex align-items-center pl-2"},nu={class:"py-2"},ou={key:1,class:"flex align-items-center"},cu={class:"py-2"},ru={class:"flex align-items-center"},uu={class:"capitalize"},du={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},pu={class:"mr-2"},mu={class:"flex-grow-1"},hu=Le(()=>e("div",{class:"flex-grow-1"},null,-1)),vu={class:"build-code flex align-items-center ml-2 mr-3"},gu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),fu={class:"simple-tooltip"},_u={class:"ml-2"},bu={class:"code-disclaimer"},$u=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),yu={class:"simple-tooltip"},ku={class:"ml-1"},Su={class:"flex flex-grow-1",style:{overflow:"auto"}},xu={class:"stats-area pt-3"},wu={class:"flex flex-column flex-grow-1"},Cu=Le(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),Vu=Le(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),Au={class:"flex align-items-center px-3 py-3"},Wu={class:"flex align-items-center px-3 py-3"},qu={class:"flex align-items-center px-3 py-3"},Eu={class:"flex align-items-center px-3 py-3"},Iu={key:1,class:"px-5 mt-5"},Pu={__name:"CharacterSheet",setup(v){var N,Y,G;const m=mt(),L=ge("currentCharacter"),o=b(null),l=b(null),W=b(null),S=b((N=L.value)==null?void 0:N.name),T=b((Y=L.value)==null?void 0:Y.level),se=b(Fe[(G=L.value)==null?void 0:G.class]),Z=Object.entries(Fe).map(([R,_])=>_),{createBuildCode:B}=Ze(),z=pe(()=>B(L.value));Te(L,()=>{w()});const w=()=>{var R,_,U;S.value=(R=L.value)==null?void 0:R.name,T.value=(_=L.value)==null?void 0:_.level,se.value=Fe[(U=L.value)==null?void 0:U.class]},q=(R,_)=>{_==="name"?L.value.name=R.target.value:_==="levelText"?L.value.level=R.value:_==="levelSlider"?L.value.level=R:_==="class"&&(L.value.class=R.value.id),w()},O=()=>{Pe(()=>{o.value.showList(),W.value.showLists()})},D=pe(()=>{var R;return(R=l.value)==null?void 0:R.hasCharacteristicsError}),f=()=>{navigator.clipboard.writeText(z.value),m.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(R,_)=>{const U=E("p-inputText"),K=E("p-image"),j=E("p-dropdown"),y=E("p-inputNumber"),C=E("p-slider"),X=E("tippy"),le=E("p-button"),M=E("p-tabPanel"),V=E("p-tabView");return a(L)?(c(),u("div",{key:a(L).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",au,[s(U,{modelValue:S.value,"onUpdate:modelValue":_[0]||(_[0]=P=>S.value=P),class:"mr-2 py-2 px-2",onInput:_[1]||(_[1]=P=>q(P,"name"))},null,8,["modelValue"]),s(j,{modelValue:se.value,"onUpdate:modelValue":_[2]||(_[2]=P=>se.value=P),options:a(Z),placeholder:R.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:_[3]||(_[3]=P=>q(P,"class"))},{value:p(P=>[P.value?(c(),u("div",iu,[s(K,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${P.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",nu,t(R.$t(P.value.name)),1)])):(c(),u("span",ou,[s(K,{class:"class-image mx-2",src:a(ht),"image-style":"width: 28px"},null,8,["src"]),e("div",cu,t(P.placeholder),1)]))]),option:p(P=>[e("div",ru,[e("div",uu,t(R.$t(P.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",du,[e("span",pu,t(R.$t("characterSheet.level")),1),s(y,{modelValue:T.value,"onUpdate:modelValue":_[4]||(_[4]=P=>T.value=P),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:_[5]||(_[5]=P=>q(P,"levelText"))},null,8,["modelValue"]),e("div",mu,[s(C,{modelValue:T.value,"onUpdate:modelValue":_[6]||(_[6]=P=>T.value=P),min:1,max:230,onChange:_[7]||(_[7]=P=>q(P,"levelSlider"))},null,8,["modelValue"])])]),hu,e("div",vu,[s(X,{placement:"left",duration:"0"},{content:p(()=>[e("div",fu,t(R.$t("characterSheet.buildCopyPaste")),1)]),default:p(()=>[gu]),_:1}),e("div",_u,t(R.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:f},[e("span",null,t(z.value),1)]),s(le,{class:"py-1 ml-2 px-2",label:R.$t("characterSheet.copy"),onClick:f},null,8,["label"]),e("div",bu,[s(X,{placement:"bottom",duration:"0"},{content:p(()=>[e("div",yu,t(R.$t("characterSheet.codeInfo")),1)]),default:p(()=>[$u]),_:1}),e("div",ku,t(R.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",Su,[e("div",xu,[s(Xl)]),e("div",wu,[s(V,{class:"main-tab-view",onTabChange:O},{default:p(()=>[s(M,null,{header:p(()=>[e("div",{class:ne(["characteristics-tab-header px-3 h-full",{error:D.value,"points-to-spend":!1}])},[e("span",null,t(R.$t("characterSheet.characteristics")),1),Cu,Vu],2)]),default:p(()=>[s(Sa,{ref_key:"characteristicsTabContent",ref:l},null,512)]),_:1}),s(M,null,{header:p(()=>[e("div",Au,[e("span",null,t(R.$t("characterSheet.equipment")),1)])]),default:p(()=>[s(nn,{ref_key:"equipmentTabContent",ref:o},null,512)]),_:1}),s(M,null,{header:p(()=>[e("div",Wu,[e("span",null,t(R.$t("characterSheet.autoItemSolver")),1)])]),default:p(()=>[s(rc)]),_:1}),s(M,null,{header:p(()=>[e("div",qu,[e("span",null,t(R.$t("characterSheet.runesAndSubs")),1)])]),default:p(()=>[s(lu,{ref_key:"runesAndSubsTabContent",ref:W},null,512)]),_:1}),s(M,null,{header:p(()=>[e("div",Eu,[e("span",null,t(R.$t("characterSheet.spellsAndPassives")),1)])]),default:p(()=>[s(Yn)]),_:1})]),_:1})])])])):(c(),u("div",Iu," No Character data found for the given ID. "))}}},Mu=$e(Pu,[["__scopeId","data-v-bf87d427"]]);export{Mu as default};
