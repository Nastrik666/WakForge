import{_ as $e,i as ge,g as W,q as a,o as c,h as u,j as e,k as s,t,y as Fe,l as te,z as Qe,s as ye,x as ke,A as Ne,r as $,f as pe,B as at,D as Te,E as Xe,G as ne,H as j,w as p,F as Y,m as oe,n as re,I as he,a as ze,J as je,K as ee,L as Oe,b as Ge,M as Pe,N as it,O as nt,P as Ae,Q as Je,R as ot,S as He,T as ct,d as Ze,U as rt,V as ut,W as dt,p as me,X as Be,Y as pt,u as mt}from"./index-78f7fbae.js";import{I as qe,M as De,u as Ke,E as et,a as ht}from"./addCompanion-6aec5981.js";const Q=v=>(ye("data-v-0d2a0c48"),v=v(),ke(),v),vt={key:0},gt={class:"flex justify-content-between w-full px-2"},ft={class:"main-stat-box"},_t={class:"flex align-items-center my-1"},bt={class:"ml-1"},$t={class:"stat-value py-1"},yt={class:"main-stat-box"},kt={class:"flex align-items-center my-1"},St={class:"ml-1"},xt={class:"stat-value py-1"},wt={class:"main-stat-box"},Ct={class:"flex align-items-center my-1"},Vt={class:"ml-1"},At={class:"stat-value py-1"},qt={class:"main-stat-box"},Wt={class:"flex align-items-center my-1"},Et={class:"ml-1"},It={class:"stat-value py-1"},Pt={key:0,class:"main-stat-box"},Tt={class:"flex align-items-center my-1"},Dt={class:"ml-1"},Mt={class:"stat-value py-1"},Rt={key:1,class:"main-stat-box"},Lt={class:"flex align-items-center my-1"},Ut={class:"ml-1"},Ft={class:"stat-value py-1"},Ot={class:"main-stat-area flex flex-column mt-2 pb-2"},Nt={class:"section-header py-1 mb-1"},jt={class:"flex pl-1"},Ht={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Zt={class:"stat-block pr-2"},Kt={class:"ml-1"},es=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ts={class:"stat-block pr-2"},ss={class:"ml-1"},ls=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"section-header py-1 mb-1"},is={class:"flex pl-1"},ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},hs={class:"stat-block pr-2"},vs={class:"ml-1"},gs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),fs={class:"stat-block pr-2"},_s={class:"ml-1"},bs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),$s={class:"lex flex-column"},ys={class:"section-header py-1 mb-1"},ks={class:"flex pl-1"},Ss={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xs={class:"stat-block pr-2"},ws={class:"ml-1"},Cs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Vs={class:"stat-block pr-2"},As={class:"ml-1"},qs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},Es={class:"ml-1"},Is=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ps={class:"stat-block pr-2"},Ts={class:"ml-1"},Ds=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ms={class:"stat-block pr-2"},Rs={class:"ml-1"},Ls=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Us={class:"stat-block pr-2"},Fs={class:"ml-1"},Os=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},js={class:"stat-block pr-2"},Hs={class:"ml-1"},Bs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),zs={class:"stat-block pr-2"},Gs={class:"ml-1"},Ys=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Js={class:"stat-block pr-2"},Qs={class:"ml-1"},Xs=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Zs={class:"stat-block pr-2"},Ks={class:"ml-1"},el=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),tl={class:"stat-block pr-2"},sl={class:"ml-1"},ll=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),al={class:"stat-block pr-2"},il={class:"ml-1"},nl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ol={class:"flex flex-column"},cl={class:"section-header py-1 mb-1"},rl={class:"flex pl-1"},ul={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},dl={class:"stat-block pr-2"},pl={class:"ml-1"},ml=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),hl={class:"stat-block pr-2"},vl={class:"ml-1"},gl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),fl={class:"stat-block pr-2"},_l={class:"ml-1"},bl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),$l={class:"stat-block pr-2"},yl={class:"ml-1"},kl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Sl={class:"stat-block pr-2"},xl={class:"ml-1"},wl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Cl={class:"stat-block pr-2"},Vl={class:"ml-1"},Al=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),ql={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Wl={class:"stat-block pr-2"},El={class:"ml-1"},Il=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Pl={class:"stat-block pr-2"},Tl={class:"ml-1"},Dl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ml={class:"stat-block pr-2"},Rl={class:"ml-1"},Ll=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Ul={class:"stat-block pr-2"},Fl={class:"ml-1"},Ol=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Nl={class:"stat-block pr-2"},jl={class:"ml-1"},Hl=Q(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={__name:"StatDisplay",setup(v){const h=ge("currentCharacter"),{calcElemResistancePercentage:R}=Qe();return(l,o)=>{const f=W("p-image");return a(h)?(c(),u("div",vt,[e("div",gt,[e("div",ft,[e("div",_t,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",bt,t(l.$t("constants.hp")),1)]),e("div",$t,t(a(h).healthPoints),1)]),e("div",yt,[e("div",kt,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",St,t(l.$t("characterSheet.statsDisplay.ar")),1)]),e("div",xt,t(a(h).armorPoints),1)]),e("div",wt,[e("div",Ct,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Vt,t(l.$t("constants.ap")),1)]),e("div",At,t(a(h).actionPoints),1)]),e("div",qt,[e("div",Wt,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Et,t(l.$t("constants.mp")),1)]),e("div",It,t(a(h).movementPoints),1)]),a(h).class===a(Fe).huppermage.id?(c(),u("div",Pt,[e("div",Tt,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Dt,t(l.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Mt,t(a(h).quadrumentalBreeze),1)])):(c(),u("div",Rt,[e("div",Lt,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Ut,t(l.$t("constants.wp")),1)]),e("div",Ft,t(a(h).wakfuPoints),1)]))]),e("div",Ot,[e("div",Nt,t(l.$t("constants.elementalMasteries")),1),e("div",jt,[e("div",Ht,[e("div",Bt,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",zt,t(l.$t("characterSheet.statsDisplay.water")),1),Gt,e("span",null,t(a(h).masteries.water),1)]),e("div",Yt,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Jt,t(l.$t("characterSheet.statsDisplay.air")),1),Qt,e("span",null,t(a(h).masteries.air),1)])]),e("div",Xt,[e("div",Zt,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Kt,t(l.$t("characterSheet.statsDisplay.earth")),1),es,e("span",null,t(a(h).masteries.earth),1)]),e("div",ts,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ss,t(l.$t("characterSheet.statsDisplay.fire")),1),ls,e("span",null,t(a(h).masteries.fire),1)])])]),e("div",as,t(l.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",is,[e("div",ns,[e("div",os,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",cs,t(l.$t("characterSheet.statsDisplay.water")),1),rs,e("span",null,t(a(R)(a(h).resistances.water))+"% ("+t(a(h).resistances.water)+")",1)]),e("div",us,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ds,t(l.$t("characterSheet.statsDisplay.air")),1),ps,e("span",null,t(a(R)(a(h).resistances.air))+"% ("+t(a(h).resistances.air)+")",1)])]),e("div",ms,[e("div",hs,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",vs,t(l.$t("characterSheet.statsDisplay.earth")),1),gs,e("span",null,t(a(R)(a(h).resistances.earth))+"% ("+t(a(h).resistances.earth)+")",1)]),e("div",fs,[s(f,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",_s,t(l.$t("characterSheet.statsDisplay.fire")),1),bs,e("span",null,t(a(R)(a(h).resistances.fire))+"% ("+t(a(h).resistances.fire)+")",1)])])]),e("div",$s,[e("div",ys,t(l.$t("characterSheet.statsDisplay.battle")),1),e("div",ks,[e("div",Ss,[e("div",xs,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",ws,t(l.$t("constants.damageInflicted")),1),Cs,e("span",null,t(a(h).stats.damageInflicted)+"%",1)]),e("div",Vs,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",As,t(l.$t("characterSheet.statsDisplay.criticalHit")),1),qs,e("span",null,t(a(h).stats.criticalHit)+"%",1)]),e("div",Ws,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Es,t(l.$t("constants.initiative")),1),Is,e("span",null,t(a(h).stats.initiative),1)]),e("div",Ps,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ts,t(l.$t("constants.dodge")),1),Ds,e("span",null,t(a(h).stats.dodge),1)]),e("div",Ms,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Rs,t(l.$t("constants.wisdom")),1),Ls,e("span",null,t(a(h).stats.wisdom),1)]),e("div",Us,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Fs,t(l.$t("constants.control")),1),Os,e("span",null,t(a(h).stats.control),1)])]),e("div",Ns,[e("div",js,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Hs,t(l.$t("constants.healsPerformed")),1),Bs,e("span",null,t(a(h).stats.healsPerformed)+"%",1)]),e("div",zs,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Gs,t(l.$t("characterSheet.statsDisplay.block")),1),Ys,e("span",null,t(a(h).stats.block)+"%",1)]),e("div",Js,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Qs,t(l.$t("constants.range")),1),Xs,e("span",null,t(a(h).stats.range),1)]),e("div",Zs,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Ks,t(l.$t("constants.lock")),1),el,e("span",null,t(a(h).stats.lock),1)]),e("div",tl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",sl,t(l.$t("constants.prospecting")),1),ll,e("span",null,t(a(h).stats.prospecting),1)]),e("div",al,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",il,t(l.$t("constants.forceOfWill")),1),nl,e("span",null,t(a(h).stats.forceOfWill),1)])])])]),e("div",ol,[e("div",cl,t(l.$t("characterSheet.statsDisplay.secondary")),1),e("div",rl,[e("div",ul,[e("div",dl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",pl,t(l.$t("constants.criticalMastery")),1),ml,e("span",null,t(a(h).masteries.critical),1)]),e("div",hl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",vl,t(l.$t("constants.rearMastery")),1),gl,e("span",null,t(a(h).masteries.rear),1)]),e("div",fl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",_l,t(l.$t("constants.meleeMastery")),1),bl,e("span",null,t(a(h).masteries.melee),1)]),e("div",$l,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",yl,t(l.$t("constants.distanceMastery")),1),kl,e("span",null,t(a(h).masteries.distance),1)]),e("div",Sl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",xl,t(l.$t("constants.healingMastery")),1),wl,e("span",null,t(a(h).masteries.healing),1)]),e("div",Cl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Vl,t(l.$t("constants.berserkMastery")),1),Al,e("span",null,t(a(h).masteries.berserk),1)])]),e("div",ql,[e("div",Wl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",El,t(l.$t("constants.criticalResistance")),1),Il,e("span",null,t(a(h).resistances.critical),1)]),e("div",Pl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Tl,t(l.$t("constants.rearResistance")),1),Dl,e("span",null,t(a(h).resistances.rear),1)]),e("div",Ml,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Rl,t(l.$t("constants.armorGiven")),1),Ll,e("span",null,t(a(h).stats.armorGiven)+"%",1)]),e("div",Ul,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Fl,t(l.$t("characterSheet.statsDisplay.armorReceived")),1),Ol,e("span",null,t(a(h).stats.armorReceived)+"%",1)]),e("div",Nl,[s(f,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",jl,t(l.$t("characterSheet.statsDisplay.indirectDamage")),1),Hl,e("span",null,t(a(h).stats.indirectDamage)+"%",1)])])])])])])):te("",!0)}}},zl=$e(Bl,[["__scopeId","data-v-0d2a0c48"]]);const Gl=v=>(ye("data-v-c1799ab4"),v=v(),ke(),v),Yl={class:"flex align-items-center my-1"},Jl={class:"entry-label ml-2"},Ql=Gl(()=>e("div",{class:"flex-grow-1"},null,-1)),Xl={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(v){return(h,R)=>{const l=W("p-image"),o=W("p-inputNumber");return c(),u("div",Yl,[s(l,{src:v.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Jl,t(v.label),1),Ql,s(o,Ne(h.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(v.maxOverride,v.remainingPoints+h.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:v.updateFunction}),null,16,["max","onInput"])])}}},ae=$e(Xl,[["__scopeId","data-v-c1799ab4"]]);const Me=v=>(ye("data-v-d18760ce"),v=v(),ke(),v),Zl={class:"flex flex-column h-full"},Kl={class:"characteristic-panels flex pb-3"},ea={class:"flex flex-column flex-grow-1 mr-1"},ta={class:"characteristics-category-header px-2 py-2"},sa=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),la={class:"flex flex-column px-2 py-1"},aa={class:"characteristics-category-header px-2 py-2"},ia=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),na={class:"flex flex-column px-2 py-1"},oa={class:"characteristics-category-header px-2 py-2"},ca=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ra={class:"flex flex-column px-2 py-1"},ua={class:"flex flex-column flex-grow-1 ml-1"},da={class:"characteristics-category-header px-2 py-2"},pa=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ma={class:"flex flex-column px-2 py-1"},ha={class:"characteristics-category-header px-2 py-2"},va=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ga={class:"flex flex-column px-2 py-1"},fa={__name:"CharacteristicsTabContent",setup(v,{expose:h}){const R=ge("masterData"),l=ge("currentCharacter"),o=$(!1),f=pe(()=>o.value?10:1);at(()=>{document.addEventListener("keydown",n=>{X(n)}),document.addEventListener("keyup",n=>{X(n)})});const X=n=>{n.shiftKey?o.value=!0:o.value=!1},P=$(l.value.characteristics.intelligence.percentHealthPoints),se=$(l.value.characteristics.intelligence.elementalResistance),Z=$(l.value.characteristics.intelligence.barrier),H=$(l.value.characteristics.intelligence.percentHealsReceived),B=$(l.value.characteristics.intelligence.percentArmorHeathPoints),w=$(l.value.characteristics.strength.elementalMastery),q=$(l.value.characteristics.strength.meleeMastery),F=$(l.value.characteristics.strength.distanceMastery),T=$(l.value.characteristics.strength.healthPoints),_=$(l.value.characteristics.agility.lock),O=$(l.value.characteristics.agility.dodge),G=$(l.value.characteristics.agility.initiative),z=$(l.value.characteristics.agility.lockAndDodge),M=$(l.value.characteristics.agility.forceOfWill),b=$(l.value.characteristics.fortune.percentCriticalHit),L=$(l.value.characteristics.fortune.percentBlock),K=$(l.value.characteristics.fortune.criticalMastery),N=$(l.value.characteristics.fortune.rearMastery),k=$(l.value.characteristics.fortune.berserkMastery),C=$(l.value.characteristics.fortune.healingMastery),J=$(l.value.characteristics.fortune.rearResistance),le=$(l.value.characteristics.fortune.criticalResistance),D=$(l.value.characteristics.major.actionPoints),V=$(l.value.characteristics.major.movementPointsAndDamage),I=$(l.value.characteristics.major.rangeAndDamage),ie=$(l.value.characteristics.major.wakfuPoints),ue=$(l.value.characteristics.major.controlAndDamage),ve=$(l.value.characteristics.major.percentDamageInflicted),y=$(l.value.characteristics.major.elementalResistance),g=n=>{let i=0;return n==="intelligence"?i=P.value+se.value+Z.value+H.value+B.value:n==="strength"?i=w.value+q.value+F.value+T.value:n==="agility"?i=_.value+O.value+G.value+z.value+M.value:n==="fortune"?i=b.value+L.value+K.value+N.value+k.value+C.value+J.value+le.value:n==="major"&&(i=D.value+V.value+I.value+ie.value+ue.value+ve.value+y.value),l.value.characteristics.limits[n]-i},U=()=>{l.value.characteristics.intelligence.percentHealthPoints=P.value,l.value.characteristics.intelligence.elementalResistance=se.value,l.value.characteristics.intelligence.barrier=Z.value,l.value.characteristics.intelligence.percentHealsReceived=H.value,l.value.characteristics.intelligence.percentArmorHeathPoints=B.value,l.value.characteristics.strength.elementalMastery=w.value,l.value.characteristics.strength.meleeMastery=q.value,l.value.characteristics.strength.distanceMastery=F.value,l.value.characteristics.strength.healthPoints=T.value,l.value.characteristics.agility.lock=_.value,l.value.characteristics.agility.dodge=O.value,l.value.characteristics.agility.initiative=G.value,l.value.characteristics.agility.lockAndDodge=z.value,l.value.characteristics.agility.forceOfWill=M.value,l.value.characteristics.fortune.percentCriticalHit=b.value,l.value.characteristics.fortune.percentBlock=L.value,l.value.characteristics.fortune.criticalMastery=K.value,l.value.characteristics.fortune.rearMastery=N.value,l.value.characteristics.fortune.berserkMastery=k.value,l.value.characteristics.fortune.healingMastery=C.value,l.value.characteristics.fortune.rearResistance=J.value,l.value.characteristics.fortune.criticalResistance=le.value,l.value.characteristics.major.actionPoints=D.value,l.value.characteristics.major.movementPointsAndDamage=V.value,l.value.characteristics.major.rangeAndDamage=I.value,l.value.characteristics.major.wakfuPoints=ie.value,l.value.characteristics.major.controlAndDamage=ue.value,l.value.characteristics.major.percentDamageInflicted=ve.value,l.value.characteristics.major.elementalResistance=y.value};Te(R,Xe.debounce(()=>{P.value=l.value.characteristics.intelligence.percentHealthPoints,se.value=l.value.characteristics.intelligence.elementalResistance,Z.value=l.value.characteristics.intelligence.barrier,H.value=l.value.characteristics.intelligence.percentHealsReceived,B.value=l.value.characteristics.intelligence.percentArmorHeathPoints,w.value=l.value.characteristics.strength.elementalMastery,q.value=l.value.characteristics.strength.meleeMastery,F.value=l.value.characteristics.strength.distanceMastery,T.value=l.value.characteristics.strength.healthPoints,_.value=l.value.characteristics.agility.lock,O.value=l.value.characteristics.agility.dodge,G.value=l.value.characteristics.agility.initiative,z.value=l.value.characteristics.agility.lockAndDodge,M.value=l.value.characteristics.agility.forceOfWill,b.value=l.value.characteristics.fortune.percentCriticalHit,L.value=l.value.characteristics.fortune.percentBlock,K.value=l.value.characteristics.fortune.criticalMastery,N.value=l.value.characteristics.fortune.rearMastery,k.value=l.value.characteristics.fortune.berserkMastery,C.value=l.value.characteristics.fortune.healingMastery,J.value=l.value.characteristics.fortune.rearResistance,le.value=l.value.characteristics.fortune.criticalResistance,D.value=l.value.characteristics.major.actionPoints,V.value=l.value.characteristics.major.movementPointsAndDamage,I.value=l.value.characteristics.major.rangeAndDamage,ie.value=l.value.characteristics.major.wakfuPoints,ue.value=l.value.characteristics.major.controlAndDamage,ve.value=l.value.characteristics.major.percentDamageInflicted,y.value=l.value.characteristics.major.elementalResistance},100));const We=pe(()=>g("intelligence")<0||g("strength")<0||g("agility")<0||g("fortune")<0||g("major")<0);return h({hasCharacteristicsError:We}),(n,i)=>{var E,d,S,ce,fe,_e,we,Ee,Ce,Ve,r,A,m,de,Ie;return c(),u("div",Zl,[e("div",Kl,[e("div",ea,[e("div",{class:ne(["category-wrapper flex flex-column",{error:g("intelligence")<0}])},[e("div",ta,[e("span",null,t(n.$t("characterSheet.characteristicsContent.intelligence")),1),sa,e("span",null,t(g("intelligence"))+"/"+t((S=(d=(E=a(l))==null?void 0:E.characteristics)==null?void 0:d.limits)==null?void 0:S.intelligence)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",la,[s(ae,{modelValue:P.value,"onUpdate:modelValue":i[0]||(i[0]=x=>P.value=x),label:n.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":g("intelligence"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:se.value,"onUpdate:modelValue":i[1]||(i[1]=x=>se.value=x),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":g("intelligence"),"update-function":U,"max-override":10,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:Z.value,"onUpdate:modelValue":i[2]||(i[2]=x=>Z.value=x),label:n.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":g("intelligence"),"update-function":U,"max-override":10,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:H.value,"onUpdate:modelValue":i[3]||(i[3]=x=>H.value=x),label:n.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":g("intelligence"),"update-function":U,"max-override":5,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:B.value,"onUpdate:modelValue":i[4]||(i[4]=x=>B.value=x),label:n.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":g("intelligence"),"update-function":U,"max-override":10,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:g("strength")<0}])},[e("div",aa,[e("span",null,t(n.$t("characterSheet.characteristicsContent.strength")),1),ia,e("span",null,t(g("strength"))+"/"+t((_e=(fe=(ce=a(l))==null?void 0:ce.characteristics)==null?void 0:fe.limits)==null?void 0:_e.strength)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",na,[s(ae,{modelValue:w.value,"onUpdate:modelValue":i[5]||(i[5]=x=>w.value=x),label:n.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":g("strength"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:q.value,"onUpdate:modelValue":i[6]||(i[6]=x=>q.value=x),label:n.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":g("strength"),"update-function":U,"max-override":40,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:F.value,"onUpdate:modelValue":i[7]||(i[7]=x=>F.value=x),label:n.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":g("strength"),"update-function":U,"max-override":40,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:T.value,"onUpdate:modelValue":i[8]||(i[8]=x=>T.value=x),label:n.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":g("strength"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:g("agility")<0}])},[e("div",oa,[e("span",null,t(n.$t("characterSheet.characteristicsContent.agility")),1),ca,e("span",null,t(g("agility"))+"/"+t((Ce=(Ee=(we=a(l))==null?void 0:we.characteristics)==null?void 0:Ee.limits)==null?void 0:Ce.agility)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ra,[s(ae,{modelValue:_.value,"onUpdate:modelValue":i[9]||(i[9]=x=>_.value=x),label:n.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":g("agility"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:O.value,"onUpdate:modelValue":i[10]||(i[10]=x=>O.value=x),label:n.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":g("agility"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:G.value,"onUpdate:modelValue":i[11]||(i[11]=x=>G.value=x),label:n.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":g("agility"),"update-function":U,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:z.value,"onUpdate:modelValue":i[12]||(i[12]=x=>z.value=x),label:n.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":g("agility"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:M.value,"onUpdate:modelValue":i[13]||(i[13]=x=>M.value=x),label:n.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":g("agility"),"update-function":U,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",ua,[e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1",{error:g("fortune")<0}])},[e("div",da,[e("span",null,t(n.$t("characterSheet.characteristicsContent.fortune")),1),pa,e("span",null,t(g("fortune"))+"/"+t((A=(r=(Ve=a(l))==null?void 0:Ve.characteristics)==null?void 0:r.limits)==null?void 0:A.fortune)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ma,[s(ae,{modelValue:b.value,"onUpdate:modelValue":i[14]||(i[14]=x=>b.value=x),label:n.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":g("fortune"),"update-function":U,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:L.value,"onUpdate:modelValue":i[15]||(i[15]=x=>L.value=x),label:n.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":g("fortune"),"update-function":U,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:K.value,"onUpdate:modelValue":i[16]||(i[16]=x=>K.value=x),label:n.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":g("fortune"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:N.value,"onUpdate:modelValue":i[17]||(i[17]=x=>N.value=x),label:n.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":g("fortune"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:k.value,"onUpdate:modelValue":i[18]||(i[18]=x=>k.value=x),label:n.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":g("fortune"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:C.value,"onUpdate:modelValue":i[19]||(i[19]=x=>C.value=x),label:n.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":g("fortune"),"update-function":U,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:J.value,"onUpdate:modelValue":i[20]||(i[20]=x=>J.value=x),label:n.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":g("fortune"),"update-function":U,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:le.value,"onUpdate:modelValue":i[21]||(i[21]=x=>le.value=x),label:n.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":g("fortune"),"update-function":U,"max-override":20,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:g("major")<0}])},[e("div",ha,[e("span",null,t(n.$t("characterSheet.characteristicsContent.major")),1),va,e("span",null,t(g("major"))+"/"+t((Ie=(de=(m=a(l))==null?void 0:m.characteristics)==null?void 0:de.limits)==null?void 0:Ie.major)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ga,[s(ae,{modelValue:D.value,"onUpdate:modelValue":i[22]||(i[22]=x=>D.value=x),label:n.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:V.value,"onUpdate:modelValue":i[23]||(i[23]=x=>V.value=x),label:n.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:I.value,"onUpdate:modelValue":i[24]||(i[24]=x=>I.value=x),label:n.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ie.value,"onUpdate:modelValue":i[25]||(i[25]=x=>ie.value=x),label:n.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ue.value,"onUpdate:modelValue":i[26]||(i[26]=x=>ue.value=x),label:n.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:ve.value,"onUpdate:modelValue":i[27]||(i[27]=x=>ve.value=x),label:n.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"]),s(ae,{modelValue:y.value,"onUpdate:modelValue":i[28]||(i[28]=x=>y.value=x),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":g("major"),"update-function":U,"max-override":1,step:f.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},_a=$e(fa,[["__scopeId","data-v-d18760ce"]]);const tt=v=>(ye("data-v-f117c1a1"),v=v(),ke(),v),ba={class:"flex align-items-center flex-wrap mt-3"},$a={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},ya={class:"checkmarks-container flex gap-2"},ka={class:"rarity-container mt-2"},Sa={class:"flex align-items-center mb-1"},xa=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),wa={class:"simple-tooltip"},Ca={class:"mr-2 ml-1"},Va={class:"rarity-button-wrapper"},Aa={class:"flex justify-content-center align-items-center"},qa={class:"simple-tooltip"},Wa={class:"item-types-container mt-2"},Ea={class:"flex align-items-center justify-content-center mb-1 w-full"},Ia=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Pa={class:"simple-tooltip"},Ta={class:"mr-2 ml-1"},Da={class:"simple-tooltip"},Ma={class:"item-types-button-wrapper"},Ra={class:"filter-category-wrapper"},La={class:"flex justify-content-center align-items-center"},Ua={class:"simple-tooltip"},Fa={class:"filter-category-wrapper"},Oa={class:"flex justify-content-center align-items-center"},Na={class:"simple-tooltip"},ja={class:"filter-category-wrapper"},Ha={class:"flex justify-content-center align-items-center"},Ba={class:"simple-tooltip"},za={class:"filter-list-wrapper mt-3"},Ga={class:"px-2 py-1"},Ya={class:"px-2 py-1"},Ja={__name:"ItemFilters",setup(v){const h=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],l=[j.healthPoints.id,j.healingMastery.id,j.actionPoints.id,j.movementPoints.id,j.rearResistance.id,j.elementalResistance.id,j.fireResistance.id,j.waterResistance.id,j.earthResistance.id,j.airResistance.id,j.elementalMastery.id,j.fireMastery.id,j.earthMastery.id,j.waterMastery.id,j.airMastery.id,j.criticalMastery.id,j.criticalHit.id,j.range.id,j.prospecting.id,j.wisdom.id,j.initiative.id,j.lock.id,j.dodge.id,j.forceOfWill.id,j.rearMastery.id,j.control.id,j.wakfuPoints.id,j.percentBlock.id,j.criticalResistance.id,j.meleeMastery.id,j.distanceMastery.id,j.berserkMastery.id,j.randomElementalMasteries.id,j.randomElementalResistances.id,j.harvestingQuantity.id].map(k=>({value:k,text:j[k].text})),o=ge("itemFilters"),f=$(""),X=$([o.startLevel,o.endLevel]),P=$([]),se=$(o.rarityFilters),Z=$(o.itemTypeFilters),H=$(!1),B=()=>{_()},w=(k,C)=>{C==="min"&&(X.value[0]=k.value),C==="max"&&(X.value[1]=k.value),_()},q=()=>{_()},F=(k,C)=>{k.ctrlKey&&o.itemTypeFilters.forEach(J=>{J.id!==C?J.checked=!1:J.checked=!0}),_()},T=(k,C)=>{k.ctrlKey&&o.rarityFilters.forEach(J=>{J.id!==C?J.checked=!1:J.checked=!0}),_()},_=Xe.debounce(k=>{var C;o.searchTerm=f.value,o.startLevel=X.value[0],o.endLevel=X.value[1],o.effectFilters=P.value,o.rarityFilters=se.value,k&&((C=k.rawIds)!=null&&C.length)?O(k):o.itemTypeFilters=Z.value},100),O=k=>{k.rawIds.forEach(C=>{let J=Z.value.find(le=>le.rawId===C);J.checked=k.checked})},G=()=>{let k={type:l[0],comparator:h[2],value:0};P.value.push(k),_()},z=k=>{let C=P.value.indexOf(k);P.value.splice(C,1),_()},M=()=>{o.resetFilters(),f.value=o.searchTerm,X.value[0]=o.startLevel,X.value[1]=o.endLevel,P.value=o.effectFilters,se.value=o.rarityFilters,Z.value=o.itemTypeFilters},b=()=>{o.rarityFilters.forEach(k=>{k.checked=!0}),_()},L=()=>{o.rarityFilters.forEach(k=>{k.checked=!1}),_()},K=()=>{o.itemTypeFilters.forEach(k=>{k.checked=!0}),_()},N=()=>{o.itemTypeFilters.forEach(k=>{k.checked=!1}),_()};return(k,C)=>{const J=W("p-inputText"),le=W("p-inputNumber"),D=W("p-slider"),V=W("p-button"),I=W("tippy"),ie=W("p-image"),ue=W("p-checkbox"),ve=W("p-dropdown");return c(),u(Y,null,[e("div",ba,[s(J,{modelValue:f.value,"onUpdate:modelValue":C[0]||(C[0]=y=>f.value=y),placeholder:k.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:B},null,8,["modelValue","placeholder"]),e("div",$a,[s(le,{modelValue:X.value[0],"onUpdate:modelValue":C[1]||(C[1]=y=>X.value[0]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:C[2]||(C[2]=y=>w(y,"min"))},null,8,["modelValue"]),s(D,{modelValue:X.value,"onUpdate:modelValue":C[3]||(C[3]=y=>X.value=y),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:q},null,8,["modelValue"]),s(le,{modelValue:X.value[1],"onUpdate:modelValue":C[4]||(C[4]=y=>X.value[1]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:C[5]||(C[5]=y=>w(y,"max"))},null,8,["modelValue"])]),s(V,{class:"filter-button",label:k.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:M},null,8,["label"])]),e("div",ya,[e("div",ka,[e("div",Sa,[s(V,{class:"filter-button item-filter-action mr-2",label:k.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:b},null,8,["label"]),s(I,{placement:"top"},{content:p(()=>[e("div",wa,t(k.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[xa]),_:1}),e("div",Ca,t(k.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(V,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:L},null,8,["label"])]),e("div",Va,[(c(!0),u(Y,null,oe(se.value,y=>(c(),re(I,{key:y.id,duration:"0"},{content:p(()=>[e("div",qa,t(k.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":g=>y.checked=g,binary:!0,class:"rarity-checkbox",onChange:g=>T(g,y.id)},{icon:p(g=>[e("div",Aa,[s(ie,{class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Wa,[e("div",Ea,[s(V,{class:"filter-button item-filter-action mr-2",label:k.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),s(I,{placement:"top"},{content:p(()=>[e("div",Pa,t(k.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Ia]),_:1}),e("div",Ta,t(k.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(I,null,{content:p(()=>[e("div",Da,t(k.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:p(()=>[s(ue,{modelValue:H.value,"onUpdate:modelValue":C[6]||(C[6]=y=>H.value=y),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(V,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:N},null,8,["label"])]),e("div",Ma,[e("div",Ra,[(c(!0),u(Y,null,oe(Z.value.filter(y=>y.category==="armor"),y=>(c(),u(Y,{key:y.id},[!y.advanced||H.value?(c(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Ua,t(k.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":g=>y.checked=g,binary:!0,class:"item-type-checkbox",onChange:g=>F(g,y.id)},{icon:p(g=>[e("div",La,[y.rawId?(c(),re(ie,{key:0,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):te("",!0)],64))),128))]),e("div",Fa,[(c(!0),u(Y,null,oe(Z.value.filter(y=>y.category==="weapons"),y=>(c(),u(Y,{key:y.id},[!y.advanced||H.value?(c(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Na,t(k.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":g=>y.checked=g,binary:!0,class:"item-type-checkbox",onChange:g=>a(_)(y)},{icon:p(g=>[e("div",Oa,[y.rawId?(c(),re(ie,{key:0,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):te("",!0)],64))),128))]),e("div",ja,[(c(!0),u(Y,null,oe(Z.value.filter(y=>y.category==="miscellaneous"),y=>(c(),u(Y,{key:y.id},[!y.advanced||H.value?(c(),re(I,{key:0,duration:"0"},{content:p(()=>[e("div",Ba,t(k.$t(y.name)),1)]),default:p(()=>[s(ue,{modelValue:y.checked,"onUpdate:modelValue":g=>y.checked=g,binary:!0,class:"item-type-checkbox",onChange:a(_)},{icon:p(g=>[e("div",Ha,[y.rawId?(c(),re(ie,{key:0,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(ie,{key:1,class:ne({disabled:!g.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):te("",!0)],64))),128))])])])]),e("div",za,[s(V,{icon:"pi pi-plus",class:"filter-button",label:k.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:G},null,8,["label"]),(c(!0),u(Y,null,oe(P.value,y=>(c(),u("div",{key:y.id,class:"filter-entry"},[s(ve,{modelValue:y.type,"onUpdate:modelValue":g=>y.type=g,class:"filter-type-dropdown",options:a(l),filter:"","auto-filter-focus":"","option-label":"text",onChange:a(_)},{value:p(g=>[he(t(k.$t(g.value.text)),1)]),option:p(g=>[e("div",Ga,t(k.$t(g.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(ve,{modelValue:y.comparator,"onUpdate:modelValue":g=>y.comparator=g,class:"filter-comparator-dropdown",options:h,"option-label":"text",onChange:a(_)},{value:p(g=>[he(t(g.value.symbol),1)]),option:p(g=>[e("div",Ya,t(k.$t(g.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(le,{modelValue:y.value,"onUpdate:modelValue":g=>y.value=g,class:"filter-value-input","allow-empty":!1,onInput:a(_)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(V,{class:"remove-filter-button",icon:"pi pi-trash",onClick:g=>z(y)},null,8,["onClick"])]))),128))])],64)}}},Qa=$e(Ja,[["__scopeId","data-v-f117c1a1"]]);const Ye=v=>(ye("data-v-fc9729a1"),v=v(),ke(),v),Xa={class:"item-card"},Za={key:0,class:"slot-label text-center pt-1 pb-1"},Ka={class:"flex px-2 pt-2"},ei={class:"flex flex-column ml-1"},ti={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},si={class:"flex"},li={key:0},ai={key:1},ii={key:2,class:"ml-1"},ni=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),oi={class:"flex flex-column"},ci=Ye(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),ri={key:0,class:"item-card-tooltip"},ui={key:0,class:"effect-header existing-item flex pt-2 px-1"},di={class:"flex flex-column ml-1"},pi={class:"item-name mr-2"},mi={class:"flex"},hi={key:0},vi={key:1},gi={key:2,class:"ml-1"},fi=Ye(()=>e("div",{class:"ml-1"},"(equipped)",-1)),_i={class:"effect-header flex pt-2 px-1"},bi={class:"flex flex-column ml-1"},$i={class:"item-name mr-2"},yi={class:"flex"},ki={key:0},Si={key:1},xi={key:2,class:"ml-1"},wi={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},setup(v){let h=v,R=document;const l=ze(),o=ge("currentCharacter"),{getItemEncyclopediaUrl:f}=Ke(),{equipItem:X}=je(o),P=pe(()=>{var w,q;let B=h.item.type.validSlots[0];return((w=o.value.equipment[B])==null?void 0:w.id)!==((q=h.item)==null?void 0:q.id)?o.value.equipment[B]:null}),se=(H,B)=>{X(H,B,l)},Z=H=>{let B=f(H);window.open(B,"_blank")};return(H,B)=>{const w=W("p-image"),q=W("p-button"),F=W("tippy");return c(),re(De,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(R).body,sticky:v.sticky,"max-width":500},{trigger:p(()=>[e("div",Xa,[v.withSlotLabel?(c(),u("div",Za,t(v.item.type.validSlots[0]==="LEFT_HAND"?"Ring":H.$t(a(ee)[v.item.type.validSlots[0]].name))+" Slot ",1)):te("",!0),e("div",Ka,[s(w,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ei,[e("div",ti,t(H.$t(`items.${v.item.id}`)),1),e("div",si,[s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(v.item.type.id)?(c(),u("div",li,"Item Level: "+t(v.item.id===12237?"25":"50"),1)):(c(),u("div",ai,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",ii,t(v.item.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0)])]),ni,e("div",oi,[s(q,{icon:"pi pi-plus",class:"action-button mb-1",onClick:B[0]||(B[0]=T=>se(v.item,T))}),s(F,{placement:"left"},{content:p(()=>[ci]),default:p(()=>[s(q,{icon:"pi pi-question-circle",class:"action-button",onClick:B[1]||(B[1]=T=>Z(v.item))})]),_:1})])])])]),content:p(()=>[v.item?(c(),u("div",ri,[P.value&&v.withComparisons?(c(),u("div",ui,[s(w,{src:`https://tmktahu.github.io/WakfuAssets/items/${P.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",di,[e("div",pi,t(H.$t(`items.${P.value.id}`)),1),e("div",mi,[s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${P.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${P.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(P.value.type.id)?(c(),u("div",hi,"Item Level: "+t(P.value.id===12237?"25":"50"),1)):(c(),u("div",vi,"Lvl: "+t(P.value.level),1)),P.value.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",gi,t(P.value.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0),fi])])])):te("",!0),s(qe,{item:v.item,"with-comparisons":v.withComparisons,"with-totals":v.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",_i,[s(w,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",bi,[e("div",$i,t(H.$t(`items.${v.item.id}`)),1),e("div",yi,[s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(w,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(v.item.type.id)?(c(),u("div",ki,"Item Level: "+t(v.item.id===12237?"25":"50"),1)):(c(),u("div",Si,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",xi,t(v.item.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0)])])])])):te("",!0)]),_:1},8,["append-to","sticky"])}}},st=$e(wi,[["__scopeId","data-v-fc9729a1"]]),Ci={class:"flex align-items-center"},Vi={class:"mx-2"},Ai=e("i",{class:"mdi mdi-information-outline"},null,-1),qi={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(h,R)=>{const l=W("p-checkbox"),o=W("tippy");return c(),u("div",Ci,[s(l,Ne(h.$attrs,{binary:!0}),null,16),e("div",Vi,t(v.label),1),v.tooltipText?(c(),re(o,{key:0,placement:"left",duration:"0"},{content:p(()=>[e("div",qi,t(v.tooltipText),1)]),default:p(()=>[Ai]),_:1})):te("",!0)])}}};const lt=v=>(ye("data-v-343c9a4a"),v=v(),ke(),v),Wi={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Ei={class:"flex align-items-center"},Ii={class:"px-2 py-1"},Pi={class:"px-2 py-1"},Ti=lt(()=>e("div",{class:"flex-grow-1"},null,-1)),Di={class:"ml-2"},Mi={class:"flex align-items-center gap-4 mt-2"},Ri={key:0,class:"flex"},Li={key:0,class:"item-card with-stats"},Ui={class:"flex px-2 pt-2"},Fi={class:"flex flex-column ml-1"},Oi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Ni={class:"flex"},ji={key:0},Hi={key:1},Bi={key:2,class:"ml-1"},zi=lt(()=>e("div",{class:"flex-grow-1"},null,-1)),Gi={class:"flex flex-column gap-1"},Yi={key:1},Ji={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Qi={class:"text-center mt-2"},Xi={class:"flex justify-content-center"},Zi={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Ki={__name:"EquipmentTabContent",setup(v,{expose:h}){const R=ze(),{t:l}=Ge(),o=ge("currentCharacter"),f=ge("currentItemList"),X=ge("itemListLoading"),P=ge("itemFilters"),se=$(null),Z=$(4),{getNumTotalItems:H}=je(),{getItemEncyclopediaUrl:B}=Ke(),w=()=>{Z.value=Math.floor((se.value.clientWidth-16)/(T.value?310+5:230+5))};window.addEventListener("resize",w);let q=pe(()=>{let b=[],L=[];return f.value.forEach(K=>{L.length===Z.value?(b.push(L),L=[K]):L.push(K)}),L.length>0&&b.push(L),b.length===0&&b.push([]),b});const F=$(!1),T=$(!1),_=$(!1),O=$(!1),G=()=>{F.value=!0,Pe(()=>{w()})};Te(T,()=>{Pe(()=>{F.value=!1,Pe(()=>{F.value=!0,Pe(()=>{w()})})})});const z=(b,L)=>{let K=b.type.validSlots.includes(ee.LEFT_HAND.id)||b.type.validSlots.includes(ee.RIGHT_HAND.id),N=b.type.disabledSlots.includes(ee.SECOND_WEAPON.id)&&o.value.equipment[ee.SECOND_WEAPON.id]!==null,k=b.type.validSlots[0]===ee.SECOND_WEAPON.id&&o.value.equipment[ee.FIRST_WEAPON.id]!==null&&o.value.equipment[ee.FIRST_WEAPON.id].type.disabledSlots.includes(ee.SECOND_WEAPON.id),C=!1,J=null,le=!1,D=null;Object.keys(o.value.equipment).forEach(ie=>{b.rarity===5&&o.value.equipment[ie]!==null&&o.value.equipment[ie].rarity===5&&(C=!0,J=ie),b.rarity===7&&o.value.equipment[ie]!==null&&o.value.equipment[ie].rarity===7&&(le=!0,D=ie)});let V=null;C&&(V=l("characterSheet.equipmentContent.hasRelicWarning")),le&&(V=l("characterSheet.equipmentContent.hasEpicWarning")),N&&(V=l("characterSheet.equipmentContent.twoHandedWeaponWarning")),k&&(V=l("characterSheet.equipmentContent.secondWeaponWarning")),C&&N&&(V=l("characterSheet.equipmentContent.relicAndTwoHandedWarning")),C&&k&&(V=l("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),le&&N&&(V=l("characterSheet.equipmentContent.epicAndTwoHandedWarning")),le&&k&&(V=l("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),N||k||C||le?R.require({group:"popup",target:L.currentTarget,message:V,accept:()=>{K&&(o.value.equipment[ee.LEFT_HAND.id]===null?o.value.equipment[ee.LEFT_HAND.id]=b:o.value.equipment[ee.RIGHT_HAND.id]=b),N&&(o.value.equipment[ee.FIRST_WEAPON.id]=b,o.value.equipment[ee.SECOND_WEAPON.id]=null),k&&(o.value.equipment[ee.FIRST_WEAPON.id]=null,o.value.equipment[ee.SECOND_WEAPON.id]=b),C&&(o.value.equipment[J]=null,o.value.equipment[b.type.validSlots[0]]=b),le&&(o.value.equipment[D]=null,o.value.equipment[b.type.validSlots[0]]=b)}}):K?o.value.equipment[ee.LEFT_HAND.id]===null?o.value.equipment[ee.LEFT_HAND.id]=b:o.value.equipment[ee.RIGHT_HAND.id]=b:b.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",b.type):o.value.equipment[b.type.validSlots[0]]=b},M=b=>{let L=B(b);window.open(L,"_blank")};return h({showList:G}),(b,L)=>{const K=W("p-divider"),N=W("p-dropdown"),k=W("p-image"),C=W("p-button"),J=W("p-virtualScroller"),le=W("p-progressSpinner");return c(),u("div",Wi,[s(et,{character:a(o),"with-totals":_.value},null,8,["character","with-totals"]),s(Qa),s(K,{class:"mt-3 mb-2"}),e("div",Ei,[e("div",null,t(b.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(N,{modelValue:a(P).sortBy,"onUpdate:modelValue":L[0]||(L[0]=D=>a(P).sortBy=D),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:a(it)},{value:p(D=>[he(t(b.$t(D.value.label)),1)]),option:p(D=>[e("div",Ii,t(b.$t(D.option.label)),1)]),_:1},8,["modelValue","options"]),s(N,{modelValue:a(P).sortOrder,"onUpdate:modelValue":L[1]||(L[1]=D=>a(P).sortOrder=D),class:"sort-dropdown ml-2","option-label":"label",options:a(nt)},{value:p(D=>[he(t(b.$t(D.value.label)),1)]),option:p(D=>[e("div",Pi,t(b.$t(D.option.label)),1)]),_:1},8,["modelValue","options"]),Ti,e("div",Di,t(a(f).length)+" "+t(b.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(H)())+" "+t(b.$t("characterSheet.equipmentContent.itemsTotal")),1)]),e("div",Mi,[s(be,{modelValue:T.value,"onUpdate:modelValue":L[2]||(L[2]=D=>T.value=D),label:b.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(be,{modelValue:_.value,"onUpdate:modelValue":L[3]||(L[3]=D=>_.value=D),label:b.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:O.value,"onUpdate:modelValue":L[4]||(L[4]=D=>O.value=D),label:b.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),F.value&&!a(X)?(c(),u("div",{key:0,ref_key:"itemResultsWrapper",ref:se,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(J,{items:a(q),"item-size":[T.value?215:65,T.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:p(({item:D})=>[a(q)[0].length>0?(c(),u("div",Ri,[(c(!0),u(Y,null,oe(D,(V,I)=>(c(),u(Y,{key:I},[T.value&&V?(c(),u("div",Li,[e("div",Ui,[s(k,{src:`https://tmktahu.github.io/WakfuAssets/items/${V.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Fi,[e("div",Oi,t(b.$t(`items.${V.id}`)),1),e("div",Ni,[s(k,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${V.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(k,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${V.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(V.type.id)?(c(),u("div",ji,t(b.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(V.id===12237?"25":"50"),1)):(c(),u("div",Hi,"Lvl: "+t(V.level),1)),V.type.validSlots[0]===a(ee).FIRST_WEAPON.id?(c(),u("div",Bi,t(V.type.disabledSlots.includes(a(ee).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):te("",!0)])]),zi,e("div",Gi,[s(C,{icon:"pi pi-plus",class:"equip-button",onClick:ie=>z(V,ie)},null,8,["onClick"]),s(C,{icon:"pi pi-question-circle",class:"equip-button",onClick:ie=>M(V)},null,8,["onClick"])])]),s(qe,{"card-mode":"",item:V,"with-totals":_.value,"with-comparisons":O.value},null,8,["item","with-totals","with-comparisons"])])):(c(),re(st,{key:1,item:V,"with-totals":_.value,"with-comparisons":O.value},null,8,["item","with-totals","with-comparisons"]))],64))),128))])):(c(),u("div",Yi,t(b.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(c(),u("div",Ji,[e("div",Qi,t(b.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Xi,[e("div",Zi,[s(le,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(le,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},en=$e(Ki,[["__scopeId","data-v-343c9a4a"]]);const Se=v=>(ye("data-v-22a133ae"),v=v(),ke(),v),tn={class:"w-full h-full"},sn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ln={class:"simple-tooltip"},an={class:"flex mt-2"},nn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},on={class:"disabled-mask"},cn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),rn={key:1,class:"spell-button disabled"},un={class:"disabled-mask"},dn={class:"mt-3"},pn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),mn={class:"simple-tooltip"},hn={class:"flex mt-2"},vn={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},gn={key:0},fn=["onClick"],_n=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),bn={class:"spell-tooltip"},$n={class:"spell-name px-2 py-1"},yn={class:"spell-description px-2 py-1"},kn=["innerHTML"],Sn={key:0,class:"spell-unlock-number"},xn={class:"flex flex-wrap gap-1"},wn=["onClick"],Cn=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Vn=Se(()=>e("div",{class:"disabled-mask"},null,-1)),An={key:0,class:"spell-unlock-number"},qn={class:"spell-tooltip"},Wn={class:"spell-name px-2 py-1"},En={class:"spell-description px-2 py-1"},In=["innerHTML"],Pn={class:"flex flex-wrap gap-1"},Tn=["onClick"],Dn=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Mn=Se(()=>e("div",{class:"disabled-mask"},null,-1)),Rn={key:0,class:"spell-unlock-number"},Ln={class:"spell-tooltip"},Un={class:"spell-name px-2 py-1"},Fn={class:"spell-description px-2 py-1"},On=["innerHTML"],Nn={__name:"SpellTabContent",setup(v){const h=ge("currentCharacter"),{getClassPassiveSpells:R,getSpellHtml:l,getSpellLevel:o}=ot(h),f=pe(()=>R(h.value.class).sort((F,T)=>{let _=Ae[F.id],O=Ae[T.id];return _-O})),X=pe(()=>R("all").sort((F,T)=>{let _=Ae[F.id],O=Ae[T.id];return _-O})),P=w=>{w.category===He.passive&&(Object.keys(h.value.spells).forEach(q=>{var F;q.includes(He.passive)&&((F=h.value.spells[q])==null?void 0:F.id)===w.id&&(h.value.spells[q]=null)}),Object.keys(h.value.spells).some(q=>{if(q.includes(He.passive)&&B(parseInt(q.replace("passiveSlot","")))&&h.value.spells[q]===null)return h.value.spells[q]=w,!0}))},se=w=>{h.value.spells[w]=null},Z=w=>{let q=!1;return Object.keys(h.value.spells).forEach(F=>{var T;((T=h.value.spells[F])==null?void 0:T.id)===w.id&&(q=!0)}),q},H=w=>{let q=Ae[w.id];return h.value.level>=q},B=w=>{let q=Je[w-1];return h.value.level>=q};return(w,q)=>{const F=W("tippy"),T=W("p-image");return c(),u("div",tn,[e("div",null,[s(F,{placement:"left"},{content:p(()=>[e("div",ln,t(w.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:p(()=>[sn]),_:1}),he(" "+t(w.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",an,[e("div",nn,[(c(),u(Y,null,oe(12,_=>(c(),u(Y,{key:_},[a(h).spells["activeSlot"+_]!==null?(c(),u("div",{key:0,class:"spell-button disabled",onClick:q[0]||(q[0]=O=>se(w.spell))},[e("div",on,t(),1),cn,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(h).spells["activeSlot"+_].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),u("div",rn,[s(T,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",un,t(),1)]))],64))),64))])]),e("div",dn,[s(F,{placement:"left"},{content:p(()=>[e("div",mn,t(w.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:p(()=>[pn]),_:1}),he(" "+t(w.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",hn,[e("div",vn,[(c(),u(Y,null,oe(6,_=>(c(),u(Y,{key:_},[a(h).spells["passiveSlot"+_]!==null?(c(),u("div",gn,[s(F,{duration:"0"},{content:p(()=>[e("div",bn,[e("div",$n,t(a(h).spells["passiveSlot"+_].name)+" (Level "+t(a(o)(a(h).spells["passiveSlot"+_]))+") ",1),e("div",yn,t(a(h).spells["passiveSlot"+_].description),1),e("div",{class:"spell-details",innerHTML:a(l)(a(h).spells["passiveSlot"+_])},null,8,kn)])]),default:p(()=>[e("div",{class:"spell-button",onClick:O=>se("passiveSlot"+_)},[_n,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(h).spells["passiveSlot"+_].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,fn)]),_:2},1024)])):(c(),u("div",{key:1,class:ne(["spell-slot",{disabled:!B(_)}])},[s(T,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),B(_)?te("",!0):(c(),u("div",Sn,t(a(Je)[_-1]),1))],2))],64))),64))]),e("div",xn,[(c(!0),u(Y,null,oe(f.value,_=>(c(),re(F,{key:_.id,duration:"0"},{content:p(()=>[e("div",qn,[e("div",Wn,t(_.name)+" (Level "+t(a(o)(_))+")",1),e("div",En,t(_.description),1),e("div",{class:"spell-details",innerHTML:a(l)(_)},null,8,In)])]),default:p(()=>[e("div",{class:ne(["spell-button",{disabled:Z(_)||!H(_)}]),onClick:O=>P(_)},[Cn,Vn,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${_.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),H(_)?te("",!0):(c(),u("div",An,t(a(Ae)[_.id]),1))],10,wn)]),_:2},1024))),128))]),e("div",Pn,[(c(!0),u(Y,null,oe(X.value,_=>(c(),re(F,{key:_.id,duration:"0"},{content:p(()=>[e("div",Ln,[e("div",Un,t(_.name)+" (Level "+t(a(o)(_))+")",1),e("div",Fn,t(_.description),1),e("div",{class:"spell-details",innerHTML:a(l)(_)},null,8,On)])]),default:p(()=>[e("div",{class:ne(["spell-button",{disabled:Z(_)||!H(_)}]),onClick:O=>P(_)},[Dn,Mn,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${_.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),H(_)?te("",!0):(c(),u("div",Rn,t(a(Ae)[_.id]),1))],10,Tn)]),_:2},1024))),128))])])])}}},jn=$e(Nn,[["__scopeId","data-v-22a133ae"]]),Hn={class:"flex align-items-center"},Bn={class:"mx-2"},zn=e("i",{class:"mdi mdi-information-outline"},null,-1),Gn={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(h,R)=>{const l=W("p-inputNumber"),o=W("tippy");return c(),u("div",Hn,[s(l,Ne(h.$attrs,{class:"number-input"}),null,16),e("div",Bn,t(v.label),1),s(o,{placement:"left",duration:"0"},{content:p(()=>[e("div",Gn,t(v.tooltipText),1)]),default:p(()=>[zn]),_:1})])}}};const Re=v=>(ye("data-v-385dc262"),v=v(),ke(),v),Yn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Jn={class:"flex flex-column mt-4"},Qn={class:"flex"},Xn={class:"flex mt-3"},Zn={class:"setting-group flex flex-column mr-3 gap-2"},Kn={class:"mb-2"},eo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),to={class:"simple-tooltip"},so={class:"setting-group flex flex-column mr-3"},lo={class:"flex flex-column gap-2"},ao={class:"mb-2"},io=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),no={class:"simple-tooltip"},oo={class:"flex align-items-center"},co={class:"mr-2"},ro={class:"px-2 py-1"},uo={class:"flex align-items-center"},po={class:"mr-2"},mo={class:"px-2 py-1"},ho={class:"flex align-items-center"},vo={class:"mr-2"},go={class:"px-2 py-1"},fo={class:"flex align-items-center"},_o={class:"mr-2"},bo={class:"px-2 py-1"},$o={class:"flex align-items-center"},yo={class:"mr-2"},ko={class:"px-2 py-1"},So={class:"flex flex-column"},xo={class:"rarity-container"},wo={class:"flex align-items-center mb-1"},Co=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Vo={class:"simple-tooltip"},Ao={class:"mr-2 ml-1"},qo={class:"rarity-button-wrapper"},Wo={class:"flex justify-content-center align-items-center"},Eo={class:"simple-tooltip"},Io={class:"setting-group flex flex-column gap-2 mt-2"},Po={class:"mb-2"},To=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Do={class:"simple-tooltip"},Mo={key:0,class:"warning-message mt-2 py-1 px-2"},Ro={class:"flex align-items-center mt-3"},Lo=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),Uo=["innerHTML"],Fo={class:"flex align-items-center gap-4 mt-2"},Oo={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},No={key:0,class:"error-state px-3 py-3"},jo={key:0,class:"mt-1"},Ho={key:1},Bo={class:"mt-3"},zo={key:0,class:"mt-2"},Go={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Yo={key:1},Jo={class:"flex flex-wrap gap-1 mt-2"},Qo={key:2,class:"loading-state px-3 py-3"},Xo={class:"mt-2"},Zo={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Ko={class:"text-center mt-2"},ec={class:"text-center mb-5 mt-2"},tc={class:"flex justify-content-center"},sc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},lc={__name:"ItemSolverTabContent",setup(v){const{t:h}=Ge(),R=ze(),l=ge("currentCharacter"),{equipItem:o}=je(l),{runCalculations:f,autoBuilderIsReady:X,itemSet:P,builderLoading:se,builderError:Z}=ct(),{createBuildCode:H}=Ze(),B=$(!1),w=$(!1),q=$(!1),F=pe(()=>{if(B.value)return P.value;{let d=Object.keys(l.value.equipment).map(S=>{if(l.value.equipment[S])return l.value.equipment[S].id}).filter(S=>S!==void 0);return P.value?P.value.filter(S=>!d.includes(S.id)):[]}}),T=$(l.value.actionPoints),_=$(l.value.movementPoints),O=$(l.value.stats.range),G=$(l.value.wakfuPoints),z=$(!1),M=$(!1),b=$(!1),L=$(!1),K=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],N=[...K,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],k=$(K[0]),C=$(K[0]),J=$(K[0]),le=$(K[0]),D=$(K[0]),V=$(!0),I=$(rt.map(d=>({...d,checked:!0}))),ie=$(!0);Te(X,()=>{ie.value=!1});const ue=()=>{I.value.forEach(d=>{d.checked=!0})},ve=()=>{I.value.forEach(d=>{d.checked=!1})},y=pe(()=>X.value),g=pe(()=>H(l.value)),U=$(null);Te([T,_,O,G],()=>{U.value=null,T.value-l.value.actionPoints>=6?U.value=h("characterSheet.itemSolverContent.apWarning"):O.value-l.value.stats.range>5?U.value=h("characterSheet.itemSolverContent.rangeImpossibleWarning"):l.value.level<35?O.value-l.value.stats.range>0&&(U.value=h("characterSheet.itemSolverContent.rangeForLevelWarning")):l.value.level<50?O.value-l.value.stats.range>1?U.value=h("characterSheet.itemSolverContent.rangeForLevelWarning"):T.value-l.value.actionPoints+_.value-l.value.movementPoints>4&&(U.value=h("characterSheet.itemSolverContent.combinedApMpWarning")):l.value.level<80&&O.value-l.value.stats.range>3&&(U.value=h("characterSheet.itemSolverContent.rangeForLevelWarning"))});const We=async()=>{let d=I.value.filter(ce=>ce.checked).map(ce=>ce.id),S={buildCode:g.value,meleeMasteryPriority:k.value,distanceMasteryPriority:C.value,healingMasteryPriority:J.value,rearMasteryPriority:le.value,berserkMasteryPriority:D.value,fireMastery:z.value,earthMastery:M.value,waterMastery:b.value,airMastery:L.value,targetApAmount:T.value||0,targetMpAmount:_.value||0,targetRangeAmount:O.value||0,targetWpAmount:G.value||0,selectedRarityIds:d,ignoreEquippedItems:!V.value};f(S)},n=d=>{R.require({group:"popup",target:d.currentTarget,message:h("confirms.willReplaceItems"),accept:()=>{P.value.forEach(S=>{o(S)})}})},i=(d,S)=>{d.ctrlKey&&I.value.forEach(ce=>{ce.id!==S?ce.checked=!1:ce.checked=!0})},E=()=>`<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>'s`;return(d,S)=>{var Ve,r,A;const ce=W("tippy"),fe=W("p-dropdown"),_e=W("p-button"),we=W("p-image"),Ee=W("p-checkbox"),Ce=W("p-progressSpinner");return c(),u("div",Yn,[s(et,{character:a(l)},null,8,["character"]),e("div",Jn,[e("div",Qn,[s(be,{modelValue:V.value,"onUpdate:modelValue":S[0]||(S[0]=m=>V.value=m),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Xn,[e("div",Zn,[e("div",Kn,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",to,t(d.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:p(()=>[eo]),_:1}),he(" "+t(d.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ue,{modelValue:T.value,"onUpdate:modelValue":S[1]||(S[1]=m=>T.value=m),label:d.$t("constants.actionPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:_.value,"onUpdate:modelValue":S[2]||(S[2]=m=>_.value=m),label:d.$t("constants.movementPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:O.value,"onUpdate:modelValue":S[3]||(S[3]=m=>O.value=m),label:d.$t("constants.range"),"tooltip-text":d.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:G.value,"onUpdate:modelValue":S[4]||(S[4]=m=>G.value=m),label:d.$t("constants.wakfuPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",so,[e("div",lo,[e("div",ao,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",no,t(d.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:p(()=>[io]),_:1}),he(" "+t(d.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",oo,[e("div",co,t(d.$t("constants.meleeMastery")),1),s(fe,{modelValue:k.value,"onUpdate:modelValue":S[5]||(S[5]=m=>k.value=m),class:"condensed-dropdown","option-label":"label",options:K},{value:p(m=>[he(t(d.$t(m.value.label)),1)]),option:p(m=>[e("div",ro,t(d.$t(m.option.label)),1)]),_:1},8,["modelValue"])]),e("div",uo,[e("div",po,t(d.$t("constants.distanceMastery")),1),s(fe,{modelValue:C.value,"onUpdate:modelValue":S[6]||(S[6]=m=>C.value=m),class:"condensed-dropdown","option-label":"label",options:K},{value:p(m=>[he(t(d.$t(m.value.label)),1)]),option:p(m=>[e("div",mo,t(d.$t(m.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ho,[e("div",vo,t(d.$t("constants.healingMastery")),1),s(fe,{modelValue:J.value,"onUpdate:modelValue":S[7]||(S[7]=m=>J.value=m),class:"condensed-dropdown","option-label":"label",options:K},{value:p(m=>[he(t(d.$t(m.value.label)),1)]),option:p(m=>[e("div",go,t(d.$t(m.option.label)),1)]),_:1},8,["modelValue"])]),e("div",fo,[e("div",_o,t(d.$t("constants.rearMastery")),1),s(fe,{modelValue:le.value,"onUpdate:modelValue":S[8]||(S[8]=m=>le.value=m),class:"condensed-dropdown","option-label":"label",options:N},{value:p(m=>[he(t(d.$t(m.value.label)),1)]),option:p(m=>[e("div",bo,t(d.$t(m.option.label)),1)]),_:1},8,["modelValue"])]),e("div",$o,[e("div",yo,t(d.$t("constants.berserkMastery")),1),s(fe,{modelValue:D.value,"onUpdate:modelValue":S[9]||(S[9]=m=>D.value=m),class:"condensed-dropdown","option-label":"label",options:N},{value:p(m=>[he(t(d.$t(m.value.label)),1)]),option:p(m=>[e("div",ko,t(d.$t(m.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",So,[e("div",xo,[e("div",wo,[s(_e,{class:"filter-button item-filter-action mr-2",label:d.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ue},null,8,["label"]),s(ce,{placement:"top"},{content:p(()=>[e("div",Vo,t(d.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:p(()=>[Co]),_:1}),e("div",Ao,t(d.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(_e,{class:"filter-button item-filter-action",label:d.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ve},null,8,["label"])]),e("div",qo,[(c(!0),u(Y,null,oe(I.value,m=>(c(),re(ce,{key:m.id,duration:"0"},{content:p(()=>[e("div",Eo,t(d.$t(m.name)),1)]),default:p(()=>[s(Ee,{modelValue:m.checked,"onUpdate:modelValue":de=>m.checked=de,binary:!0,class:"rarity-checkbox",onChange:de=>i(de,m.id)},{icon:p(de=>[e("div",Wo,[s(we,{class:ne({disabled:!de.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Io,[e("div",Po,[s(ce,{placement:"top",duration:"0"},{content:p(()=>[e("div",Do,t(d.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:p(()=>[To]),_:1}),he(" "+t(d.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:z.value,"onUpdate:modelValue":S[10]||(S[10]=m=>z.value=m),label:d.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:M.value,"onUpdate:modelValue":S[11]||(S[11]=m=>M.value=m),label:d.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:b.value,"onUpdate:modelValue":S[12]||(S[12]=m=>b.value=m),label:d.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:L.value,"onUpdate:modelValue":S[13]||(S[13]=m=>L.value=m),label:d.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),U.value!==null?(c(),u("div",Mo,t(U.value),1)):te("",!0)]),e("div",Ro,[s(_e,{class:"py-2 px-3 mr-2",disabled:!y.value,label:(Ve=F.value)!=null&&Ve.length?"Re-Generate Item Set":"Generate Item Set",onClick:We},null,8,["disabled","label"]),s(_e,{class:"py-2 px-3 mr-2",disabled:!((r=F.value)!=null&&r.length),label:"Equip All Items",onClick:S[14]||(S[14]=m=>n(m))},null,8,["disabled"]),Lo,e("div",{innerHTML:d.$t("characterSheet.itemSolverContent.poweredBy",{credit:E()})},null,8,Uo)]),e("div",Fo,[s(be,{modelValue:B.value,"onUpdate:modelValue":S[15]||(S[15]=m=>B.value=m),label:d.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(be,{modelValue:w.value,"onUpdate:modelValue":S[16]||(S[16]=m=>w.value=m),label:d.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:q.value,"onUpdate:modelValue":S[17]||(S[17]=m=>q.value=m),label:d.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(se)?(c(),u("div",Zo,[e("div",Ko,t(d.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",ec,t(d.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",tc,[e("div",sc,[s(Ce,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ce,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),u("div",Oo,[a(Z)?(c(),u("div",No,[a(Z).debug?(c(),u("div",jo,t(d.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),u("div",Ho,t(d.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Bo,[e("div",null,"Error Code: "+t(a(Z).message),1),a(Z).debug?(c(),u("div",zo,[e("div",Go,"Debug Code: "+t(a(Z).debug),1)])):te("",!0)])])):(A=F.value)!=null&&A.length?(c(),u("div",Yo,[e("div",Jo,[(c(!0),u(Y,null,oe(F.value,m=>(c(),u("div",{key:m.id,class:"item-card-wrapper"},[s(st,{item:m,"with-slot-label":"","with-comparisons":q.value,"with-totals":w.value},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(c(),u("div",Qo,[e("div",null,t(d.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Xo,t(d.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},ac=$e(lc,[["__scopeId","data-v-385dc262"]]);const xe=v=>(ye("data-v-67b1a5cf"),v=v(),ke(),v),ic={class:"flex h-full"},nc={class:"flex flex-column"},oc={class:"mb-2"},cc={class:"flex"},rc={class:"mr-2"},uc=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),dc={class:"simple-tooltip flex flex-column"},pc={class:"mb-1"},mc={class:"mb-1"},hc={class:"mb-1"},vc={class:"mb-1"},gc={class:"mb-1"},fc={class:"mb-1"},_c={key:0,class:"item-runes-section flex align-items-center mb-2"},bc=["onClick"],$c=["onClick","onDrop","onContextmenu","onDragstart"],yc={class:"rune-image"},kc={class:"rune-level"},Sc={class:"simple-tooltip"},xc=["onDrop"],wc={class:"rune-image"},Cc=["onDrop","onClick"],Vc={key:0,class:"sublimation-entry flex align-items-center px-2"},Ac={class:"ml-1"},qc=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Wc={key:0,class:"item-card-tooltip"},Ec={class:"effect-header flex pt-2 px-1"},Ic={class:"flex flex-column ml-1"},Pc={class:"item-name mr-2"},Tc={class:"rune-requirements flex justify-content-left gap-1 py-1"},Dc=["onDrop","onClick"],Mc={class:"px-2",style:{opacity:"0.5"}},Rc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},Lc={class:"slot-image"},Uc=["onDrop"],Fc={class:"info-text"},Oc={class:"flex mb-2"},Nc={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},jc={class:"ml-1"},Hc={key:1,class:"flex align-items-center px-2 py-2"},Bc={class:"ml-1"},zc=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Gc={key:0,class:"item-card-tooltip"},Yc={class:"effect-header flex pt-2 px-1"},Jc={class:"flex flex-column ml-1"},Qc={class:"item-name mr-2"},Xc={class:"flex justify-content-left py-1 text-xs"},Zc={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Kc={class:"ml-1"},er={key:1,class:"flex align-items-center px-2 py-2"},tr={class:"ml-1"},sr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),lr={key:0,class:"item-card-tooltip"},ar={class:"effect-header flex pt-2 px-1"},ir={class:"flex flex-column ml-1"},nr={class:"item-name mr-2"},or={class:"flex justify-content-left py-1 text-xs"},cr={class:"stats-summary"},rr={class:"text-lg my-1 pl-2"},ur={class:"stats-summary-list flex flex-column"},dr={key:0,class:"summary-entry px-2 py-1"},pr={class:"ml-2"},mr={class:"flex px-2 py-1"},hr={class:"flex ml-2"},vr={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},gr=xe(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),fr={class:"flex flex-column mr-3"},_r={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},br={class:"flex align-items-center justify-content-center"},$r=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),yr={class:"simple-tooltip"},kr={class:"mx-2"},Sr={class:"rune-options flex flex-column mt-2"},xr=["onDragstart","onClick"],wr={class:"ml-2"},Cr=xe(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Vr={class:"ml-3 mt-2"},Ar={key:0,class:"flex flex-column",style:{"min-width":"300px"}},qr={class:"flex mt-2"},Wr={class:"mx-2"},Er=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ir={class:"simple-tooltip"},Pr=["onDragstart"],Tr={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},Dr={class:"effect-header flex pt-2 px-1"},Mr={class:"flex flex-column ml-1"},Rr={class:"item-name"},Lr={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},Ur={class:"flex mt-2"},Fr={class:"mx-2"},Or={class:"mx-2"},Nr=["onClick","onDragstart"],jr={class:"ml-1"},Hr={class:"effect-header flex pt-2 px-1"},Br={class:"flex flex-column ml-1"},zr={class:"item-name"},Gr={class:"flex justify-content-left py-1 text-xs"},Yr={key:0,class:"flex flex-column px-4 py-2"},Jr={class:"mb-2"},Qr={class:"ml-2"},Xr={__name:"RunesSubsTabContent",setup(v,{expose:h}){const{t:R}=Ge();let l=document;const o=ge("currentCharacter"),{getRuneValue:f}=Qe(),{getRunes:X,getSublimations:P,canSublimationFit:se}=je(),Z=pe(()=>X().sort((n,i)=>n.shardsParameters.color-i.shardsParameters.color)),H=pe(()=>P().filter(n=>{var i;return n.sublimationParameters.slotColorPattern.length>0&&R(`items.${n.id}`).toLowerCase().includes((i=w.value)==null?void 0:i.toLowerCase())}).sort((n,i)=>R(`items.${n.id}`).localeCompare(R(`items.${i.id}`))).sort((n,i)=>{if(G.value&&F.value){let E=se(o.value.equipment[G.value],n)?1:0;return(se(o.value.equipment[G.value],i)?1:0)-E}else return 0})),B=pe(()=>P().filter(n=>{var i;return We(n)&&R(`items.${n.id}`).toLowerCase().includes((i=q.value)==null?void 0:i.toLowerCase())&&(n.sublimationParameters.isEpic?T.value:!0)&&(n.sublimationParameters.isRelic?_.value:!0)})),w=$(""),q=$(""),F=$(!0),T=$(!0),_=$(!0),O=$(1),G=$(null),z=$(null),M=$(null),b=$([{label:R("constants.level"),levelSlider:!0},{label:R("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{z.value&&(o.value.equipment[z.value.itemSlotKey][z.value.runeSlotKey].color===0?o.value.equipment[z.value.itemSlotKey][z.value.runeSlotKey].color=o.value.equipment[z.value.itemSlotKey][z.value.runeSlotKey].rune.shardsParameters.color:o.value.equipment[z.value.itemSlotKey][z.value.runeSlotKey].color=0)}},{label:R("constants.remove"),command:()=>{o.value.equipment[z.value.itemSlotKey][z.value.runeSlotKey]=null}}]),L=$(!1),K=()=>{L.value=!1,Pe(()=>{L.value=!0})},N=pe(()=>{let n={};return Object.keys(o.value.equipment).forEach(i=>{if(o.value.equipment[i]!==null){let E=o.value.equipment[i];for(let d=1;d<=4;d++){let S=E[`runeSlot${d}`];S&&(n[S.rune.id]||(n[S.rune.id]={totalValue:0,rune:S}),n[S.rune.id].totalValue+=f(S.rune,S.level,i))}E.subSlot&&(n[E.subSlot.equipEffects[0].values[0]]||(n[E.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:E.subSlot}),n[E.subSlot.equipEffects[0].values[0]].totalValue+=E.subSlot.equipEffects[0].values[2])}}),o.value.epicSubSlot&&(n[o.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:o.value.epicSubSlot}),o.value.relicSubSlot&&(n[o.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:o.value.relicSubSlot}),n}),k=(n,i)=>{n.stopPropagation(),G.value===i?G.value=null:G.value=i},C=(n,i,E)=>{n.shiftKey&&(o.value.equipment[i][E].color===0?o.value.equipment[i][E].color=o.value.equipment[i][E].rune.shardsParameters.color:o.value.equipment[i][E].color=0),n.ctrlKey&&(M.value.hide(),o.value.equipment[i][E]=null)},J=(n,i,E)=>{o.value.equipment[i][E]&&(z.value={itemSlotKey:i,runeSlotKey:E},M.value.show(n))},le=(n,i)=>{if(G.value&&o.value.equipment[G.value]!==null){let E=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let d in E)if(o.value.equipment[G.value][E[d]]===null||o.value.equipment[G.value][E[d]]===void 0){o.value.equipment[G.value][E[d]]={rune:i,color:i.shardsParameters.color,level:O.value};break}}},D=(n,i,E,d)=>{n.dataTransfer.dropEffect="move",n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("type",i),i==="rune"&&(n.dataTransfer.setData("rune",JSON.stringify(E)),d&&n.dataTransfer.setData("level",d)),i==="sublimation"&&n.dataTransfer.setData("sublimation",JSON.stringify(E))},V=(n,i,E)=>{try{let d=n.dataTransfer.getData("type");if(d==="rune"&&E.includes("rune")){let S=JSON.parse(n.dataTransfer.getData("rune")),ce=n.dataTransfer.getData("level");o.value.equipment[i][E]={rune:S,color:S.shardsParameters.color,level:ce||O.value}}if(d==="sublimation"){let S=JSON.parse(n.dataTransfer.getData("sublimation"));We(S)?S.sublimationParameters.isEpic&&E==="epicSubSlot"?o.value.epicSubSlot=S:S.sublimationParameters.isRelic&&E==="relicSubSlot"&&(o.value.relicSubSlot=S):o.value.equipment[i].subSlot=S}}catch(d){console.error(d)}},I=()=>{let n=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(o.value.equipment).forEach(i=>{o.value.equipment[i]&&(n.forEach(E=>{o.value.equipment[i][E]=void 0}),o.value.equipment[i].subSlot=null)})},ie=(n,i,E)=>{o.value[E]=i},ue=n=>{n==="epicSubSlot"?o.value.epicSubSlot=null:n==="relicSubSlot"?o.value.relicSubSlot=null:o.value.equipment[n].subSlot=null},ve=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},y=n=>{if(n)switch(n){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},g=n=>Object.keys(ee).find(i=>ee[i].rawId===n),U=pe(()=>{let n=1;return ut.some((i,E)=>i<=o.value.level?(n=E+1,!1):!0),n}),We=n=>n.sublimationParameters.isRelic||n.sublimationParameters.isEpic;return Te(()=>o.value.level,()=>{O.value=U.value},{immediate:!0}),h({showLists:K}),(n,i)=>{const E=W("tippy"),d=W("p-image"),S=W("p-inputNumber"),ce=W("p-button"),fe=W("p-inputText"),_e=W("p-checkbox"),we=W("p-virtualScroller"),Ee=W("p-slider"),Ce=W("p-contextMenu"),Ve=dt("ripple");return c(),u("div",ic,[e("div",nc,[e("div",oc,[s(E,{placement:"left",duration:"0"},{content:p(()=>[e("div",dc,[e("div",pc,t(n.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",mc,t(n.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",hc,t(n.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",vc,t(n.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",gc,t(n.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",fc,t(n.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:p(()=>[e("div",cc,[e("div",rc,t(n.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),uc])]),_:1})]),(c(!0),u(Y,null,oe(Object.keys(a(o).equipment),r=>(c(),u(Y,{key:r},[r!=="ACCESSORY"&&r!=="PET"&&r!=="MOUNT"&&r!=="SECOND_WEAPON"?(c(),u(Y,{key:0},[r!=="undefined"&&a(o).equipment[r]?(c(),u("div",_c,[e("div",{class:ne(["slot-image",{highlighted:G.value===r}]),onClick:A=>k(A,r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,bc),(c(),u(Y,null,oe(4,A=>(c(),u(Y,{key:A},[a(o).equipment[r][`runeSlot${A}`]?(c(),re(E,{key:0,duration:"0"},{content:p(()=>[e("div",Sc," +"+t(a(f)(a(o).equipment[r][`runeSlot${A}`].rune,a(o).equipment[r][`runeSlot${A}`].level,r))+" "+t(n.$t(`items.${a(o).equipment[r][`runeSlot${A}`].rune.id}`)),1)]),default:p(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:m=>C(m,r,`runeSlot${A}`),onDragover:i[0]||(i[0]=me(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=me(()=>{},["prevent"])),onDrop:m=>V(m,r,`runeSlot${A}`),onContextmenu:m=>J(m,r,`runeSlot${A}`),onDragstart:m=>D(m,"rune",a(o).equipment[r][`runeSlot${A}`].rune,a(o).equipment[r][`runeSlot${A}`].level)},[e("div",yc,[s(d,{src:y(a(o).equipment[r][`runeSlot${A}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",kc,t(a(o).equipment[r][`runeSlot${A}`].level),1)],40,$c)]),_:2},1024)):(c(),u("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=me(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=me(()=>{},["prevent"])),onDrop:m=>V(m,r,`runeSlot${A}`)},[e("div",wc,[s(d,{src:ve(null),"image-style":"width: 26px"},null,8,["src"])])],40,xc))],64))),64)),a(o).equipment[r].subSlot?(c(),re(De,{key:0,"append-to":()=>a(l).body,offset:[0,-2],style:{height:"100%"}},{trigger:p(()=>[e("div",{class:ne(["sublimation-drop-zone ml-2",{invalid:!a(se)(a(o).equipment[r],a(o).equipment[r].subSlot)}]),onDragover:i[4]||(i[4]=me(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=me(()=>{},["prevent"])),onDrop:A=>V(A,r,"subSlot"),onClick:A=>ue(r)},[a(o).equipment[r].subSlot?(c(),u("div",Vc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(o).equipment[r].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Ac,t(n.$t(`items.${a(o).equipment[r].subSlot.id}`)),1)])):te("",!0),qc],42,Cc)]),content:p(()=>[a(o).equipment[r].subSlot?(c(),u("div",Wc,[e("div",Ec,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(o).equipment[r].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ic,[e("div",Pc,t(n.$t(`items.${a(o).equipment[r].subSlot.id}`)),1),e("div",Tc,[(c(!0),u(Y,null,oe(a(o).equipment[r].subSlot.sublimationParameters.slotColorPattern,(A,m)=>(c(),u("div",{key:m,class:"flex align-items-center"},[s(d,{src:y(A),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(qe,{item:a(o).equipment[r].subSlot},null,8,["item"])])):te("",!0)]),_:2},1032,["append-to"])):(c(),u("div",{key:1,class:ne(["sublimation-drop-zone ml-2",{invalid:!a(se)(a(o).equipment[r],a(o).equipment[r].subSlot)}]),onDragover:i[6]||(i[6]=me(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=me(()=>{},["prevent"])),onDrop:A=>V(A,r,"subSlot"),onClick:A=>ue(r)},[e("div",Mc,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,Dc))])):r!=="undefined"?(c(),u("div",Rc,[e("div",Lc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),u(Y,null,oe(4,A=>e("div",{key:A,class:"rune-drop-zone ml-2",onDragover:i[8]||(i[8]=me(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=me(()=>{},["prevent"])),onDrop:m=>V(m,r,`runeSlot${A}`)},null,40,Uc)),64)),e("div",Fc,t(n.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):te("",!0)],64)):te("",!0)],64))),128)),e("div",Oc,[s(E,{duration:"0",class:"flex h-full"},{content:p(()=>[a(o).epicSubSlot?(c(),u("div",Gc,[e("div",Yc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(o).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Jc,[e("div",Qc,t(n.$t(`items.${a(o).epicSubSlot.id}`)),1),e("div",Xc,t(a(o).epicSubSlot.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(a(o).epicSubSlot.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(qe,{item:a(o).epicSubSlot},null,8,["item"])])):te("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[10]||(i[10]=me(()=>{},["prevent"])),onDragenter:i[11]||(i[11]=me(()=>{},["prevent"])),onDrop:i[12]||(i[12]=r=>V(r,null,"epicSubSlot")),onClick:i[13]||(i[13]=r=>ue("epicSubSlot"))},[a(o).epicSubSlot?(c(),u("div",Nc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(o).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",jc,t(n.$t(`items.${a(o).epicSubSlot.id}`)),1)])):(c(),u("div",Hc,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Bc,t(n.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),zc],32)]),_:1}),s(E,{duration:"0",class:"flex h-full"},{content:p(()=>[a(o).relicSubSlot?(c(),u("div",lr,[e("div",ar,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(o).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ir,[e("div",nr,t(n.$t(`items.${a(o).relicSubSlot.id}`)),1),e("div",or,t(a(o).relicSubSlot.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(a(o).relicSubSlot.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(qe,{item:a(o).relicSubSlot},null,8,["item"])])):te("",!0)]),default:p(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[14]||(i[14]=me(()=>{},["prevent"])),onDragenter:i[15]||(i[15]=me(()=>{},["prevent"])),onDrop:i[16]||(i[16]=r=>V(r,null,"relicSubSlot")),onClick:i[17]||(i[17]=r=>ue("relicSubSlot"))},[a(o).relicSubSlot?(c(),u("div",Zc,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(o).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Kc,t(n.$t(`items.${a(o).relicSubSlot.id}`)),1)])):(c(),u("div",er,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",tr,t(n.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),sr],32)]),_:1})]),e("div",cr,[e("div",rr,t(n.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",ur,[(c(!0),u(Y,null,oe(Object.keys(N.value),r=>(c(),u(Y,{key:r},[N.value[r].rune?(c(),u("div",dr,[s(d,{src:y(N.value[r].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",pr,"+"+t(N.value[r].totalValue)+" "+t(n.$t(`items.${N.value[r].rune.rune.id}`)),1)])):N.value[r].sublimation?(c(),u("div",{key:1,class:ne(["summary-entry flex-column align-items-start",{warning:N.value[r].totalValue>a(Be)[N.value[r].sublimation.equipEffects[0].values[0]]}])},[e("div",mr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${N.value[r].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",hr,[e("span",null,t(n.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:N.value[r].totalValue})),1),s(De,{"append-to":()=>a(l).body,offset:[0,-2],"state-id":`${N.value[r].sublimation.equipEffects[0].values[0]}`,"current-level":N.value[r].totalValue},null,8,["append-to","state-id","current-level"])])]),N.value[r].totalValue>a(Be)[N.value[r].sublimation.equipEffects[0].values[0]]?(c(),u("div",vr,[gr,e("span",null,t(n.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Be)[N.value[r].sublimation.equipEffects[0].values[0]]})),1)])):te("",!0)],2)):te("",!0)],64))),128))])])]),e("div",fr,[e("div",_r,[e("div",br,[s(E,{placement:"left",duration:"0"},{content:p(()=>[e("div",yr,t(n.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:p(()=>[$r]),_:1}),e("span",kr,t(n.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(S,{modelValue:O.value,"onUpdate:modelValue":i[18]||(i[18]=r=>O.value=r),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:U.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Sr,[(c(!0),u(Y,null,oe(Z.value,r=>(c(),u("div",{key:r.id,class:ne(["rune-draggable mb-1 px-2",{highlighted:G.value&&r.shardsParameters.doubleBonusPosition.includes(a(ee)[G.value].rawId)}]),draggable:"true",onDragstart:A=>D(A,"rune",r),onClick:A=>le(A,r)},[s(d,{class:"rune-image",src:ve(r.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",wr,"+"+t(a(f)(r,O.value))+" "+t(n.$t(`items.${r.id}`)),1),Cr,(c(!0),u(Y,null,oe(r.shardsParameters.doubleBonusPosition,A=>(c(),u("div",{key:A,class:"ml-1"},[s(d,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${g(A)}.png`,class:ne({disabled:!a(o).equipment[g(A)]}),onClick:m=>k(m,g(A))},null,8,["src","class","onClick"])]))),128))],42,xr))),128))])]),e("div",Vr,[s(ce,{label:n.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:I},null,8,["label"])])]),L.value?(c(),u("div",Ar,[s(fe,{modelValue:w.value,"onUpdate:modelValue":i[19]||(i[19]=r=>w.value=r),class:"py-2 px-2",placeholder:n.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",qr,[s(_e,{modelValue:F.value,"onUpdate:modelValue":i[20]||(i[20]=r=>F.value=r),binary:!0},null,8,["modelValue"]),e("div",Wr,t(n.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(E,{placement:"top"},{content:p(()=>[e("div",Ir,t(n.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:p(()=>[Er]),_:1})]),H.value?(c(),re(we,{key:0,items:H.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:r})=>[s(De,{"append-to":()=>a(l).body,offset:[0,-2]},{trigger:p(()=>{var A,m;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{highlighted:a(se)(a(o).equipment[G.value],r)}]),draggable:"true",onDragstart:de=>D(de,"sublimation",r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(m=(A=r.sublimationParameters)==null?void 0:A.slotColorPattern)!=null&&m.length?(c(),u("div",Tr,[(c(!0),u(Y,null,oe(r.sublimationParameters.slotColorPattern,(de,Ie)=>(c(),u("div",{key:Ie,class:"flex align-items-center"},[s(d,{src:y(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):te("",!0),e("div",null,t(n.$t(`items.${r.id}`)),1)],42,Pr)]}),content:p(()=>{var A,m;return[e("div",Dr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Mr,[e("div",Rr,t(n.$t(`items.${r.id}`)),1),(m=(A=r.sublimationParameters)==null?void 0:A.slotColorPattern)!=null&&m.length?(c(),u("div",Lr,[(c(!0),u(Y,null,oe(r.sublimationParameters.slotColorPattern,(de,Ie)=>(c(),u("div",{key:Ie,class:"flex align-items-center"},[s(d,{src:y(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):te("",!0)])]),s(qe,{item:r},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):te("",!0),s(fe,{modelValue:q.value,"onUpdate:modelValue":i[21]||(i[21]=r=>q.value=r),class:"py-2 px-2",placeholder:n.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",Ur,[s(_e,{modelValue:T.value,"onUpdate:modelValue":i[22]||(i[22]=r=>T.value=r),binary:!0},null,8,["modelValue"]),e("div",Fr,t(n.$t("constants.epic")),1),s(_e,{modelValue:_.value,"onUpdate:modelValue":i[23]||(i[23]=r=>_.value=r),binary:!0},null,8,["modelValue"]),e("div",Or,t(n.$t("constants.relic")),1)]),B.value?(c(),re(we,{key:1,items:B.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:p(({item:r})=>[s(De,{"append-to":()=>a(l).body,offset:[0,-2]},{trigger:p(()=>{var A,m;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((A=a(o).epicSubSlot)==null?void 0:A.id)===r.id,"relic-highlighted":((m=a(o).relicSubSlot)==null?void 0:m.id)===r.id}]),draggable:"true",onClick:de=>ie(de,r,r.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:de=>D(de,"sublimation",r)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",jr,t(n.$t(`items.${r.id}`))+" "+t(r.sublimationParameters.isEpic?`(${n.$t("constants.epic")})`:"")+" "+t(r.sublimationParameters.isRelic?`(${n.$t("constants.relic")})`:""),1)],42,Nr)]}),content:p(()=>[e("div",Hr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Br,[e("div",zr,t(n.$t(`items.${r.id}`)),1),e("div",Gr,t(r.sublimationParameters.isEpic?`${n.$t("constants.epicSublimation")}`:"")+" "+t(r.sublimationParameters.isRelic?`${n.$t("constants.relicSublimation")}`:""),1)])]),s(qe,{item:r},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):te("",!0)])):te("",!0),s(Ce,{ref_key:"runeContextMenu",ref:M,model:b.value},{item:p(({item:r,props:A})=>[r.levelSlider?(c(),u("div",Yr,[e("div",Jr,t(n.$t("constants.level"))+": "+t(a(o).equipment[z.value.itemSlotKey][z.value.runeSlotKey].level),1),s(Ee,{modelValue:a(o).equipment[z.value.itemSlotKey][z.value.runeSlotKey].level,"onUpdate:modelValue":i[24]||(i[24]=m=>a(o).equipment[z.value.itemSlotKey][z.value.runeSlotKey].level=m),min:1,max:11},null,8,["modelValue"])])):pt((c(),u("a",Ne({key:1,class:"flex align-items-center"},A.action),[e("span",Qr,t(r.label),1)],16)),[[Ve]])]),_:1},8,["model"])])}}},Zr=$e(Xr,[["__scopeId","data-v-67b1a5cf"]]);const Le=v=>(ye("data-v-bf87d427"),v=v(),ke(),v),Kr={class:"top-bar py-3 px-3"},eu={key:0,class:"flex align-items-center pl-2"},tu={class:"py-2"},su={key:1,class:"flex align-items-center"},lu={class:"py-2"},au={class:"flex align-items-center"},iu={class:"capitalize"},nu={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},ou={class:"mr-2"},cu={class:"flex-grow-1"},ru=Le(()=>e("div",{class:"flex-grow-1"},null,-1)),uu={class:"build-code flex align-items-center ml-2 mr-3"},du=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),pu={class:"simple-tooltip"},mu={class:"ml-2"},hu={class:"code-disclaimer"},vu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),gu={class:"simple-tooltip"},fu={class:"ml-1"},_u={class:"flex flex-grow-1",style:{overflow:"auto"}},bu={class:"stats-area pt-3"},$u={class:"flex flex-column flex-grow-1"},yu=Le(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),ku=Le(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),Su={class:"flex align-items-center px-3 py-3"},xu={class:"flex align-items-center px-3 py-3"},wu={class:"flex align-items-center px-3 py-3"},Cu={class:"flex align-items-center px-3 py-3"},Vu={key:1,class:"px-5 mt-5"},Au={__name:"CharacterSheet",setup(v){var O,G,z;const h=mt(),R=ge("currentCharacter"),l=$(null),o=$(null),f=$(null),X=$((O=R.value)==null?void 0:O.name),P=$((G=R.value)==null?void 0:G.level),se=$(Fe[(z=R.value)==null?void 0:z.class]),Z=Object.entries(Fe).map(([M,b])=>b),{createBuildCode:H}=Ze(),B=pe(()=>H(R.value));Te(R,()=>{w()});const w=()=>{var M,b,L;X.value=(M=R.value)==null?void 0:M.name,P.value=(b=R.value)==null?void 0:b.level,se.value=Fe[(L=R.value)==null?void 0:L.class]},q=(M,b)=>{b==="name"?R.value.name=M.target.value:b==="levelText"?R.value.level=M.value:b==="levelSlider"?R.value.level=M:b==="class"&&(R.value.class=M.value.id),w()},F=()=>{Pe(()=>{l.value.showList(),f.value.showLists()})},T=pe(()=>{var M;return(M=o.value)==null?void 0:M.hasCharacteristicsError}),_=()=>{navigator.clipboard.writeText(B.value),h.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(M,b)=>{const L=W("p-inputText"),K=W("p-image"),N=W("p-dropdown"),k=W("p-inputNumber"),C=W("p-slider"),J=W("tippy"),le=W("p-button"),D=W("p-tabPanel"),V=W("p-tabView");return a(R)?(c(),u("div",{key:a(R).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Kr,[s(L,{modelValue:X.value,"onUpdate:modelValue":b[0]||(b[0]=I=>X.value=I),class:"mr-2 py-2 px-2",onInput:b[1]||(b[1]=I=>q(I,"name"))},null,8,["modelValue"]),s(N,{modelValue:se.value,"onUpdate:modelValue":b[2]||(b[2]=I=>se.value=I),options:a(Z),placeholder:M.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:b[3]||(b[3]=I=>q(I,"class"))},{value:p(I=>[I.value?(c(),u("div",eu,[s(K,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${I.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",tu,t(M.$t(I.value.name)),1)])):(c(),u("span",su,[s(K,{class:"class-image mx-2",src:a(ht),"image-style":"width: 28px"},null,8,["src"]),e("div",lu,t(I.placeholder),1)]))]),option:p(I=>[e("div",au,[e("div",iu,t(M.$t(I.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",nu,[e("span",ou,t(M.$t("characterSheet.level")),1),s(k,{modelValue:P.value,"onUpdate:modelValue":b[4]||(b[4]=I=>P.value=I),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:b[5]||(b[5]=I=>q(I,"levelText"))},null,8,["modelValue"]),e("div",cu,[s(C,{modelValue:P.value,"onUpdate:modelValue":b[6]||(b[6]=I=>P.value=I),min:1,max:230,onChange:b[7]||(b[7]=I=>q(I,"levelSlider"))},null,8,["modelValue"])])]),ru,e("div",uu,[s(J,{placement:"left",duration:"0"},{content:p(()=>[e("div",pu,t(M.$t("characterSheet.buildCopyPaste")),1)]),default:p(()=>[du]),_:1}),e("div",mu,t(M.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:_},[e("span",null,t(B.value),1)]),s(le,{class:"py-1 ml-2 px-2",label:M.$t("characterSheet.copy"),onClick:_},null,8,["label"]),e("div",hu,[s(J,{placement:"bottom",duration:"0"},{content:p(()=>[e("div",gu,t(M.$t("characterSheet.codeInfo")),1)]),default:p(()=>[vu]),_:1}),e("div",fu,t(M.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",_u,[e("div",bu,[s(zl)]),e("div",$u,[s(V,{class:"main-tab-view",onTabChange:F},{default:p(()=>[s(D,null,{header:p(()=>[e("div",{class:ne(["characteristics-tab-header px-3 h-full",{error:T.value,"points-to-spend":!1}])},[e("span",null,t(M.$t("characterSheet.characteristics")),1),yu,ku],2)]),default:p(()=>[s(_a,{ref_key:"characteristicsTabContent",ref:o},null,512)]),_:1}),s(D,null,{header:p(()=>[e("div",Su,[e("span",null,t(M.$t("characterSheet.equipment")),1)])]),default:p(()=>[s(en,{ref_key:"equipmentTabContent",ref:l},null,512)]),_:1}),s(D,null,{header:p(()=>[e("div",xu,[e("span",null,t(M.$t("characterSheet.autoItemSolver")),1)])]),default:p(()=>[s(ac)]),_:1}),s(D,null,{header:p(()=>[e("div",wu,[e("span",null,t(M.$t("characterSheet.runesAndSubs")),1)])]),default:p(()=>[s(Zr,{ref_key:"runesAndSubsTabContent",ref:f},null,512)]),_:1}),s(D,null,{header:p(()=>[e("div",Cu,[e("span",null,t(M.$t("characterSheet.spellsAndPassives")),1)])]),default:p(()=>[s(jn)]),_:1})]),_:1})])])])):(c(),u("div",Vu," No Character data found for the given ID. "))}}},Eu=$e(Au,[["__scopeId","data-v-bf87d427"]]);export{Eu as default};
