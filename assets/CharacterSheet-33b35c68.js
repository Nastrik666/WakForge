import{_ as ge,i as he,g as A,q as n,o as c,h as u,j as e,k as l,t as s,y as Fe,l as Q,z as Qe,s as fe,x as $e,A as Oe,r as y,f as pe,B as lt,D as Ie,E as Xe,G as le,H as N,w as d,F as z,m as ce,n as oe,I as de,a as ze,b as Ge,J as Ne,K as Te,L as at,M as it,N as De,O as B,P as We,Q as Je,R as nt,S as He,T as ot,d as Ze,U as ct,V as rt,W as ut,p as me,X as Be,Y as dt,u as pt}from"./index-633bb8ee.js";import{E as Ke,I as ke,u as et,M as Le,a as mt}from"./addCompanion-946e80f9.js";const J=g=>(fe("data-v-0d2a0c48"),g=g(),$e(),g),ht={key:0},vt={class:"flex justify-content-between w-full px-2"},_t={class:"main-stat-box"},gt={class:"flex align-items-center my-1"},ft={class:"ml-1"},$t={class:"stat-value py-1"},bt={class:"main-stat-box"},yt={class:"flex align-items-center my-1"},kt={class:"ml-1"},St={class:"stat-value py-1"},xt={class:"main-stat-box"},Ct={class:"flex align-items-center my-1"},wt={class:"ml-1"},At={class:"stat-value py-1"},Vt={class:"main-stat-box"},Wt={class:"flex align-items-center my-1"},qt={class:"ml-1"},Et={class:"stat-value py-1"},It={key:0,class:"main-stat-box"},Pt={class:"flex align-items-center my-1"},Tt={class:"ml-1"},Dt={class:"stat-value py-1"},Rt={key:1,class:"main-stat-box"},Mt={class:"flex align-items-center my-1"},Lt={class:"ml-1"},Ut={class:"stat-value py-1"},Ft={class:"main-stat-area flex flex-column mt-2 pb-2"},Ot={class:"section-header py-1 mb-1"},Nt={class:"flex pl-1"},jt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ht={class:"stat-block pr-2"},Bt={class:"ml-1"},zt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Gt={class:"stat-block pr-2"},Yt={class:"ml-1"},Jt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Qt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Xt={class:"stat-block pr-2"},Zt={class:"ml-1"},Kt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),es={class:"stat-block pr-2"},ts={class:"ml-1"},ss=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ls={class:"section-header py-1 mb-1"},as={class:"flex pl-1"},is={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ns={class:"stat-block pr-2"},os={class:"ml-1"},cs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),rs={class:"stat-block pr-2"},us={class:"ml-1"},ds=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ps={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ms={class:"stat-block pr-2"},hs={class:"ml-1"},vs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),_s={class:"stat-block pr-2"},gs={class:"ml-1"},fs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),$s={class:"lex flex-column"},bs={class:"section-header py-1 mb-1"},ys={class:"flex pl-1"},ks={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ss={class:"stat-block pr-2"},xs={class:"ml-1"},Cs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ws={class:"stat-block pr-2"},As={class:"ml-1"},Vs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},qs={class:"ml-1"},Es=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Is={class:"stat-block pr-2"},Ps={class:"ml-1"},Ts=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ds={class:"stat-block pr-2"},Rs={class:"ml-1"},Ms=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},Us={class:"ml-1"},Fs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Os={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ns={class:"stat-block pr-2"},js={class:"ml-1"},Hs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"stat-block pr-2"},Js={class:"ml-1"},Qs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Xs={class:"stat-block pr-2"},Zs={class:"ml-1"},Ks=J(()=>e("div",{class:"flex-grow-1"},null,-1)),el={class:"stat-block pr-2"},tl={class:"ml-1"},sl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ll={class:"stat-block pr-2"},al={class:"ml-1"},il=J(()=>e("div",{class:"flex-grow-1"},null,-1)),nl={class:"flex flex-column"},ol={class:"section-header py-1 mb-1"},cl={class:"flex pl-1"},rl={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ul={class:"stat-block pr-2"},dl={class:"ml-1"},pl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ml={class:"stat-block pr-2"},hl={class:"ml-1"},vl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),_l={class:"stat-block pr-2"},gl={class:"ml-1"},fl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),$l={class:"stat-block pr-2"},bl={class:"ml-1"},yl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),kl={class:"stat-block pr-2"},Sl={class:"ml-1"},xl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Cl={class:"stat-block pr-2"},wl={class:"ml-1"},Al=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Vl={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Wl={class:"stat-block pr-2"},ql={class:"ml-1"},El=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Il={class:"stat-block pr-2"},Pl={class:"ml-1"},Tl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Dl={class:"stat-block pr-2"},Rl={class:"ml-1"},Ml=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ll={class:"stat-block pr-2"},Ul={class:"ml-1"},Fl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ol={class:"stat-block pr-2"},Nl={class:"ml-1"},jl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Hl={__name:"StatDisplay",setup(g){const p=he("currentCharacter"),{calcElemResistancePercentage:E}=Qe();return(t,k)=>{const _=A("p-image");return n(p)?(c(),u("div",ht,[e("div",vt,[e("div",_t,[e("div",gt,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",ft,s(t.$t("constants.hp")),1)]),e("div",$t,s(n(p).healthPoints),1)]),e("div",bt,[e("div",yt,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",kt,s(t.$t("characterSheet.statsDisplay.ar")),1)]),e("div",St,s(n(p).armorPoints),1)]),e("div",xt,[e("div",Ct,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",wt,s(t.$t("constants.ap")),1)]),e("div",At,s(n(p).actionPoints),1)]),e("div",Vt,[e("div",Wt,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",qt,s(t.$t("constants.mp")),1)]),e("div",Et,s(n(p).movementPoints),1)]),n(p).class===n(Fe).huppermage.id?(c(),u("div",It,[e("div",Pt,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Tt,s(t.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Dt,s(n(p).quadrumentalBreeze),1)])):(c(),u("div",Rt,[e("div",Mt,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Lt,s(t.$t("constants.wp")),1)]),e("div",Ut,s(n(p).wakfuPoints),1)]))]),e("div",Ft,[e("div",Ot,s(t.$t("constants.elementalMasteries")),1),e("div",Nt,[e("div",jt,[e("div",Ht,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Bt,s(t.$t("characterSheet.statsDisplay.water")),1),zt,e("span",null,s(n(p).masteries.water),1)]),e("div",Gt,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Yt,s(t.$t("characterSheet.statsDisplay.air")),1),Jt,e("span",null,s(n(p).masteries.air),1)])]),e("div",Qt,[e("div",Xt,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Zt,s(t.$t("characterSheet.statsDisplay.earth")),1),Kt,e("span",null,s(n(p).masteries.earth),1)]),e("div",es,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ts,s(t.$t("characterSheet.statsDisplay.fire")),1),ss,e("span",null,s(n(p).masteries.fire),1)])])]),e("div",ls,s(t.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",as,[e("div",is,[e("div",ns,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",os,s(t.$t("characterSheet.statsDisplay.water")),1),cs,e("span",null,s(n(E)(n(p).resistances.water))+"% ("+s(n(p).resistances.water)+")",1)]),e("div",rs,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",us,s(t.$t("characterSheet.statsDisplay.air")),1),ds,e("span",null,s(n(E)(n(p).resistances.air))+"% ("+s(n(p).resistances.air)+")",1)])]),e("div",ps,[e("div",ms,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",hs,s(t.$t("characterSheet.statsDisplay.earth")),1),vs,e("span",null,s(n(E)(n(p).resistances.earth))+"% ("+s(n(p).resistances.earth)+")",1)]),e("div",_s,[l(_,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",gs,s(t.$t("characterSheet.statsDisplay.fire")),1),fs,e("span",null,s(n(E)(n(p).resistances.fire))+"% ("+s(n(p).resistances.fire)+")",1)])])]),e("div",$s,[e("div",bs,s(t.$t("characterSheet.statsDisplay.battle")),1),e("div",ys,[e("div",ks,[e("div",Ss,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",xs,s(t.$t("constants.damageInflicted")),1),Cs,e("span",null,s(n(p).stats.damageInflicted)+"%",1)]),e("div",ws,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",As,s(t.$t("characterSheet.statsDisplay.criticalHit")),1),Vs,e("span",null,s(n(p).stats.criticalHit)+"%",1)]),e("div",Ws,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",qs,s(t.$t("constants.initiative")),1),Es,e("span",null,s(n(p).stats.initiative),1)]),e("div",Is,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ps,s(t.$t("constants.dodge")),1),Ts,e("span",null,s(n(p).stats.dodge),1)]),e("div",Ds,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Rs,s(t.$t("constants.wisdom")),1),Ms,e("span",null,s(n(p).stats.wisdom),1)]),e("div",Ls,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Us,s(t.$t("constants.control")),1),Fs,e("span",null,s(n(p).stats.control),1)])]),e("div",Os,[e("div",Ns,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",js,s(t.$t("constants.healsPerformed")),1),Hs,e("span",null,s(n(p).stats.healsPerformed)+"%",1)]),e("div",Bs,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",zs,s(t.$t("characterSheet.statsDisplay.block")),1),Gs,e("span",null,s(n(p).stats.block)+"%",1)]),e("div",Ys,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Js,s(t.$t("constants.range")),1),Qs,e("span",null,s(n(p).stats.range),1)]),e("div",Xs,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Zs,s(t.$t("constants.lock")),1),Ks,e("span",null,s(n(p).stats.lock),1)]),e("div",el,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",tl,s(t.$t("constants.prospecting")),1),sl,e("span",null,s(n(p).stats.prospecting),1)]),e("div",ll,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",al,s(t.$t("constants.forceOfWill")),1),il,e("span",null,s(n(p).stats.forceOfWill),1)])])])]),e("div",nl,[e("div",ol,s(t.$t("characterSheet.statsDisplay.secondary")),1),e("div",cl,[e("div",rl,[e("div",ul,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",dl,s(t.$t("constants.criticalMastery")),1),pl,e("span",null,s(n(p).masteries.critical),1)]),e("div",ml,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",hl,s(t.$t("constants.rearMastery")),1),vl,e("span",null,s(n(p).masteries.rear),1)]),e("div",_l,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",gl,s(t.$t("constants.meleeMastery")),1),fl,e("span",null,s(n(p).masteries.melee),1)]),e("div",$l,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",bl,s(t.$t("constants.distanceMastery")),1),yl,e("span",null,s(n(p).masteries.distance),1)]),e("div",kl,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",Sl,s(t.$t("constants.healingMastery")),1),xl,e("span",null,s(n(p).masteries.healing),1)]),e("div",Cl,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",wl,s(t.$t("constants.berserkMastery")),1),Al,e("span",null,s(n(p).masteries.berserk),1)])]),e("div",Vl,[e("div",Wl,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",ql,s(t.$t("constants.criticalResistance")),1),El,e("span",null,s(n(p).resistances.critical),1)]),e("div",Il,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Pl,s(t.$t("constants.rearResistance")),1),Tl,e("span",null,s(n(p).resistances.rear),1)]),e("div",Dl,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Rl,s(t.$t("constants.armorGiven")),1),Ml,e("span",null,s(n(p).stats.armorGiven)+"%",1)]),e("div",Ll,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Ul,s(t.$t("characterSheet.statsDisplay.armorReceived")),1),Fl,e("span",null,s(n(p).stats.armorReceived)+"%",1)]),e("div",Ol,[l(_,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Nl,s(t.$t("characterSheet.statsDisplay.indirectDamage")),1),jl,e("span",null,s(n(p).stats.indirectDamage)+"%",1)])])])])])])):Q("",!0)}}},Bl=ge(Hl,[["__scopeId","data-v-0d2a0c48"]]);const zl=g=>(fe("data-v-c1799ab4"),g=g(),$e(),g),Gl={class:"flex align-items-center my-1"},Yl={class:"entry-label ml-2"},Jl=zl(()=>e("div",{class:"flex-grow-1"},null,-1)),Ql={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(g){return(p,E)=>{const t=A("p-image"),k=A("p-inputNumber");return c(),u("div",Gl,[l(t,{src:g.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Yl,s(g.label),1),Jl,l(k,Oe(p.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(g.maxOverride,g.remainingPoints+p.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:g.updateFunction}),null,16,["max","onInput"])])}}},Z=ge(Ql,[["__scopeId","data-v-c1799ab4"]]);const Re=g=>(fe("data-v-d18760ce"),g=g(),$e(),g),Xl={class:"flex flex-column h-full"},Zl={class:"characteristic-panels flex pb-3"},Kl={class:"flex flex-column flex-grow-1 mr-1"},ea={class:"characteristics-category-header px-2 py-2"},ta=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),sa={class:"flex flex-column px-2 py-1"},la={class:"characteristics-category-header px-2 py-2"},aa=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),ia={class:"flex flex-column px-2 py-1"},na={class:"characteristics-category-header px-2 py-2"},oa=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),ca={class:"flex flex-column px-2 py-1"},ra={class:"flex flex-column flex-grow-1 ml-1"},ua={class:"characteristics-category-header px-2 py-2"},da=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),pa={class:"flex flex-column px-2 py-1"},ma={class:"characteristics-category-header px-2 py-2"},ha=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),va={class:"flex flex-column px-2 py-1"},_a={__name:"CharacteristicsTabContent",setup(g,{expose:p}){const E=he("masterData"),t=he("currentCharacter"),k=y(!1),_=pe(()=>k.value?10:1);lt(()=>{document.addEventListener("keydown",a=>{G(a)}),document.addEventListener("keyup",a=>{G(a)})});const G=a=>{a.shiftKey?k.value=!0:k.value=!1},D=y(t.value.characteristics.intelligence.percentHealthPoints),Y=y(t.value.characteristics.intelligence.elementalResistance),M=y(t.value.characteristics.intelligence.barrier),H=y(t.value.characteristics.intelligence.percentHealsReceived),ee=y(t.value.characteristics.intelligence.percentArmorHeathPoints),q=y(t.value.characteristics.strength.elementalMastery),V=y(t.value.characteristics.strength.meleeMastery),L=y(t.value.characteristics.strength.distanceMastery),I=y(t.value.characteristics.strength.healthPoints),m=y(t.value.characteristics.agility.lock),P=y(t.value.characteristics.agility.dodge),U=y(t.value.characteristics.agility.initiative),re=y(t.value.characteristics.agility.lockAndDodge),v=y(t.value.characteristics.agility.forceOfWill),S=y(t.value.characteristics.fortune.percentCriticalHit),se=y(t.value.characteristics.fortune.percentBlock),R=y(t.value.characteristics.fortune.criticalMastery),ae=y(t.value.characteristics.fortune.rearMastery),b=y(t.value.characteristics.fortune.berserkMastery),W=y(t.value.characteristics.fortune.healingMastery),F=y(t.value.characteristics.fortune.rearResistance),te=y(t.value.characteristics.fortune.criticalResistance),T=y(t.value.characteristics.major.actionPoints),O=y(t.value.characteristics.major.movementPointsAndDamage),$=y(t.value.characteristics.major.rangeAndDamage),ie=y(t.value.characteristics.major.wakfuPoints),ne=y(t.value.characteristics.major.controlAndDamage),ue=y(t.value.characteristics.major.percentDamageInflicted),f=y(t.value.characteristics.major.elementalResistance),h=a=>{let o=0;return a==="intelligence"?o=D.value+Y.value+M.value+H.value+ee.value:a==="strength"?o=q.value+V.value+L.value+I.value:a==="agility"?o=m.value+P.value+U.value+re.value+v.value:a==="fortune"?o=S.value+se.value+R.value+ae.value+b.value+W.value+F.value+te.value:a==="major"&&(o=T.value+O.value+$.value+ie.value+ne.value+ue.value+f.value),t.value.characteristics.limits[a]-o},j=()=>{t.value.characteristics.intelligence.percentHealthPoints=D.value,t.value.characteristics.intelligence.elementalResistance=Y.value,t.value.characteristics.intelligence.barrier=M.value,t.value.characteristics.intelligence.percentHealsReceived=H.value,t.value.characteristics.intelligence.percentArmorHeathPoints=ee.value,t.value.characteristics.strength.elementalMastery=q.value,t.value.characteristics.strength.meleeMastery=V.value,t.value.characteristics.strength.distanceMastery=L.value,t.value.characteristics.strength.healthPoints=I.value,t.value.characteristics.agility.lock=m.value,t.value.characteristics.agility.dodge=P.value,t.value.characteristics.agility.initiative=U.value,t.value.characteristics.agility.lockAndDodge=re.value,t.value.characteristics.agility.forceOfWill=v.value,t.value.characteristics.fortune.percentCriticalHit=S.value,t.value.characteristics.fortune.percentBlock=se.value,t.value.characteristics.fortune.criticalMastery=R.value,t.value.characteristics.fortune.rearMastery=ae.value,t.value.characteristics.fortune.berserkMastery=b.value,t.value.characteristics.fortune.healingMastery=W.value,t.value.characteristics.fortune.rearResistance=F.value,t.value.characteristics.fortune.criticalResistance=te.value,t.value.characteristics.major.actionPoints=T.value,t.value.characteristics.major.movementPointsAndDamage=O.value,t.value.characteristics.major.rangeAndDamage=$.value,t.value.characteristics.major.wakfuPoints=ie.value,t.value.characteristics.major.controlAndDamage=ne.value,t.value.characteristics.major.percentDamageInflicted=ue.value,t.value.characteristics.major.elementalResistance=f.value};Ie(E,Xe.debounce(()=>{D.value=t.value.characteristics.intelligence.percentHealthPoints,Y.value=t.value.characteristics.intelligence.elementalResistance,M.value=t.value.characteristics.intelligence.barrier,H.value=t.value.characteristics.intelligence.percentHealsReceived,ee.value=t.value.characteristics.intelligence.percentArmorHeathPoints,q.value=t.value.characteristics.strength.elementalMastery,V.value=t.value.characteristics.strength.meleeMastery,L.value=t.value.characteristics.strength.distanceMastery,I.value=t.value.characteristics.strength.healthPoints,m.value=t.value.characteristics.agility.lock,P.value=t.value.characteristics.agility.dodge,U.value=t.value.characteristics.agility.initiative,re.value=t.value.characteristics.agility.lockAndDodge,v.value=t.value.characteristics.agility.forceOfWill,S.value=t.value.characteristics.fortune.percentCriticalHit,se.value=t.value.characteristics.fortune.percentBlock,R.value=t.value.characteristics.fortune.criticalMastery,ae.value=t.value.characteristics.fortune.rearMastery,b.value=t.value.characteristics.fortune.berserkMastery,W.value=t.value.characteristics.fortune.healingMastery,F.value=t.value.characteristics.fortune.rearResistance,te.value=t.value.characteristics.fortune.criticalResistance,T.value=t.value.characteristics.major.actionPoints,O.value=t.value.characteristics.major.movementPointsAndDamage,$.value=t.value.characteristics.major.rangeAndDamage,ie.value=t.value.characteristics.major.wakfuPoints,ne.value=t.value.characteristics.major.controlAndDamage,ue.value=t.value.characteristics.major.percentDamageInflicted,f.value=t.value.characteristics.major.elementalResistance},100));const r=pe(()=>h("intelligence")<0||h("strength")<0||h("agility")<0||h("fortune")<0||h("major")<0);return p({hasCharacteristicsError:r}),(a,o)=>{var x,K,_e,Ce,be,ye,we,Ae,Ve,i,w,X,ve,qe,Ye;return c(),u("div",Xl,[e("div",Zl,[e("div",Kl,[e("div",{class:le(["category-wrapper flex flex-column",{error:h("intelligence")<0}])},[e("div",ea,[e("span",null,s(a.$t("characterSheet.characteristicsContent.intelligence")),1),ta,e("span",null,s(h("intelligence"))+"/"+s((_e=(K=(x=n(t))==null?void 0:x.characteristics)==null?void 0:K.limits)==null?void 0:_e.intelligence)+" "+s(a.$t("characterSheet.characteristicsContent.points")),1)]),e("div",sa,[l(Z,{modelValue:D.value,"onUpdate:modelValue":o[0]||(o[0]=C=>D.value=C),label:a.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":h("intelligence"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:Y.value,"onUpdate:modelValue":o[1]||(o[1]=C=>Y.value=C),label:a.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":h("intelligence"),"update-function":j,"max-override":10,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:M.value,"onUpdate:modelValue":o[2]||(o[2]=C=>M.value=C),label:a.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":h("intelligence"),"update-function":j,"max-override":10,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:H.value,"onUpdate:modelValue":o[3]||(o[3]=C=>H.value=C),label:a.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":h("intelligence"),"update-function":j,"max-override":5,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:ee.value,"onUpdate:modelValue":o[4]||(o[4]=C=>ee.value=C),label:a.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":h("intelligence"),"update-function":j,"max-override":10,step:_.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:le(["category-wrapper flex flex-column mt-2",{error:h("strength")<0}])},[e("div",la,[e("span",null,s(a.$t("characterSheet.characteristicsContent.strength")),1),aa,e("span",null,s(h("strength"))+"/"+s((ye=(be=(Ce=n(t))==null?void 0:Ce.characteristics)==null?void 0:be.limits)==null?void 0:ye.strength)+" "+s(a.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ia,[l(Z,{modelValue:q.value,"onUpdate:modelValue":o[5]||(o[5]=C=>q.value=C),label:a.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":h("strength"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:V.value,"onUpdate:modelValue":o[6]||(o[6]=C=>V.value=C),label:a.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":h("strength"),"update-function":j,"max-override":40,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:L.value,"onUpdate:modelValue":o[7]||(o[7]=C=>L.value=C),label:a.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":h("strength"),"update-function":j,"max-override":40,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:I.value,"onUpdate:modelValue":o[8]||(o[8]=C=>I.value=C),label:a.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":h("strength"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:le(["category-wrapper flex flex-column mt-2",{error:h("agility")<0}])},[e("div",na,[e("span",null,s(a.$t("characterSheet.characteristicsContent.agility")),1),oa,e("span",null,s(h("agility"))+"/"+s((Ve=(Ae=(we=n(t))==null?void 0:we.characteristics)==null?void 0:Ae.limits)==null?void 0:Ve.agility)+" "+s(a.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ca,[l(Z,{modelValue:m.value,"onUpdate:modelValue":o[9]||(o[9]=C=>m.value=C),label:a.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":h("agility"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:P.value,"onUpdate:modelValue":o[10]||(o[10]=C=>P.value=C),label:a.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":h("agility"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:U.value,"onUpdate:modelValue":o[11]||(o[11]=C=>U.value=C),label:a.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":h("agility"),"update-function":j,"max-override":20,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:re.value,"onUpdate:modelValue":o[12]||(o[12]=C=>re.value=C),label:a.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":h("agility"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:v.value,"onUpdate:modelValue":o[13]||(o[13]=C=>v.value=C),label:a.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":h("agility"),"update-function":j,"max-override":20,step:_.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",ra,[e("div",{class:le(["category-wrapper flex flex-column flex-grow-1",{error:h("fortune")<0}])},[e("div",ua,[e("span",null,s(a.$t("characterSheet.characteristicsContent.fortune")),1),da,e("span",null,s(h("fortune"))+"/"+s((X=(w=(i=n(t))==null?void 0:i.characteristics)==null?void 0:w.limits)==null?void 0:X.fortune)+" "+s(a.$t("characterSheet.characteristicsContent.points")),1)]),e("div",pa,[l(Z,{modelValue:S.value,"onUpdate:modelValue":o[14]||(o[14]=C=>S.value=C),label:a.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:se.value,"onUpdate:modelValue":o[15]||(o[15]=C=>se.value=C),label:a.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:R.value,"onUpdate:modelValue":o[16]||(o[16]=C=>R.value=C),label:a.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":h("fortune"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:ae.value,"onUpdate:modelValue":o[17]||(o[17]=C=>ae.value=C),label:a.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":h("fortune"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:b.value,"onUpdate:modelValue":o[18]||(o[18]=C=>b.value=C),label:a.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":h("fortune"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:W.value,"onUpdate:modelValue":o[19]||(o[19]=C=>W.value=C),label:a.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":h("fortune"),"update-function":j,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:F.value,"onUpdate:modelValue":o[20]||(o[20]=C=>F.value=C),label:a.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:te.value,"onUpdate:modelValue":o[21]||(o[21]=C=>te.value=C),label:a.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":h("fortune"),"update-function":j,"max-override":20,step:_.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:le(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:h("major")<0}])},[e("div",ma,[e("span",null,s(a.$t("characterSheet.characteristicsContent.major")),1),ha,e("span",null,s(h("major"))+"/"+s((Ye=(qe=(ve=n(t))==null?void 0:ve.characteristics)==null?void 0:qe.limits)==null?void 0:Ye.major)+" "+s(a.$t("characterSheet.characteristicsContent.points")),1)]),e("div",va,[l(Z,{modelValue:T.value,"onUpdate:modelValue":o[22]||(o[22]=C=>T.value=C),label:a.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:O.value,"onUpdate:modelValue":o[23]||(o[23]=C=>O.value=C),label:a.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:$.value,"onUpdate:modelValue":o[24]||(o[24]=C=>$.value=C),label:a.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:ie.value,"onUpdate:modelValue":o[25]||(o[25]=C=>ie.value=C),label:a.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:ne.value,"onUpdate:modelValue":o[26]||(o[26]=C=>ne.value=C),label:a.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:ue.value,"onUpdate:modelValue":o[27]||(o[27]=C=>ue.value=C),label:a.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"]),l(Z,{modelValue:f.value,"onUpdate:modelValue":o[28]||(o[28]=C=>f.value=C),label:a.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":h("major"),"update-function":j,"max-override":1,step:_.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},ga=ge(_a,[["__scopeId","data-v-d18760ce"]]);const tt=g=>(fe("data-v-f117c1a1"),g=g(),$e(),g),fa={class:"flex align-items-center flex-wrap mt-3"},$a={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},ba={class:"checkmarks-container flex gap-2"},ya={class:"rarity-container mt-2"},ka={class:"flex align-items-center mb-1"},Sa=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),xa={class:"simple-tooltip"},Ca={class:"mr-2 ml-1"},wa={class:"rarity-button-wrapper"},Aa={class:"flex justify-content-center align-items-center"},Va={class:"simple-tooltip"},Wa={class:"item-types-container mt-2"},qa={class:"flex align-items-center justify-content-center mb-1 w-full"},Ea=tt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ia={class:"simple-tooltip"},Pa={class:"mr-2 ml-1"},Ta={class:"simple-tooltip"},Da={class:"item-types-button-wrapper"},Ra={class:"filter-category-wrapper"},Ma={class:"flex justify-content-center align-items-center"},La={class:"simple-tooltip"},Ua={class:"filter-category-wrapper"},Fa={class:"flex justify-content-center align-items-center"},Oa={class:"simple-tooltip"},Na={class:"filter-category-wrapper"},ja={class:"flex justify-content-center align-items-center"},Ha={class:"simple-tooltip"},Ba={class:"filter-list-wrapper mt-3"},za={class:"px-2 py-1"},Ga={class:"px-2 py-1"},Ya={__name:"ItemFilters",setup(g){const p=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],t=[N.healthPoints.id,N.healingMastery.id,N.actionPoints.id,N.movementPoints.id,N.rearResistance.id,N.elementalResistance.id,N.fireResistance.id,N.waterResistance.id,N.earthResistance.id,N.airResistance.id,N.elementalMastery.id,N.fireMastery.id,N.earthMastery.id,N.waterMastery.id,N.airMastery.id,N.criticalMastery.id,N.criticalHit.id,N.range.id,N.prospecting.id,N.wisdom.id,N.initiative.id,N.lock.id,N.dodge.id,N.forceOfWill.id,N.rearMastery.id,N.control.id,N.wakfuPoints.id,N.percentBlock.id,N.criticalResistance.id,N.meleeMastery.id,N.distanceMastery.id,N.berserkMastery.id,N.randomElementalMasteries.id,N.randomElementalResistances.id,N.harvestingQuantity.id].map(b=>({value:b,text:N[b].text})),k=he("itemFilters"),_=y(""),G=y([k.startLevel,k.endLevel]),D=y([]),Y=y(k.rarityFilters),M=y(k.itemTypeFilters),H=y(!1),ee=()=>{m()},q=(b,W)=>{W==="min"&&(G.value[0]=b.value),W==="max"&&(G.value[1]=b.value),m()},V=()=>{m()},L=(b,W)=>{b.ctrlKey&&k.itemTypeFilters.forEach(F=>{F.id!==W?F.checked=!1:F.checked=!0}),m()},I=(b,W)=>{b.ctrlKey&&k.rarityFilters.forEach(F=>{F.id!==W?F.checked=!1:F.checked=!0}),m()},m=Xe.debounce(b=>{var W;k.searchTerm=_.value,k.startLevel=G.value[0],k.endLevel=G.value[1],k.effectFilters=D.value,k.rarityFilters=Y.value,b&&((W=b.rawIds)!=null&&W.length)?P(b):k.itemTypeFilters=M.value},100),P=b=>{b.rawIds.forEach(W=>{let F=M.value.find(te=>te.rawId===W);F.checked=b.checked})},U=()=>{let b={type:t[0],comparator:p[2],value:0};D.value.push(b),m()},re=b=>{let W=D.value.indexOf(b);D.value.splice(W,1),m()},v=()=>{k.resetFilters(),_.value=k.searchTerm,G.value[0]=k.startLevel,G.value[1]=k.endLevel,D.value=k.effectFilters,Y.value=k.rarityFilters,M.value=k.itemTypeFilters},S=()=>{k.rarityFilters.forEach(b=>{b.checked=!0}),m()},se=()=>{k.rarityFilters.forEach(b=>{b.checked=!1}),m()},R=()=>{k.itemTypeFilters.forEach(b=>{b.checked=!0}),m()},ae=()=>{k.itemTypeFilters.forEach(b=>{b.checked=!1}),m()};return(b,W)=>{const F=A("p-inputText"),te=A("p-inputNumber"),T=A("p-slider"),O=A("p-button"),$=A("tippy"),ie=A("p-image"),ne=A("p-checkbox"),ue=A("p-dropdown");return c(),u(z,null,[e("div",fa,[l(F,{modelValue:_.value,"onUpdate:modelValue":W[0]||(W[0]=f=>_.value=f),placeholder:b.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:ee},null,8,["modelValue","placeholder"]),e("div",$a,[l(te,{modelValue:G.value[0],"onUpdate:modelValue":W[1]||(W[1]=f=>G.value[0]=f),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:W[2]||(W[2]=f=>q(f,"min"))},null,8,["modelValue"]),l(T,{modelValue:G.value,"onUpdate:modelValue":W[3]||(W[3]=f=>G.value=f),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:V},null,8,["modelValue"]),l(te,{modelValue:G.value[1],"onUpdate:modelValue":W[4]||(W[4]=f=>G.value[1]=f),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:W[5]||(W[5]=f=>q(f,"max"))},null,8,["modelValue"])]),l(O,{class:"filter-button",label:b.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:v},null,8,["label"])]),e("div",ba,[e("div",ya,[e("div",ka,[l(O,{class:"filter-button item-filter-action mr-2",label:b.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:S},null,8,["label"]),l($,{placement:"top"},{content:d(()=>[e("div",xa,s(b.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Sa]),_:1}),e("div",Ca,s(b.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),l(O,{class:"filter-button item-filter-action",label:b.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:se},null,8,["label"])]),e("div",wa,[(c(!0),u(z,null,ce(Y.value,f=>(c(),oe($,{key:f.id,duration:"0"},{content:d(()=>[e("div",Va,s(b.$t(f.name)),1)]),default:d(()=>[l(ne,{modelValue:f.checked,"onUpdate:modelValue":h=>f.checked=h,binary:!0,class:"rarity-checkbox",onChange:h=>I(h,f.id)},{icon:d(h=>[e("div",Aa,[l(ie,{class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${f.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Wa,[e("div",qa,[l(O,{class:"filter-button item-filter-action mr-2",label:b.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:R},null,8,["label"]),l($,{placement:"top"},{content:d(()=>[e("div",Ia,s(b.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Ea]),_:1}),e("div",Pa,s(b.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),l($,null,{content:d(()=>[e("div",Ta,s(b.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:d(()=>[l(ne,{modelValue:H.value,"onUpdate:modelValue":W[6]||(W[6]=f=>H.value=f),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),l(O,{class:"filter-button item-filter-action",label:b.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ae},null,8,["label"])]),e("div",Da,[e("div",Ra,[(c(!0),u(z,null,ce(M.value.filter(f=>f.category==="armor"),f=>(c(),u(z,{key:f.id},[!f.advanced||H.value?(c(),oe($,{key:0,duration:"0"},{content:d(()=>[e("div",La,s(b.$t(f.name)),1)]),default:d(()=>[l(ne,{modelValue:f.checked,"onUpdate:modelValue":h=>f.checked=h,binary:!0,class:"item-type-checkbox",onChange:h=>L(h,f.id)},{icon:d(h=>[e("div",Ma,[f.rawId?(c(),oe(ie,{key:0,class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),oe(ie,{key:1,class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):Q("",!0)],64))),128))]),e("div",Ua,[(c(!0),u(z,null,ce(M.value.filter(f=>f.category==="weapons"),f=>(c(),u(z,{key:f.id},[!f.advanced||H.value?(c(),oe($,{key:0,duration:"0"},{content:d(()=>[e("div",Oa,s(b.$t(f.name)),1)]),default:d(()=>[l(ne,{modelValue:f.checked,"onUpdate:modelValue":h=>f.checked=h,binary:!0,class:"item-type-checkbox",onChange:h=>n(m)(f)},{icon:d(h=>[e("div",Fa,[f.rawId?(c(),oe(ie,{key:0,class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),oe(ie,{key:1,class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):Q("",!0)],64))),128))]),e("div",Na,[(c(!0),u(z,null,ce(M.value.filter(f=>f.category==="miscellaneous"),f=>(c(),u(z,{key:f.id},[!f.advanced||H.value?(c(),oe($,{key:0,duration:"0"},{content:d(()=>[e("div",Ha,s(b.$t(f.name)),1)]),default:d(()=>[l(ne,{modelValue:f.checked,"onUpdate:modelValue":h=>f.checked=h,binary:!0,class:"item-type-checkbox",onChange:n(m)},{icon:d(h=>[e("div",ja,[f.rawId?(c(),oe(ie,{key:0,class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),oe(ie,{key:1,class:le({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):Q("",!0)],64))),128))])])])]),e("div",Ba,[l(O,{icon:"pi pi-plus",class:"filter-button",label:b.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:U},null,8,["label"]),(c(!0),u(z,null,ce(D.value,f=>(c(),u("div",{key:f.id,class:"filter-entry"},[l(ue,{modelValue:f.type,"onUpdate:modelValue":h=>f.type=h,class:"filter-type-dropdown",options:n(t),filter:"","auto-filter-focus":"","option-label":"text",onChange:n(m)},{value:d(h=>[de(s(b.$t(h.value.text)),1)]),option:d(h=>[e("div",za,s(b.$t(h.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),l(ue,{modelValue:f.comparator,"onUpdate:modelValue":h=>f.comparator=h,class:"filter-comparator-dropdown",options:p,"option-label":"text",onChange:n(m)},{value:d(h=>[de(s(h.value.symbol),1)]),option:d(h=>[e("div",Ga,s(b.$t(h.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),l(te,{modelValue:f.value,"onUpdate:modelValue":h=>f.value=h,class:"filter-value-input","allow-empty":!1,onInput:n(m)},null,8,["modelValue","onUpdate:modelValue","onInput"]),l(O,{class:"remove-filter-button",icon:"pi pi-trash",onClick:h=>re(f)},null,8,["onClick"])]))),128))])],64)}}},Ja=ge(Ya,[["__scopeId","data-v-f117c1a1"]]);const je=g=>(fe("data-v-41636675"),g=g(),$e(),g),Qa={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Xa={class:"flex align-items-center"},Za={class:"px-2 py-1"},Ka={class:"px-2 py-1"},ei=je(()=>e("div",{class:"flex-grow-1"},null,-1)),ti={class:"ml-2"},si=je(()=>e("div",{class:"flex-grow-1"},null,-1)),li={class:"mr-1"},ai={key:0,class:"flex"},ii={key:0,class:"item-card with-stats"},ni={class:"flex px-2 pt-2"},oi={class:"flex flex-column ml-1"},ci={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},ri={class:"flex"},ui={key:0},di={key:1},pi={key:2,class:"ml-1"},mi=je(()=>e("div",{class:"flex-grow-1"},null,-1)),hi={class:"flex flex-column gap-1"},vi={class:"item-card"},_i={class:"flex px-2 pt-2"},gi={class:"flex flex-column ml-1"},fi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},$i={class:"flex"},bi={key:0},yi={key:1},ki={key:2,class:"ml-1"},Si=je(()=>e("div",{class:"flex-grow-1"},null,-1)),xi={class:"flex flex-column gap-1"},Ci={class:"simple-tooltip"},wi={key:0,class:"item-card-tooltip"},Ai={class:"effect-header flex pt-2 px-1"},Vi={class:"flex flex-column ml-1"},Wi={class:"item-name mr-2"},qi={class:"flex"},Ei={key:0},Ii={key:1},Pi={key:2,class:"ml-1"},Ti={key:1},Di={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Ri={class:"text-center mt-2"},Mi={class:"flex justify-content-center"},Li={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Ui={__name:"EquipmentTabContent",setup(g,{expose:p}){const E=ze(),{t}=Ge(),k=he("currentCharacter"),_=he("currentItemList"),G=he("itemListLoading"),D=he("itemFilters"),Y=y(null),M=y(4),{getNumTotalItems:H}=Ne();let ee=document;const{getItemEncyclopediaUrl:q}=et(),V=()=>{M.value=Math.floor((Y.value.clientWidth-16)/(m.value?310+5:230+5))};window.addEventListener("resize",V);let L=pe(()=>{let v=[],S=[];return _.value.forEach(se=>{S.length===M.value?(v.push(S),S=[se]):S.push(se)}),S.length>0&&v.push(S),v.length===0&&v.push([]),v});const I=y(!1),m=y(!1),P=()=>{I.value=!0,Te(()=>{V()})};Ie(m,()=>{Te(()=>{I.value=!1,Te(()=>{I.value=!0,Te(()=>{V()})})})});const U=(v,S)=>{let se=v.type.validSlots.includes(B.LEFT_HAND.id)||v.type.validSlots.includes(B.RIGHT_HAND.id),R=v.type.disabledSlots.includes(B.SECOND_WEAPON.id)&&k.value.equipment[B.SECOND_WEAPON.id]!==null,ae=v.type.validSlots[0]===B.SECOND_WEAPON.id&&k.value.equipment[B.FIRST_WEAPON.id]!==null&&k.value.equipment[B.FIRST_WEAPON.id].type.disabledSlots.includes(B.SECOND_WEAPON.id),b=!1,W=null,F=!1,te=null;Object.keys(k.value.equipment).forEach($=>{v.rarity===5&&k.value.equipment[$]!==null&&k.value.equipment[$].rarity===5&&(b=!0,W=$),v.rarity===7&&k.value.equipment[$]!==null&&k.value.equipment[$].rarity===7&&(F=!0,te=$)});let T=null;b&&(T=t("characterSheet.equipmentContent.hasRelicWarning")),F&&(T=t("characterSheet.equipmentContent.hasEpicWarning")),R&&(T=t("characterSheet.equipmentContent.twoHandedWeaponWarning")),ae&&(T=t("characterSheet.equipmentContent.secondWeaponWarning")),b&&R&&(T=t("characterSheet.equipmentContent.relicAndTwoHandedWarning")),b&&ae&&(T=t("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),F&&R&&(T=t("characterSheet.equipmentContent.epicAndTwoHandedWarning")),F&&ae&&(T=t("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),R||ae||b||F?E.require({group:"popup",target:S.currentTarget,message:T,accept:()=>{se&&(k.value.equipment[B.LEFT_HAND.id]===null?k.value.equipment[B.LEFT_HAND.id]=v:k.value.equipment[B.RIGHT_HAND.id]=v),R&&(k.value.equipment[B.FIRST_WEAPON.id]=v,k.value.equipment[B.SECOND_WEAPON.id]=null),ae&&(k.value.equipment[B.FIRST_WEAPON.id]=null,k.value.equipment[B.SECOND_WEAPON.id]=v),b&&(k.value.equipment[W]=null,k.value.equipment[v.type.validSlots[0]]=v),F&&(k.value.equipment[te]=null,k.value.equipment[v.type.validSlots[0]]=v)}}):se?k.value.equipment[B.LEFT_HAND.id]===null?k.value.equipment[B.LEFT_HAND.id]=v:k.value.equipment[B.RIGHT_HAND.id]=v:v.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",v.type):k.value.equipment[v.type.validSlots[0]]=v},re=v=>{let S=q(v);window.open(S,"_blank")};return p({showList:P}),(v,S)=>{const se=A("p-divider"),R=A("p-dropdown"),ae=A("p-checkbox"),b=A("p-image"),W=A("p-button"),F=A("tippy"),te=A("p-virtualScroller"),T=A("p-progressSpinner");return c(),u("div",Qa,[l(Ke,{character:n(k)},null,8,["character"]),l(Ja),l(se,{class:"mt-3 mb-2"}),e("div",Xa,[e("div",null,s(v.$t("characterSheet.equipmentContent.sortBy"))+":",1),l(R,{modelValue:n(D).sortBy,"onUpdate:modelValue":S[0]||(S[0]=O=>n(D).sortBy=O),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:n(at)},{value:d(O=>[de(s(v.$t(O.value.label)),1)]),option:d(O=>[e("div",Za,s(v.$t(O.option.label)),1)]),_:1},8,["modelValue","options"]),l(R,{modelValue:n(D).sortOrder,"onUpdate:modelValue":S[1]||(S[1]=O=>n(D).sortOrder=O),class:"sort-dropdown ml-2","option-label":"label",options:n(it)},{value:d(O=>[de(s(v.$t(O.value.label)),1)]),option:d(O=>[e("div",Ka,s(v.$t(O.option.label)),1)]),_:1},8,["modelValue","options"]),ei,e("div",ti,s(n(_).length)+" "+s(v.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+s(n(H)())+" "+s(v.$t("characterSheet.equipmentContent.itemsTotal")),1),si,e("span",li,s(v.$t("characterSheet.equipmentContent.displayStats")),1),l(ae,{modelValue:m.value,"onUpdate:modelValue":S[2]||(S[2]=O=>m.value=O),binary:!0},null,8,["modelValue"])]),I.value&&!n(G)?(c(),u("div",{key:0,ref_key:"itemResultsWrapper",ref:Y,class:"item-results-wrapper flex flex-grow-1 mt-2"},[l(te,{items:n(L),"item-size":[m.value?215:65,m.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:d(({item:O})=>[n(L)[0].length>0?(c(),u("div",ai,[(c(!0),u(z,null,ce(O,($,ie)=>(c(),u(z,{key:ie},[m.value&&$?(c(),u("div",ii,[e("div",ni,[l(b,{src:`https://tmktahu.github.io/WakfuAssets/items/${$.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",oi,[e("div",ci,s(v.$t(`items.${$.id}`)),1),e("div",ri,[l(b,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${$.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(b,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),n(De).includes($.type.id)?(c(),u("div",ui,s(v.$t("characterSheet.equipmentContent.itemLevel"))+": "+s($.id===12237?"25":"50"),1)):(c(),u("div",di,"Lvl: "+s($.level),1)),$.type.validSlots[0]===n(B).FIRST_WEAPON.id?(c(),u("div",pi,s($.type.disabledSlots.includes(n(B).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Q("",!0)])]),mi,e("div",hi,[l(W,{icon:"pi pi-plus",class:"equip-button",onClick:ne=>U($,ne)},null,8,["onClick"]),l(W,{icon:"pi pi-question-circle",class:"equip-button",onClick:ne=>re($)},null,8,["onClick"])])]),l(ke,{"card-mode":"",item:$},null,8,["item"])])):(c(),oe(F,{key:1,delay:[0,0],duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>n(ee).body},{content:d(()=>[$?(c(),u("div",wi,[e("div",Ai,[l(b,{src:`https://tmktahu.github.io/WakfuAssets/items/${$.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Vi,[e("div",Wi,s(v.$t(`items.${$.id}`)),1),e("div",qi,[l(b,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${$.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(b,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),n(De).includes($.type.id)?(c(),u("div",Ei,s(v.$t("characterSheet.equipmentContent.itemLevel"))+": "+s($.id===12237?"25":"50"),1)):(c(),u("div",Ii,"Lvl: "+s($.level),1)),$.type.validSlots[0]===n(B).FIRST_WEAPON.id?(c(),u("div",Pi,s($.type.disabledSlots.includes(n(B).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Q("",!0)])])]),l(ke,{item:$},null,8,["item"])])):Q("",!0)]),default:d(()=>[e("div",vi,[e("div",_i,[l(b,{src:`https://tmktahu.github.io/WakfuAssets/items/${$.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",gi,[e("div",fi,s(v.$t(`items.${$.id}`)),1),e("div",$i,[l(b,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${$.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(b,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${$.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),n(De).includes($.type.id)?(c(),u("div",bi,s(v.$t("characterSheet.equipmentContent.itemLevel"))+": "+s($.id===12237?"25":"50"),1)):(c(),u("div",yi,"Lvl: "+s($.level),1)),$.type.validSlots[0]===n(B).FIRST_WEAPON.id?(c(),u("div",ki,s($.type.disabledSlots.includes(n(B).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Q("",!0)])]),Si,e("div",xi,[l(W,{icon:"pi pi-plus",class:"equip-button",onClick:ne=>U($,ne)},null,8,["onClick"]),l(F,{placement:"left"},{content:d(()=>[e("div",Ci,s(v.$t("characterSheet.equipmentContent.openEncyclopediaPage")),1)]),default:d(()=>[l(W,{icon:"pi pi-question-circle",class:"equip-button",onClick:ne=>re($)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1032,["append-to"]))],64))),128))])):(c(),u("div",Ti,s(v.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(c(),u("div",Di,[e("div",Ri,s(v.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Mi,[e("div",Li,[l(T,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),l(T,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Fi=ge(Ui,[["__scopeId","data-v-41636675"]]);const Se=g=>(fe("data-v-22a133ae"),g=g(),$e(),g),Oi={class:"w-full h-full"},Ni=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ji={class:"simple-tooltip"},Hi={class:"flex mt-2"},Bi={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},zi={class:"disabled-mask"},Gi=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Yi={key:1,class:"spell-button disabled"},Ji={class:"disabled-mask"},Qi={class:"mt-3"},Xi=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Zi={class:"simple-tooltip"},Ki={class:"flex mt-2"},en={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},tn={key:0},sn=["onClick"],ln=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),an={class:"spell-tooltip"},nn={class:"spell-name px-2 py-1"},on={class:"spell-description px-2 py-1"},cn=["innerHTML"],rn={key:0,class:"spell-unlock-number"},un={class:"flex flex-wrap gap-1"},dn=["onClick"],pn=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),mn=Se(()=>e("div",{class:"disabled-mask"},null,-1)),hn={key:0,class:"spell-unlock-number"},vn={class:"spell-tooltip"},_n={class:"spell-name px-2 py-1"},gn={class:"spell-description px-2 py-1"},fn=["innerHTML"],$n={class:"flex flex-wrap gap-1"},bn=["onClick"],yn=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),kn=Se(()=>e("div",{class:"disabled-mask"},null,-1)),Sn={key:0,class:"spell-unlock-number"},xn={class:"spell-tooltip"},Cn={class:"spell-name px-2 py-1"},wn={class:"spell-description px-2 py-1"},An=["innerHTML"],Vn={__name:"SpellTabContent",setup(g){const p=he("currentCharacter"),{getClassPassiveSpells:E,getSpellHtml:t,getSpellLevel:k}=nt(p),_=pe(()=>E(p.value.class).sort((L,I)=>{let m=We[L.id],P=We[I.id];return m-P})),G=pe(()=>E("all").sort((L,I)=>{let m=We[L.id],P=We[I.id];return m-P})),D=q=>{q.category===He.passive&&(Object.keys(p.value.spells).forEach(V=>{var L;V.includes(He.passive)&&((L=p.value.spells[V])==null?void 0:L.id)===q.id&&(p.value.spells[V]=null)}),Object.keys(p.value.spells).some(V=>{if(V.includes(He.passive)&&ee(parseInt(V.replace("passiveSlot","")))&&p.value.spells[V]===null)return p.value.spells[V]=q,!0}))},Y=q=>{p.value.spells[q]=null},M=q=>{let V=!1;return Object.keys(p.value.spells).forEach(L=>{var I;((I=p.value.spells[L])==null?void 0:I.id)===q.id&&(V=!0)}),V},H=q=>{let V=We[q.id];return p.value.level>=V},ee=q=>{let V=Je[q-1];return p.value.level>=V};return(q,V)=>{const L=A("tippy"),I=A("p-image");return c(),u("div",Oi,[e("div",null,[l(L,{placement:"left"},{content:d(()=>[e("div",ji,s(q.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:d(()=>[Ni]),_:1}),de(" "+s(q.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",Hi,[e("div",Bi,[(c(),u(z,null,ce(12,m=>(c(),u(z,{key:m},[n(p).spells["activeSlot"+m]!==null?(c(),u("div",{key:0,class:"spell-button disabled",onClick:V[0]||(V[0]=P=>Y(q.spell))},[e("div",zi,s(),1),Gi,l(I,{src:`https://tmktahu.github.io/WakfuAssets/spells/${n(p).spells["activeSlot"+m].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),u("div",Yi,[l(I,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Ji,s(),1)]))],64))),64))])]),e("div",Qi,[l(L,{placement:"left"},{content:d(()=>[e("div",Zi,s(q.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:d(()=>[Xi]),_:1}),de(" "+s(q.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",Ki,[e("div",en,[(c(),u(z,null,ce(6,m=>(c(),u(z,{key:m},[n(p).spells["passiveSlot"+m]!==null?(c(),u("div",tn,[l(L,{duration:"0"},{content:d(()=>[e("div",an,[e("div",nn,s(n(p).spells["passiveSlot"+m].name)+" (Level "+s(n(k)(n(p).spells["passiveSlot"+m]))+") ",1),e("div",on,s(n(p).spells["passiveSlot"+m].description),1),e("div",{class:"spell-details",innerHTML:n(t)(n(p).spells["passiveSlot"+m])},null,8,cn)])]),default:d(()=>[e("div",{class:"spell-button",onClick:P=>Y("passiveSlot"+m)},[ln,l(I,{src:`https://tmktahu.github.io/WakfuAssets/spells/${n(p).spells["passiveSlot"+m].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,sn)]),_:2},1024)])):(c(),u("div",{key:1,class:le(["spell-slot",{disabled:!ee(m)}])},[l(I,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),ee(m)?Q("",!0):(c(),u("div",rn,s(n(Je)[m-1]),1))],2))],64))),64))]),e("div",un,[(c(!0),u(z,null,ce(_.value,m=>(c(),oe(L,{key:m.id,duration:"0"},{content:d(()=>[e("div",vn,[e("div",_n,s(m.name)+" (Level "+s(n(k)(m))+")",1),e("div",gn,s(m.description),1),e("div",{class:"spell-details",innerHTML:n(t)(m)},null,8,fn)])]),default:d(()=>[e("div",{class:le(["spell-button",{disabled:M(m)||!H(m)}]),onClick:P=>D(m)},[pn,mn,l(I,{src:`https://tmktahu.github.io/WakfuAssets/spells/${m.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),H(m)?Q("",!0):(c(),u("div",hn,s(n(We)[m.id]),1))],10,dn)]),_:2},1024))),128))]),e("div",$n,[(c(!0),u(z,null,ce(G.value,m=>(c(),oe(L,{key:m.id,duration:"0"},{content:d(()=>[e("div",xn,[e("div",Cn,s(m.name)+" (Level "+s(n(k)(m))+")",1),e("div",wn,s(m.description),1),e("div",{class:"spell-details",innerHTML:n(t)(m)},null,8,An)])]),default:d(()=>[e("div",{class:le(["spell-button",{disabled:M(m)||!H(m)}]),onClick:P=>D(m)},[yn,kn,l(I,{src:`https://tmktahu.github.io/WakfuAssets/spells/${m.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),H(m)?Q("",!0):(c(),u("div",Sn,s(n(We)[m.id]),1))],10,bn)]),_:2},1024))),128))])])])}}},Wn=ge(Vn,[["__scopeId","data-v-22a133ae"]]),qn={class:"flex align-items-center"},En={class:"mx-2"},In=e("i",{class:"mdi mdi-information-outline"},null,-1),Pn={class:"simple-tooltip"},Ee={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(g){return(p,E)=>{const t=A("p-checkbox"),k=A("tippy");return c(),u("div",qn,[l(t,Oe(p.$attrs,{binary:!0}),null,16),e("div",En,s(g.label),1),g.tooltipText?(c(),oe(k,{key:0,placement:"left",duration:"0"},{content:d(()=>[e("div",Pn,s(g.tooltipText),1)]),default:d(()=>[In]),_:1})):Q("",!0)])}}},Tn={class:"flex align-items-center"},Dn={class:"mx-2"},Rn=e("i",{class:"mdi mdi-information-outline"},null,-1),Mn={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(g){return(p,E)=>{const t=A("p-inputNumber"),k=A("tippy");return c(),u("div",Tn,[l(t,Oe(p.$attrs,{class:"number-input"}),null,16),e("div",Dn,s(g.label),1),l(k,{placement:"left",duration:"0"},{content:d(()=>[e("div",Mn,s(g.tooltipText),1)]),default:d(()=>[Rn]),_:1})])}}};const st=g=>(fe("data-v-112d3da6"),g=g(),$e(),g),Ln={class:"item-card"},Un={class:"slot-label text-center pt-1 pb-1"},Fn={class:"flex px-2 pt-1"},On={class:"flex flex-column ml-1"},Nn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},jn={class:"flex"},Hn={key:0},Bn={key:1},zn={key:2,class:"ml-1"},Gn=st(()=>e("div",{class:"flex-grow-1"},null,-1)),Yn={class:"flex flex-column"},Jn=st(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Qn={key:0,class:"item-card-tooltip"},Xn={class:"effect-header flex pt-2 px-1"},Zn={class:"flex flex-column ml-1"},Kn={class:"item-name mr-2"},eo={class:"flex"},to={key:0},so={key:1},lo={key:2,class:"ml-1"},ao={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}}},setup(g){let p=document;const E=ze(),t=he("currentCharacter"),{getItemEncyclopediaUrl:k}=et(),{equipItem:_}=Ne(t),G=(Y,M)=>{_(Y,M,E)},D=Y=>{let M=k(Y);window.open(M,"_blank")};return(Y,M)=>{const H=A("p-image"),ee=A("p-button"),q=A("tippy");return c(),oe(q,{delay:"[0, 0]",duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>n(p).body},{content:d(()=>[g.item?(c(),u("div",Qn,[e("div",Xn,[l(H,{src:`https://tmktahu.github.io/WakfuAssets/items/${g.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Zn,[e("div",Kn,s(Y.$t(`items.${g.item.id}`)),1),e("div",eo,[l(H,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(H,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${g.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),n(De).includes(g.item.type.id)?(c(),u("div",to,"Item Level: "+s(g.item.id===12237?"25":"50"),1)):(c(),u("div",so,"Lvl: "+s(g.item.level),1)),g.item.type.validSlots[0]===n(B).FIRST_WEAPON.id?(c(),u("div",lo,s(g.item.type.disabledSlots.includes(n(B).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Q("",!0)])])]),l(ke,{item:g.item},null,8,["item"])])):Q("",!0)]),default:d(()=>[e("div",Ln,[e("div",Un,s(g.item.type.validSlots[0]==="LEFT_HAND"?"Ring":Y.$t(n(B)[g.item.type.validSlots[0]].name))+" Slot ",1),e("div",Fn,[l(H,{src:`https://tmktahu.github.io/WakfuAssets/items/${g.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",On,[e("div",Nn,s(Y.$t(`items.${g.item.id}`)),1),e("div",jn,[l(H,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),l(H,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${g.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),n(De).includes(g.item.type.id)?(c(),u("div",Hn,"Item Level: "+s(g.item.id===12237?"25":"50"),1)):(c(),u("div",Bn,"Lvl: "+s(g.item.level),1)),g.item.type.validSlots[0]===n(B).FIRST_WEAPON.id?(c(),u("div",zn,s(g.item.type.disabledSlots.includes(n(B).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Q("",!0)])]),Gn,e("div",Yn,[l(ee,{icon:"pi pi-plus",class:"action-button mb-1",onClick:M[0]||(M[0]=V=>G(g.item,V))}),l(q,{placement:"left"},{content:d(()=>[Jn]),default:d(()=>[l(ee,{icon:"pi pi-question-circle",class:"action-button",onClick:M[1]||(M[1]=V=>D(g.item))})]),_:1})])])])]),_:1},8,["append-to"])}}},io=ge(ao,[["__scopeId","data-v-112d3da6"]]);const Pe=g=>(fe("data-v-e8cae4f5"),g=g(),$e(),g),no={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},oo={class:"flex flex-column mt-4"},co={class:"flex"},ro={class:"flex mt-3"},uo={class:"setting-group flex flex-column mr-3 gap-2"},po={class:"mb-2"},mo=Pe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ho={class:"simple-tooltip"},vo={class:"setting-group flex flex-column mr-3"},_o={class:"flex flex-column gap-2"},go={class:"mb-2"},fo=Pe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),$o={class:"simple-tooltip"},bo={class:"flex align-items-center"},yo={class:"mr-2"},ko={class:"px-2 py-1"},So={class:"flex align-items-center"},xo={class:"mr-2"},Co={class:"px-2 py-1"},wo={class:"flex align-items-center"},Ao={class:"mr-2"},Vo={class:"px-2 py-1"},Wo={class:"flex align-items-center"},qo={class:"mr-2"},Eo={class:"px-2 py-1"},Io={class:"flex align-items-center"},Po={class:"mr-2"},To={class:"px-2 py-1"},Do={class:"flex flex-column"},Ro={class:"rarity-container"},Mo={class:"flex align-items-center mb-1"},Lo=Pe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Uo={class:"simple-tooltip"},Fo={class:"mr-2 ml-1"},Oo={class:"rarity-button-wrapper"},No={class:"flex justify-content-center align-items-center"},jo={class:"simple-tooltip"},Ho={class:"setting-group flex flex-column gap-2 mt-2"},Bo={class:"mb-2"},zo=Pe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Go={class:"simple-tooltip"},Yo={key:0,class:"warning-message mt-2 py-1 px-2"},Jo={class:"flex align-items-center mt-3"},Qo=Pe(()=>e("div",{class:"flex-grow-1"},null,-1)),Xo=Pe(()=>e("a",{href:"https://github.com/mikeshardmind/wakfu-utils",target:"_blank"},"Keeper of Time (sinbad)",-1)),Zo={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},Ko={key:0,class:"error-state px-3 py-3"},ec={key:0,class:"mt-1"},tc={key:1},sc={class:"mt-3"},lc={key:0,class:"mt-2"},ac={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},ic={key:1},nc={class:"flex flex-wrap gap-1 mt-2"},oc={key:2,class:"loading-state px-3 py-3"},cc={class:"mt-2"},rc={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},uc={class:"text-center mt-2"},dc={class:"text-center mb-5 mt-2"},pc={class:"flex justify-content-center"},mc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},hc={__name:"ItemSolverTabContent",setup(g){const{t:p}=Ge(),E=ze(),t=he("currentCharacter"),{equipItem:k}=Ne(t),{runCalculations:_,autoBuilderIsReady:G,itemSet:D,builderLoading:Y,builderError:M}=ot(),{createBuildCode:H}=Ze(),ee=y(!1),q=pe(()=>{if(ee.value)return D.value;{let a=Object.keys(t.value.equipment).map(o=>{if(t.value.equipment[o])return t.value.equipment[o].id}).filter(o=>o!==void 0);return D.value?D.value.filter(o=>!a.includes(o.id)):[]}}),V=y(t.value.actionPoints),L=y(t.value.movementPoints),I=y(t.value.stats.range),m=y(t.value.wakfuPoints),P=y(!1),U=y(!1),re=y(!1),v=y(!1),S=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],se=[...S,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],R=y(S[0]),ae=y(S[0]),b=y(S[0]),W=y(S[0]),F=y(S[0]),te=y(!0),T=y(ct.map(a=>({...a,checked:!0}))),O=y(!0);Ie(G,()=>{O.value=!1});const $=()=>{T.value.forEach(a=>{a.checked=!0})},ie=()=>{T.value.forEach(a=>{a.checked=!1})},ne=pe(()=>G.value),ue=pe(()=>H(t.value)),f=y(null);Ie([V,L,I,m],()=>{f.value=null,V.value-t.value.actionPoints>=6?f.value=p("characterSheet.itemSolverContent.apWarning"):I.value-t.value.stats.range>5?f.value=p("characterSheet.itemSolverContent.rangeImpossibleWarning"):t.value.level<35?I.value-t.value.stats.range>0&&(f.value=p("characterSheet.itemSolverContent.rangeForLevelWarning")):t.value.level<50?I.value-t.value.stats.range>1?f.value=p("characterSheet.itemSolverContent.rangeForLevelWarning"):V.value-t.value.actionPoints+L.value-t.value.movementPoints>4&&(f.value=p("characterSheet.itemSolverContent.combinedApMpWarning")):t.value.level<80&&I.value-t.value.stats.range>3&&(f.value=p("characterSheet.itemSolverContent.rangeForLevelWarning"))});const h=async()=>{let a=T.value.filter(x=>x.checked).map(x=>x.id),o={buildCode:ue.value,meleeMasteryPriority:R.value,distanceMasteryPriority:ae.value,healingMasteryPriority:b.value,rearMasteryPriority:W.value,berserkMasteryPriority:F.value,fireMastery:P.value,earthMastery:U.value,waterMastery:re.value,airMastery:v.value,targetApAmount:V.value||0,targetMpAmount:L.value||0,targetRangeAmount:I.value||0,targetWpAmount:m.value||0,selectedRarityIds:a,ignoreEquippedItems:!te.value};_(o)},j=a=>{E.require({group:"popup",target:a.currentTarget,message:p("confirms.willReplaceItems"),accept:()=>{D.value.forEach(o=>{k(o)})}})},r=(a,o)=>{a.ctrlKey&&T.value.forEach(x=>{x.id!==o?x.checked=!1:x.checked=!0})};return(a,o)=>{var we,Ae,Ve;const x=A("tippy"),K=A("p-dropdown"),_e=A("p-button"),Ce=A("p-image"),be=A("p-checkbox"),ye=A("p-progressSpinner");return c(),u("div",no,[l(Ke,{character:n(t)},null,8,["character"]),e("div",oo,[e("div",co,[l(Ee,{modelValue:te.value,"onUpdate:modelValue":o[0]||(o[0]=i=>te.value=i),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",ro,[e("div",uo,[e("div",po,[l(x,{placement:"top",duration:"0"},{content:d(()=>[e("div",ho,s(a.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:d(()=>[mo]),_:1}),de(" "+s(a.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),l(Ue,{modelValue:V.value,"onUpdate:modelValue":o[1]||(o[1]=i=>V.value=i),label:a.$t("constants.actionPoints"),"tooltip-text":a.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),l(Ue,{modelValue:L.value,"onUpdate:modelValue":o[2]||(o[2]=i=>L.value=i),label:a.$t("constants.movementPoints"),"tooltip-text":a.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),l(Ue,{modelValue:I.value,"onUpdate:modelValue":o[3]||(o[3]=i=>I.value=i),label:a.$t("constants.range"),"tooltip-text":a.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),l(Ue,{modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=i=>m.value=i),label:a.$t("constants.wakfuPoints"),"tooltip-text":a.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",vo,[e("div",_o,[e("div",go,[l(x,{placement:"top",duration:"0"},{content:d(()=>[e("div",$o,s(a.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:d(()=>[fo]),_:1}),de(" "+s(a.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",bo,[e("div",yo,s(a.$t("constants.meleeMastery")),1),l(K,{modelValue:R.value,"onUpdate:modelValue":o[5]||(o[5]=i=>R.value=i),class:"condensed-dropdown","option-label":"label",options:S},{value:d(i=>[de(s(a.$t(i.value.label)),1)]),option:d(i=>[e("div",ko,s(a.$t(i.option.label)),1)]),_:1},8,["modelValue"])]),e("div",So,[e("div",xo,s(a.$t("constants.distanceMastery")),1),l(K,{modelValue:ae.value,"onUpdate:modelValue":o[6]||(o[6]=i=>ae.value=i),class:"condensed-dropdown","option-label":"label",options:S},{value:d(i=>[de(s(a.$t(i.value.label)),1)]),option:d(i=>[e("div",Co,s(a.$t(i.option.label)),1)]),_:1},8,["modelValue"])]),e("div",wo,[e("div",Ao,s(a.$t("constants.healingMastery")),1),l(K,{modelValue:b.value,"onUpdate:modelValue":o[7]||(o[7]=i=>b.value=i),class:"condensed-dropdown","option-label":"label",options:S},{value:d(i=>[de(s(a.$t(i.value.label)),1)]),option:d(i=>[e("div",Vo,s(a.$t(i.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Wo,[e("div",qo,s(a.$t("constants.rearMastery")),1),l(K,{modelValue:W.value,"onUpdate:modelValue":o[8]||(o[8]=i=>W.value=i),class:"condensed-dropdown","option-label":"label",options:se},{value:d(i=>[de(s(a.$t(i.value.label)),1)]),option:d(i=>[e("div",Eo,s(a.$t(i.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Io,[e("div",Po,s(a.$t("constants.berserkMastery")),1),l(K,{modelValue:F.value,"onUpdate:modelValue":o[9]||(o[9]=i=>F.value=i),class:"condensed-dropdown","option-label":"label",options:se},{value:d(i=>[de(s(a.$t(i.value.label)),1)]),option:d(i=>[e("div",To,s(a.$t(i.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",Do,[e("div",Ro,[e("div",Mo,[l(_e,{class:"filter-button item-filter-action mr-2",label:a.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:$},null,8,["label"]),l(x,{placement:"top"},{content:d(()=>[e("div",Uo,s(a.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Lo]),_:1}),e("div",Fo,s(a.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),l(_e,{class:"filter-button item-filter-action",label:a.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ie},null,8,["label"])]),e("div",Oo,[(c(!0),u(z,null,ce(T.value,i=>(c(),oe(x,{key:i.id,duration:"0"},{content:d(()=>[e("div",jo,s(a.$t(i.name)),1)]),default:d(()=>[l(be,{modelValue:i.checked,"onUpdate:modelValue":w=>i.checked=w,binary:!0,class:"rarity-checkbox",onChange:w=>r(w,i.id)},{icon:d(w=>[e("div",No,[l(Ce,{class:le({disabled:!w.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${i.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",Ho,[e("div",Bo,[l(x,{placement:"top",duration:"0"},{content:d(()=>[e("div",Go,s(a.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:d(()=>[zo]),_:1}),de(" "+s(a.$t("constants.elementalMasteries")),1)]),l(Ee,{modelValue:P.value,"onUpdate:modelValue":o[10]||(o[10]=i=>P.value=i),label:a.$t("constants.fireMastery")},null,8,["modelValue","label"]),l(Ee,{modelValue:U.value,"onUpdate:modelValue":o[11]||(o[11]=i=>U.value=i),label:a.$t("constants.earthMastery")},null,8,["modelValue","label"]),l(Ee,{modelValue:re.value,"onUpdate:modelValue":o[12]||(o[12]=i=>re.value=i),label:a.$t("constants.waterMastery")},null,8,["modelValue","label"]),l(Ee,{modelValue:v.value,"onUpdate:modelValue":o[13]||(o[13]=i=>v.value=i),label:a.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),f.value!==null?(c(),u("div",Yo,s(f.value),1)):Q("",!0)]),e("div",Jo,[l(_e,{class:"py-2 px-3 mr-2",disabled:!ne.value,label:(we=q.value)!=null&&we.length?"Re-Generate Item Set":"Generate Item Set",onClick:h},null,8,["disabled","label"]),l(_e,{class:"py-2 px-3 mr-2",disabled:!((Ae=q.value)!=null&&Ae.length),label:"Equip All Items",onClick:o[14]||(o[14]=i=>j(i))},null,8,["disabled"]),l(Ee,{modelValue:ee.value,"onUpdate:modelValue":o[15]||(o[15]=i=>ee.value=i),label:"Show All Items"},null,8,["modelValue"]),Qo,e("div",null,[de(s(a.$t("characterSheet.itemSolverContent.poweredBy"))+" ",1),Xo,de("'s "+s(a.$t("characterSheet.itemSolverContent.code"))+".",1)])]),n(Y)?(c(),u("div",rc,[e("div",uc,s(a.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",dc,s(a.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",pc,[e("div",mc,[l(ye,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),l(ye,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),u("div",Zo,[n(M)?(c(),u("div",Ko,[n(M).debug?(c(),u("div",ec,s(a.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),u("div",tc,s(a.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",sc,[e("div",null,"Error Code: "+s(n(M).message),1),n(M).debug?(c(),u("div",lc,[e("div",ac,"Debug Code: "+s(n(M).debug),1)])):Q("",!0)])])):(Ve=q.value)!=null&&Ve.length?(c(),u("div",ic,[e("div",nc,[(c(!0),u(z,null,ce(q.value,i=>(c(),oe(io,{key:i.id,item:i},null,8,["item"]))),128))])])):(c(),u("div",oc,[e("div",null,s(a.$t("characterSheet.itemSolverContent.instructions")),1),e("div",cc,s(a.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},vc=ge(hc,[["__scopeId","data-v-e8cae4f5"]]);const xe=g=>(fe("data-v-13946b2e"),g=g(),$e(),g),_c={class:"flex h-full"},gc={class:"flex flex-column"},fc={class:"mb-2"},$c={class:"flex"},bc={class:"mr-2"},yc=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),kc={class:"simple-tooltip flex flex-column"},Sc={class:"mb-1"},xc={class:"mb-1"},Cc={class:"mb-1"},wc={class:"mb-1"},Ac={class:"mb-1"},Vc={class:"mb-1"},Wc={key:0,class:"item-runes-section flex align-items-center mb-2"},qc=["onClick"],Ec=["onClick","onDrop","onContextmenu","onDragstart"],Ic={class:"rune-image"},Pc={class:"rune-level"},Tc={class:"simple-tooltip"},Dc=["onDrop"],Rc={class:"rune-image"},Mc=["onDrop","onClick"],Lc={key:0,class:"sublimation-entry flex align-items-center px-2"},Uc={class:"ml-1"},Fc=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Oc={key:0,class:"item-card-tooltip"},Nc={class:"effect-header flex pt-2 px-1"},jc={class:"flex flex-column ml-1"},Hc={class:"item-name mr-2"},Bc={class:"rune-requirements flex justify-content-left gap-1 py-1"},zc=["onDrop","onClick"],Gc={class:"px-2",style:{opacity:"0.5"}},Yc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},Jc={class:"slot-image"},Qc=["onDrop"],Xc={class:"info-text"},Zc={class:"flex mb-2"},Kc={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},er={class:"ml-1"},tr={key:1,class:"flex align-items-center px-2 py-2"},sr={class:"ml-1"},lr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),ar={key:0,class:"item-card-tooltip"},ir={class:"effect-header flex pt-2 px-1"},nr={class:"flex flex-column ml-1"},or={class:"item-name mr-2"},cr={class:"flex justify-content-left py-1 text-xs"},rr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},ur={class:"ml-1"},dr={key:1,class:"flex align-items-center px-2 py-2"},pr={class:"ml-1"},mr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),hr={key:0,class:"item-card-tooltip"},vr={class:"effect-header flex pt-2 px-1"},_r={class:"flex flex-column ml-1"},gr={class:"item-name mr-2"},fr={class:"flex justify-content-left py-1 text-xs"},$r={class:"stats-summary"},br={class:"text-lg my-1 pl-2"},yr={class:"stats-summary-list flex flex-column"},kr={key:0,class:"summary-entry px-2 py-1"},Sr={class:"ml-2"},xr={class:"flex px-2 py-1"},Cr={class:"flex ml-2"},wr={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},Ar=xe(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),Vr={class:"flex flex-column mr-3"},Wr={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},qr={class:"flex align-items-center justify-content-center"},Er=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ir={class:"simple-tooltip"},Pr={class:"mx-2"},Tr={class:"rune-options flex flex-column mt-2"},Dr=["onDragstart","onClick"],Rr={class:"ml-2"},Mr=xe(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Lr={class:"ml-3 mt-2"},Ur={key:0,class:"flex flex-column",style:{"min-width":"300px"}},Fr={class:"flex mt-2"},Or={class:"mx-2"},Nr=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),jr={class:"simple-tooltip"},Hr=["onDragstart"],Br={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},zr={class:"effect-header flex pt-2 px-1"},Gr={class:"flex flex-column ml-1"},Yr={class:"item-name"},Jr={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},Qr={class:"flex mt-2"},Xr={class:"mx-2"},Zr={class:"mx-2"},Kr=["onClick","onDragstart"],eu={class:"ml-1"},tu={class:"effect-header flex pt-2 px-1"},su={class:"flex flex-column ml-1"},lu={class:"item-name"},au={class:"flex justify-content-left py-1 text-xs"},iu={key:0,class:"flex flex-column px-4 py-2"},nu={class:"mb-2"},ou={class:"ml-2"},cu={__name:"RunesSubsTabContent",setup(g,{expose:p}){const{t:E}=Ge(),t=he("currentCharacter"),{getRuneValue:k}=Qe(),{getRunes:_,getSublimations:G,canSublimationFit:D}=Ne(),Y=pe(()=>_().sort((r,a)=>r.shardsParameters.color-a.shardsParameters.color)),M=pe(()=>G().filter(r=>{var a;return r.sublimationParameters.slotColorPattern.length>0&&E(`items.${r.id}`).toLowerCase().includes((a=ee.value)==null?void 0:a.toLowerCase())}).sort((r,a)=>E(`items.${r.id}`).localeCompare(E(`items.${a.id}`))).sort((r,a)=>{if(P.value&&V.value){let o=D(t.value.equipment[P.value],r)?1:0;return(D(t.value.equipment[P.value],a)?1:0)-o}else return 0})),H=pe(()=>G().filter(r=>{var a;return j(r)&&E(`items.${r.id}`).toLowerCase().includes((a=q.value)==null?void 0:a.toLowerCase())&&(r.sublimationParameters.isEpic?L.value:!0)&&(r.sublimationParameters.isRelic?I.value:!0)})),ee=y(""),q=y(""),V=y(!0),L=y(!0),I=y(!0),m=y(1),P=y(null),U=y(null),re=y(null),v=y([{label:E("constants.level"),levelSlider:!0},{label:E("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{U.value&&(t.value.equipment[U.value.itemSlotKey][U.value.runeSlotKey].color===0?t.value.equipment[U.value.itemSlotKey][U.value.runeSlotKey].color=t.value.equipment[U.value.itemSlotKey][U.value.runeSlotKey].rune.shardsParameters.color:t.value.equipment[U.value.itemSlotKey][U.value.runeSlotKey].color=0)}},{label:E("constants.remove"),command:()=>{t.value.equipment[U.value.itemSlotKey][U.value.runeSlotKey]=null}}]),S=y(!1),se=()=>{S.value=!0},R=pe(()=>{let r={};return Object.keys(t.value.equipment).forEach(a=>{if(t.value.equipment[a]!==null){let o=t.value.equipment[a];for(let x=1;x<=4;x++){let K=o[`runeSlot${x}`];K&&(r[K.rune.id]||(r[K.rune.id]={totalValue:0,rune:K}),r[K.rune.id].totalValue+=k(K.rune,K.level,a))}o.subSlot&&(r[o.subSlot.equipEffects[0].values[0]]||(r[o.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:o.subSlot}),r[o.subSlot.equipEffects[0].values[0]].totalValue+=o.subSlot.equipEffects[0].values[2])}}),t.value.epicSubSlot&&(r[t.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:t.value.epicSubSlot}),t.value.relicSubSlot&&(r[t.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:t.value.relicSubSlot}),r}),ae=(r,a)=>{r.stopPropagation(),P.value===a?P.value=null:P.value=a},b=(r,a,o)=>{r.shiftKey&&(t.value.equipment[a][o].color===0?t.value.equipment[a][o].color=t.value.equipment[a][o].rune.shardsParameters.color:t.value.equipment[a][o].color=0),r.ctrlKey&&(t.value.equipment[a][o]=null)},W=(r,a,o)=>{t.value.equipment[a][o]&&(U.value={itemSlotKey:a,runeSlotKey:o},re.value.show(r))},F=(r,a)=>{if(P.value&&t.value.equipment[P.value]!==null){let o=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let x in o)if(t.value.equipment[P.value][o[x]]===null||t.value.equipment[P.value][o[x]]===void 0){t.value.equipment[P.value][o[x]]={rune:a,color:a.shardsParameters.color,level:m.value};break}}},te=(r,a,o,x)=>{r.dataTransfer.dropEffect="move",r.dataTransfer.effectAllowed="move",r.dataTransfer.setData("type",a),a==="rune"&&(r.dataTransfer.setData("rune",JSON.stringify(o)),x&&r.dataTransfer.setData("level",x)),a==="sublimation"&&r.dataTransfer.setData("sublimation",JSON.stringify(o))},T=(r,a,o)=>{try{let x=r.dataTransfer.getData("type");if(x==="rune"&&o.includes("rune")){let K=JSON.parse(r.dataTransfer.getData("rune")),_e=r.dataTransfer.getData("level");t.value.equipment[a][o]={rune:K,color:K.shardsParameters.color,level:_e||m.value}}if(x==="sublimation"){let K=JSON.parse(r.dataTransfer.getData("sublimation"));j(K)?K.sublimationParameters.isEpic&&o==="epicSubSlot"?t.value.epicSubSlot=K:K.sublimationParameters.isRelic&&o==="relicSubSlot"&&(t.value.relicSubSlot=K):t.value.equipment[a].subSlot=K}}catch(x){console.error(x)}},O=()=>{let r=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(t.value.equipment).forEach(a=>{t.value.equipment[a]&&(r.forEach(o=>{t.value.equipment[a][o]=void 0}),t.value.equipment[a].subSlot=null)})},$=(r,a,o)=>{t.value[o]=a},ie=r=>{r==="epicSubSlot"?t.value.epicSubSlot=null:r==="relicSubSlot"?t.value.relicSubSlot=null:t.value.equipment[r].subSlot=null},ne=r=>{if(r)switch(r){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},ue=r=>{if(r)switch(r){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},f=r=>Object.keys(B).find(a=>B[a].rawId===r),h=pe(()=>{let r=1;return rt.some((a,o)=>a<=t.value.level?(r=o+1,!1):!0),r}),j=r=>r.sublimationParameters.isRelic||r.sublimationParameters.isEpic;return Ie(()=>t.value.level,()=>{m.value=h.value},{immediate:!0}),p({showLists:se}),(r,a)=>{const o=A("tippy"),x=A("p-image"),K=A("p-inputNumber"),_e=A("p-button"),Ce=A("p-inputText"),be=A("p-checkbox"),ye=A("p-virtualScroller"),we=A("p-slider"),Ae=A("p-contextMenu"),Ve=ut("ripple");return c(),u("div",_c,[e("div",gc,[e("div",fc,[l(o,{placement:"left",duration:"0"},{content:d(()=>[e("div",kc,[e("div",Sc,s(r.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",xc,s(r.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",Cc,s(r.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",wc,s(r.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",Ac,s(r.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",Vc,s(r.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:d(()=>[e("div",$c,[e("div",bc,s(r.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),yc])]),_:1})]),(c(!0),u(z,null,ce(Object.keys(n(t).equipment),i=>(c(),u(z,{key:i},[i!=="ACCESSORY"&&i!=="PET"&&i!=="MOUNT"&&i!=="SECOND_WEAPON"?(c(),u(z,{key:0},[i!=="undefined"&&n(t).equipment[i]?(c(),u("div",Wc,[e("div",{class:le(["slot-image",{highlighted:P.value===i}]),onClick:w=>ae(w,i)},[l(x,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${i}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,qc),(c(),u(z,null,ce(4,w=>(c(),u(z,{key:w},[n(t).equipment[i][`runeSlot${w}`]?(c(),oe(o,{key:0,duration:"0"},{content:d(()=>[e("div",Tc," +"+s(n(k)(n(t).equipment[i][`runeSlot${w}`].rune,n(t).equipment[i][`runeSlot${w}`].level,i))+" "+s(r.$t(`items.${n(t).equipment[i][`runeSlot${w}`].rune.id}`)),1)]),default:d(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:X=>b(X,i,`runeSlot${w}`),onDragover:a[0]||(a[0]=me(()=>{},["prevent"])),onDragenter:a[1]||(a[1]=me(()=>{},["prevent"])),onDrop:X=>T(X,i,`runeSlot${w}`),onContextmenu:X=>W(X,i,`runeSlot${w}`),onDragstart:X=>te(X,"rune",n(t).equipment[i][`runeSlot${w}`].rune,n(t).equipment[i][`runeSlot${w}`].level)},[e("div",Ic,[l(x,{src:ue(n(t).equipment[i][`runeSlot${w}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",Pc,s(n(t).equipment[i][`runeSlot${w}`].level),1)],40,Ec)]),_:2},1024)):(c(),u("div",{key:1,class:"rune-drop-zone ml-2",onDragover:a[2]||(a[2]=me(()=>{},["prevent"])),onDragenter:a[3]||(a[3]=me(()=>{},["prevent"])),onDrop:X=>T(X,i,`runeSlot${w}`)},[e("div",Rc,[l(x,{src:ne(null),"image-style":"width: 26px"},null,8,["src"])])],40,Dc))],64))),64)),n(t).equipment[i].subSlot?(c(),oe(Le,{key:0,style:{height:"100%"}},{trigger:d(()=>[e("div",{class:le(["sublimation-drop-zone ml-2",{invalid:!n(D)(n(t).equipment[i],n(t).equipment[i].subSlot)}]),onDragover:a[4]||(a[4]=me(()=>{},["prevent"])),onDragenter:a[5]||(a[5]=me(()=>{},["prevent"])),onDrop:w=>T(w,i,"subSlot"),onClick:w=>ie(i)},[n(t).equipment[i].subSlot?(c(),u("div",Lc,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${n(t).equipment[i].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Uc,s(r.$t(`items.${n(t).equipment[i].subSlot.id}`)),1)])):Q("",!0),Fc],42,Mc)]),content:d(()=>[n(t).equipment[i].subSlot?(c(),u("div",Oc,[e("div",Nc,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${n(t).equipment[i].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",jc,[e("div",Hc,s(r.$t(`items.${n(t).equipment[i].subSlot.id}`)),1),e("div",Bc,[(c(!0),u(z,null,ce(n(t).equipment[i].subSlot.sublimationParameters.slotColorPattern,(w,X)=>(c(),u("div",{key:X,class:"flex align-items-center"},[l(x,{src:ue(w),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),l(ke,{item:n(t).equipment[i].subSlot},null,8,["item"])])):Q("",!0)]),_:2},1024)):(c(),u("div",{key:1,class:le(["sublimation-drop-zone ml-2",{invalid:!n(D)(n(t).equipment[i],n(t).equipment[i].subSlot)}]),onDragover:a[6]||(a[6]=me(()=>{},["prevent"])),onDragenter:a[7]||(a[7]=me(()=>{},["prevent"])),onDrop:w=>T(w,i,"subSlot"),onClick:w=>ie(i)},[e("div",Gc,[l(x,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,zc))])):i!=="undefined"?(c(),u("div",Yc,[e("div",Jc,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${i}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),u(z,null,ce(4,w=>e("div",{key:w,class:"rune-drop-zone ml-2",onDragover:a[8]||(a[8]=me(()=>{},["prevent"])),onDragenter:a[9]||(a[9]=me(()=>{},["prevent"])),onDrop:X=>T(X,i,`runeSlot${w}`)},null,40,Qc)),64)),e("div",Xc,s(r.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):Q("",!0)],64)):Q("",!0)],64))),128)),e("div",Zc,[l(o,{duration:"0",class:"flex h-full"},{content:d(()=>[n(t).epicSubSlot?(c(),u("div",ar,[e("div",ir,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${n(t).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",nr,[e("div",or,s(r.$t(`items.${n(t).epicSubSlot.id}`)),1),e("div",cr,s(n(t).epicSubSlot.sublimationParameters.isEpic?`${r.$t("constants.epicSublimation")}`:"")+" "+s(n(t).epicSubSlot.sublimationParameters.isRelic?`${r.$t("constants.relicSublimation")}`:""),1)])]),l(ke,{item:n(t).epicSubSlot},null,8,["item"])])):Q("",!0)]),default:d(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:a[10]||(a[10]=me(()=>{},["prevent"])),onDragenter:a[11]||(a[11]=me(()=>{},["prevent"])),onDrop:a[12]||(a[12]=i=>T(i,null,"epicSubSlot")),onClick:a[13]||(a[13]=i=>ie("epicSubSlot"))},[n(t).epicSubSlot?(c(),u("div",Kc,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${n(t).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",er,s(r.$t(`items.${n(t).epicSubSlot.id}`)),1)])):(c(),u("div",tr,[l(x,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",sr,s(r.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),lr],32)]),_:1}),l(o,{duration:"0",class:"flex h-full"},{content:d(()=>[n(t).relicSubSlot?(c(),u("div",hr,[e("div",vr,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${n(t).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",_r,[e("div",gr,s(r.$t(`items.${n(t).relicSubSlot.id}`)),1),e("div",fr,s(n(t).relicSubSlot.sublimationParameters.isEpic?`${r.$t("constants.epicSublimation")}`:"")+" "+s(n(t).relicSubSlot.sublimationParameters.isRelic?`${r.$t("constants.relicSublimation")}`:""),1)])]),l(ke,{item:n(t).relicSubSlot},null,8,["item"])])):Q("",!0)]),default:d(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:a[14]||(a[14]=me(()=>{},["prevent"])),onDragenter:a[15]||(a[15]=me(()=>{},["prevent"])),onDrop:a[16]||(a[16]=i=>T(i,null,"relicSubSlot")),onClick:a[17]||(a[17]=i=>ie("relicSubSlot"))},[n(t).relicSubSlot?(c(),u("div",rr,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${n(t).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",ur,s(r.$t(`items.${n(t).relicSubSlot.id}`)),1)])):(c(),u("div",dr,[l(x,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",pr,s(r.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),mr],32)]),_:1})]),e("div",$r,[e("div",br,s(r.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",yr,[(c(!0),u(z,null,ce(Object.keys(R.value),i=>(c(),u(z,{key:i},[R.value[i].rune?(c(),u("div",kr,[l(x,{src:ue(R.value[i].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Sr,"+"+s(R.value[i].totalValue)+" "+s(r.$t(`items.${R.value[i].rune.rune.id}`)),1)])):R.value[i].sublimation?(c(),u("div",{key:1,class:le(["summary-entry flex-column align-items-start",{warning:R.value[i].totalValue>n(Be)[R.value[i].sublimation.equipEffects[0].values[0]]}])},[e("div",xr,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${R.value[i].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",Cr,[e("span",null,s(r.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:R.value[i].totalValue})),1),l(Le,{"state-id":`${R.value[i].sublimation.equipEffects[0].values[0]}`,"current-level":R.value[i].totalValue},null,8,["state-id","current-level"])])]),R.value[i].totalValue>n(Be)[R.value[i].sublimation.equipEffects[0].values[0]]?(c(),u("div",wr,[Ar,e("span",null,s(r.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:n(Be)[R.value[i].sublimation.equipEffects[0].values[0]]})),1)])):Q("",!0)],2)):Q("",!0)],64))),128))])])]),e("div",Vr,[e("div",Wr,[e("div",qr,[l(o,{placement:"left",duration:"0"},{content:d(()=>[e("div",Ir,s(r.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:d(()=>[Er]),_:1}),e("span",Pr,s(r.$t("characterSheet.runesAndSubsContent.runeLevel")),1),l(K,{modelValue:m.value,"onUpdate:modelValue":a[18]||(a[18]=i=>m.value=i),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:h.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Tr,[(c(!0),u(z,null,ce(Y.value,i=>(c(),u("div",{key:i.id,class:le(["rune-draggable mb-1 px-2",{highlighted:P.value&&i.shardsParameters.doubleBonusPosition.includes(n(B)[P.value].rawId)}]),draggable:"true",onDragstart:w=>te(w,"rune",i),onClick:w=>F(w,i)},[l(x,{class:"rune-image",src:ne(i.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Rr,"+"+s(n(k)(i,m.value))+" "+s(r.$t(`items.${i.id}`)),1),Mr,(c(!0),u(z,null,ce(i.shardsParameters.doubleBonusPosition,w=>(c(),u("div",{key:w,class:"ml-1"},[l(x,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${f(w)}.png`,class:le({disabled:!n(t).equipment[f(w)]}),onClick:X=>ae(X,f(w))},null,8,["src","class","onClick"])]))),128))],42,Dr))),128))])]),e("div",Lr,[l(_e,{label:r.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:O},null,8,["label"])])]),S.value?(c(),u("div",Ur,[l(Ce,{modelValue:ee.value,"onUpdate:modelValue":a[19]||(a[19]=i=>ee.value=i),class:"py-2 px-2",placeholder:r.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",Fr,[l(be,{modelValue:V.value,"onUpdate:modelValue":a[20]||(a[20]=i=>V.value=i),binary:!0},null,8,["modelValue"]),e("div",Or,s(r.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),l(o,{placement:"top"},{content:d(()=>[e("div",jr,s(r.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:d(()=>[Nr]),_:1})]),M.value?(c(),oe(ye,{key:0,items:M.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:d(({item:i})=>[l(Le,null,{trigger:d(()=>{var w,X;return[e("div",{class:le(["sublimation-option py-1 px-2 mb-1",{highlighted:n(D)(n(t).equipment[P.value],i)}]),draggable:"true",onDragstart:ve=>te(ve,"sublimation",i)},[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${i.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(X=(w=i.sublimationParameters)==null?void 0:w.slotColorPattern)!=null&&X.length?(c(),u("div",Br,[(c(!0),u(z,null,ce(i.sublimationParameters.slotColorPattern,(ve,qe)=>(c(),u("div",{key:qe,class:"flex align-items-center"},[l(x,{src:ue(ve),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):Q("",!0),e("div",null,s(r.$t(`items.${i.id}`)),1)],42,Hr)]}),content:d(()=>{var w,X;return[e("div",zr,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${i.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Gr,[e("div",Yr,s(r.$t(`items.${i.id}`)),1),(X=(w=i.sublimationParameters)==null?void 0:w.slotColorPattern)!=null&&X.length?(c(),u("div",Jr,[(c(!0),u(z,null,ce(i.sublimationParameters.slotColorPattern,(ve,qe)=>(c(),u("div",{key:qe,class:"flex align-items-center"},[l(x,{src:ue(ve),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):Q("",!0)])]),l(ke,{item:i},null,8,["item"])]}),_:2},1024)]),_:1},8,["items"])):Q("",!0),l(Ce,{modelValue:q.value,"onUpdate:modelValue":a[21]||(a[21]=i=>q.value=i),class:"py-2 px-2",placeholder:r.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",Qr,[l(be,{modelValue:L.value,"onUpdate:modelValue":a[22]||(a[22]=i=>L.value=i),binary:!0},null,8,["modelValue"]),e("div",Xr,s(r.$t("constants.epic")),1),l(be,{modelValue:I.value,"onUpdate:modelValue":a[23]||(a[23]=i=>I.value=i),binary:!0},null,8,["modelValue"]),e("div",Zr,s(r.$t("constants.relic")),1)]),H.value?(c(),oe(ye,{key:1,items:H.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:d(({item:i})=>[l(Le,null,{trigger:d(()=>{var w,X;return[e("div",{class:le(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((w=n(t).epicSubSlot)==null?void 0:w.id)===i.id,"relic-highlighted":((X=n(t).relicSubSlot)==null?void 0:X.id)===i.id}]),draggable:"true",onClick:ve=>$(ve,i,i.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:ve=>te(ve,"sublimation",i)},[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${i.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",eu,s(r.$t(`items.${i.id}`))+" "+s(i.sublimationParameters.isEpic?`(${r.$t("constants.epic")})`:"")+" "+s(i.sublimationParameters.isRelic?`(${r.$t("constants.relic")})`:""),1)],42,Kr)]}),content:d(()=>[e("div",tu,[l(x,{src:`https://tmktahu.github.io/WakfuAssets/items/${i.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",su,[e("div",lu,s(r.$t(`items.${i.id}`)),1),e("div",au,s(i.sublimationParameters.isEpic?`${r.$t("constants.epicSublimation")}`:"")+" "+s(i.sublimationParameters.isRelic?`${r.$t("constants.relicSublimation")}`:""),1)])]),l(ke,{item:i},null,8,["item"])]),_:2},1024)]),_:1},8,["items"])):Q("",!0)])):Q("",!0),l(Ae,{ref_key:"runeContextMenu",ref:re,model:v.value},{item:d(({item:i,props:w})=>[i.levelSlider?(c(),u("div",iu,[e("div",nu,s(r.$t("constants.level"))+": "+s(n(t).equipment[U.value.itemSlotKey][U.value.runeSlotKey].level),1),l(we,{modelValue:n(t).equipment[U.value.itemSlotKey][U.value.runeSlotKey].level,"onUpdate:modelValue":a[24]||(a[24]=X=>n(t).equipment[U.value.itemSlotKey][U.value.runeSlotKey].level=X),min:1,max:11},null,8,["modelValue"])])):dt((c(),u("a",Oe({key:1,class:"flex align-items-center"},w.action),[e("span",ou,s(i.label),1)],16)),[[Ve]])]),_:1},8,["model"])])}}},ru=ge(cu,[["__scopeId","data-v-13946b2e"]]);const Me=g=>(fe("data-v-bf87d427"),g=g(),$e(),g),uu={class:"top-bar py-3 px-3"},du={key:0,class:"flex align-items-center pl-2"},pu={class:"py-2"},mu={key:1,class:"flex align-items-center"},hu={class:"py-2"},vu={class:"flex align-items-center"},_u={class:"capitalize"},gu={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},fu={class:"mr-2"},$u={class:"flex-grow-1"},bu=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),yu={class:"build-code flex align-items-center ml-2 mr-3"},ku=Me(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Su={class:"simple-tooltip"},xu={class:"ml-2"},Cu={class:"code-disclaimer"},wu=Me(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Au={class:"simple-tooltip"},Vu={class:"ml-1"},Wu={class:"flex flex-grow-1",style:{overflow:"auto"}},qu={class:"stats-area pt-3"},Eu={class:"flex flex-column flex-grow-1"},Iu=Me(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),Pu=Me(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),Tu={class:"flex align-items-center px-3 py-3"},Du={class:"flex align-items-center px-3 py-3"},Ru={class:"flex align-items-center px-3 py-3"},Mu={class:"flex align-items-center px-3 py-3"},Lu={key:1,class:"px-5 mt-5"},Uu={__name:"CharacterSheet",setup(g){var P,U,re;const p=pt(),E=he("currentCharacter"),t=y(null),k=y(null),_=y(null),G=y((P=E.value)==null?void 0:P.name),D=y((U=E.value)==null?void 0:U.level),Y=y(Fe[(re=E.value)==null?void 0:re.class]),M=Object.entries(Fe).map(([v,S])=>S),{createBuildCode:H}=Ze(),ee=pe(()=>H(E.value));Ie(E,()=>{q()});const q=()=>{var v,S,se;G.value=(v=E.value)==null?void 0:v.name,D.value=(S=E.value)==null?void 0:S.level,Y.value=Fe[(se=E.value)==null?void 0:se.class]},V=(v,S)=>{S==="name"?E.value.name=v.target.value:S==="levelText"?E.value.level=v.value:S==="levelSlider"?E.value.level=v:S==="class"&&(E.value.class=v.value.id),q()},L=()=>{Te(()=>{t.value.showList(),_.value.showLists()})},I=pe(()=>{var v;return(v=k.value)==null?void 0:v.hasCharacteristicsError}),m=()=>{navigator.clipboard.writeText(ee.value),p.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(v,S)=>{const se=A("p-inputText"),R=A("p-image"),ae=A("p-dropdown"),b=A("p-inputNumber"),W=A("p-slider"),F=A("tippy"),te=A("p-button"),T=A("p-tabPanel"),O=A("p-tabView");return n(E)?(c(),u("div",{key:n(E).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",uu,[l(se,{modelValue:G.value,"onUpdate:modelValue":S[0]||(S[0]=$=>G.value=$),class:"mr-2 py-2 px-2",onInput:S[1]||(S[1]=$=>V($,"name"))},null,8,["modelValue"]),l(ae,{modelValue:Y.value,"onUpdate:modelValue":S[2]||(S[2]=$=>Y.value=$),options:n(M),placeholder:v.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:S[3]||(S[3]=$=>V($,"class"))},{value:d($=>[$.value?(c(),u("div",du,[l(R,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${$.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",pu,s(v.$t($.value.name)),1)])):(c(),u("span",mu,[l(R,{class:"class-image mx-2",src:n(mt),"image-style":"width: 28px"},null,8,["src"]),e("div",hu,s($.placeholder),1)]))]),option:d($=>[e("div",vu,[e("div",_u,s(v.$t($.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",gu,[e("span",fu,s(v.$t("characterSheet.level")),1),l(b,{modelValue:D.value,"onUpdate:modelValue":S[4]||(S[4]=$=>D.value=$),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:S[5]||(S[5]=$=>V($,"levelText"))},null,8,["modelValue"]),e("div",$u,[l(W,{modelValue:D.value,"onUpdate:modelValue":S[6]||(S[6]=$=>D.value=$),min:1,max:230,onChange:S[7]||(S[7]=$=>V($,"levelSlider"))},null,8,["modelValue"])])]),bu,e("div",yu,[l(F,{placement:"left",duration:"0"},{content:d(()=>[e("div",Su,s(v.$t("characterSheet.buildCopyPaste")),1)]),default:d(()=>[ku]),_:1}),e("div",xu,s(v.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:m},[e("span",null,s(ee.value),1)]),l(te,{class:"py-1 ml-2 px-2",label:v.$t("characterSheet.copy"),onClick:m},null,8,["label"]),e("div",Cu,[l(F,{placement:"bottom",duration:"0"},{content:d(()=>[e("div",Au,s(v.$t("characterSheet.codeInfo")),1)]),default:d(()=>[wu]),_:1}),e("div",Vu,s(v.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",Wu,[e("div",qu,[l(Bl)]),e("div",Eu,[l(O,{class:"main-tab-view",onTabChange:L},{default:d(()=>[l(T,null,{header:d(()=>[e("div",{class:le(["characteristics-tab-header px-3 h-full",{error:I.value,"points-to-spend":!1}])},[e("span",null,s(v.$t("characterSheet.characteristics")),1),Iu,Pu],2)]),default:d(()=>[l(ga,{ref_key:"characteristicsTabContent",ref:k},null,512)]),_:1}),l(T,null,{header:d(()=>[e("div",Tu,[e("span",null,s(v.$t("characterSheet.equipment")),1)])]),default:d(()=>[l(Fi,{ref_key:"equipmentTabContent",ref:t},null,512)]),_:1}),l(T,null,{header:d(()=>[e("div",Du,[e("span",null,s(v.$t("characterSheet.autoItemSolver")),1)])]),default:d(()=>[l(vc)]),_:1}),l(T,null,{header:d(()=>[e("div",Ru,[e("span",null,s(v.$t("characterSheet.runesAndSubs")),1)])]),default:d(()=>[l(ru,{ref_key:"runesAndSubsTabContent",ref:_},null,512)]),_:1}),l(T,null,{header:d(()=>[e("div",Mu,[e("span",null,s(v.$t("characterSheet.spellsAndPassives")),1)])]),default:d(()=>[l(Wn)]),_:1})]),_:1})])])])):(c(),u("div",Lu," No Character data found for the given ID. "))}}},Nu=ge(Uu,[["__scopeId","data-v-bf87d427"]]);export{Nu as default};
