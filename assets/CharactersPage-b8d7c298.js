import{_ as E,u as L,a as N,b as R,i as T,r as j,c as F,d as U,e as A,f as u,o,g as p,h as t,t as l,j as s,k as q,F as z,l as H,m as f,C as h,n as y}from"./index-4160b301.js";import{E as O}from"./EquipmentButtons-b69d844b.js";import{a as S}from"./addCompanion-f6ce7806.js";import"./ItemStatList-41c3d15a.js";const W={class:"flex flex-column flex-grow-1 ml-4 mr-3",style:{height:"100%",overflow:"hidden"}},G={class:"mt-3",style:{"font-size":"42px"}},J={class:"mt-2"},K={class:"flex align-items-center w-full"},M={class:"text-xl mr-3"},Q={key:0,class:"mt-2",style:{color:"var(--error)"}},X={class:"character-area"},Y={class:"flex justify-content-between w-full"},Z={class:"text-xl"},ee={class:"character-enties-wrapper flex flex-column mt-2 pr-2 pb-3"},te=["onClick"],ae={class:"character-info flex align-items-center justify-content-left flex-grow-1"},se={class:"ml-3"},le={class:"class-name flex-grow-1 truncate"},ce={class:"class-level"},oe={class:"character-items flex-grow-1"},re={__name:"CharactersPage",setup(ne){const{t:b}=L(),x=N(),m=R(),_=T("masterData"),r=j(""),{decodeBuildCode:k}=F(),{createNewCharacter:w,createNewCharacterFromCode:B,deleteCharacter:P}=U(_),v=A(()=>k(r.value)!==null),I=()=>{let e=w();m.push({name:h,params:{characterId:e.id}})},$=()=>{let e=B(r.value);m.push({name:h,params:{characterId:e.id}})},C=(e,c)=>{x.require({group:"popup",target:e.currentTarget,message:b("confirms.irreversable"),accept:()=>{P(c)}})},D=(e,c)=>{e.target.classList.contains("delete-button")||m.push({name:h,params:{characterId:c}})};return(e,c)=>{const n=u("p-divider"),V=u("p-inputText"),d=u("p-button"),g=u("p-image");return o(),p("div",W,[t("div",G,l(e.$t("charactersPage.title")),1),t("div",J,l(e.$t("charactersPage.description")),1),s(n),t("div",null,[t("div",K,[t("div",M,l(e.$t("charactersPage.codeInputLabel"))+":",1),s(V,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=a=>r.value=a),placeholder:e.$t("charactersPage.codeInputPlaceholder"),class:"flex-grow-1 py-2"},null,8,["modelValue","placeholder"]),s(d,{icon:"mdi mdi-plus-thick",disabled:!v.value,label:e.$t("charactersPage.codeInputButton"),class:"create-character-button py-1 pr-3 pl-2 ml-3",onClick:$},null,8,["disabled","label"])]),!v.value&&r.value!==""?(o(),p("div",Q,l(e.$t("charactersPage.invalidBuildCode")),1)):q("",!0)]),s(n),t("div",X,[t("div",Y,[t("div",Z,l(e.$t("charactersPage.savedCharactersTitle")),1),s(d,{icon:"mdi mdi-plus-thick",label:e.$t("charactersPage.createNewCharacterButton"),class:"create-character-button py-1 pr-3 pl-2",onClick:I},null,8,["label"])]),t("div",ee,[(o(!0),p(z,null,H(f(_).characters,a=>(o(),p("div",{key:a.id,class:"character-entry py-2 mt-2",onClick:i=>D(i,a.id)},[t("div",ae,[t("div",se,[a.class?(o(),y(g,{key:0,class:"class-image",src:`https://tmktahu.github.io/WakfuAssets/classes/${a.class}.png`,"image-style":"width: 40px"},null,8,["src"])):(o(),y(g,{key:1,class:"class-image",src:f(S),"image-style":"width: 40px"},null,8,["src"]))]),s(n,{class:"mx-2",layout:"vertical"}),t("div",le,l(a.name),1),s(n,{class:"mx-2",layout:"vertical"}),t("div",ce,"Lvl "+l(a.level),1),s(n,{class:"mx-2",layout:"vertical"}),s(d,{class:"by-level-delete-button delete-button py-2 px-2 mr-3",icon:"pi pi-trash",onClick:i=>C(i,a.id)},null,8,["onClick"])]),t("div",oe,[s(O,{character:a,"read-only":""},null,8,["character"])]),s(d,{class:"at-end-delete-button delete-button py-2 px-2 mr-3",icon:"pi pi-trash",onClick:i=>C(i,a.id)},null,8,["onClick"])],8,te))),128))])])])}}},me=E(re,[["__scopeId","data-v-c38f6481"]]);export{me as default};
