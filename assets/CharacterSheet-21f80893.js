import{_ as ue,i as re,g as E,q as l,o as c,h as m,j as e,k as s,t,y as ze,l as ie,z as Ge,s as de,x as pe,A as Te,r as k,f as ce,B as et,D as be,E as Ye,G as te,H as O,w as d,F as Y,m as ae,n as se,I as oe,a as Ue,b as Le,J as De,K as we,L as tt,M as st,N as Ae,O as H,P as xe,Q as at,S as Oe,R as lt,d as Je,T as it,U as nt,V as ot,p as ge,W as ct,u as rt}from"./index-74474420.js";import{E as Qe,u as Xe}from"./EquipmentButtons-b980d83b.js";import{I as Fe}from"./ItemStatList-f8e12c0e.js";const z=_=>(de("data-v-5d21ae46"),_=_(),pe(),_),ut={key:0},dt={class:"flex justify-content-between w-full px-2"},pt={class:"main-stat-box"},mt={class:"flex align-items-center my-1"},ht={class:"ml-1"},vt={class:"stat-value py-1"},_t={class:"main-stat-box"},gt={class:"flex align-items-center my-1"},ft={class:"ml-1"},bt={class:"stat-value py-1"},$t={class:"main-stat-box"},yt={class:"flex align-items-center my-1"},kt={class:"ml-1"},St={class:"stat-value py-1"},Ct={class:"main-stat-box"},xt={class:"flex align-items-center my-1"},wt={class:"ml-1"},At={class:"stat-value py-1"},Vt={key:0,class:"main-stat-box"},Wt={class:"flex align-items-center my-1"},It={class:"ml-1"},qt={class:"stat-value py-1"},Et={key:1,class:"main-stat-box"},Pt={class:"flex align-items-center my-1"},Tt={class:"ml-1"},Dt={class:"stat-value py-1"},Mt={class:"main-stat-area flex flex-column mt-2 pb-2"},Rt={class:"section-header py-1 mb-1"},Ot={class:"flex pl-1"},Ft={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ut={class:"stat-block pr-2"},Lt={class:"ml-1"},Nt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ht={class:"stat-block pr-2"},jt={class:"ml-1"},Bt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),zt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Gt={class:"stat-block pr-2"},Yt={class:"ml-1"},Jt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Qt={class:"stat-block pr-2"},Xt={class:"ml-1"},Zt=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Kt={class:"section-header py-1 mb-1"},es={class:"flex pl-1"},ts={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ss={class:"stat-block pr-2"},as={class:"ml-1"},ls=z(()=>e("div",{class:"flex-grow-1"},null,-1)),is={class:"stat-block pr-2"},ns={class:"ml-1"},os=z(()=>e("div",{class:"flex-grow-1"},null,-1)),cs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},rs={class:"stat-block pr-2"},us={class:"ml-1"},ds=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ps={class:"stat-block pr-2"},ms={class:"ml-1"},hs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),vs={class:"lex flex-column"},_s={class:"section-header py-1 mb-1"},gs={class:"flex pl-1"},fs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},bs={class:"stat-block pr-2"},$s={class:"ml-1"},ys=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ks={class:"stat-block pr-2"},Ss={class:"ml-1"},Cs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),xs={class:"stat-block pr-2"},ws={class:"ml-1"},As=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Vs={class:"stat-block pr-2"},Ws={class:"ml-1"},Is=z(()=>e("div",{class:"flex-grow-1"},null,-1)),qs={class:"stat-block pr-2"},Es={class:"ml-1"},Ps=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ts={class:"stat-block pr-2"},Ds={class:"ml-1"},Ms=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Rs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Os={class:"stat-block pr-2"},Fs={class:"ml-1"},Us=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},Ns={class:"ml-1"},Hs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),js={class:"stat-block pr-2"},Bs={class:"ml-1"},zs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Gs={class:"stat-block pr-2"},Ys={class:"ml-1"},Js=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Qs={class:"stat-block pr-2"},Xs={class:"ml-1"},Zs=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ks={class:"stat-block pr-2"},ea={class:"ml-1"},ta=z(()=>e("div",{class:"flex-grow-1"},null,-1)),sa={class:"flex flex-column"},aa={class:"section-header py-1 mb-1"},la={class:"flex pl-1"},ia={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},na={class:"stat-block pr-2"},oa={class:"ml-1"},ca=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ra={class:"stat-block pr-2"},ua={class:"ml-1"},da=z(()=>e("div",{class:"flex-grow-1"},null,-1)),pa={class:"stat-block pr-2"},ma={class:"ml-1"},ha=z(()=>e("div",{class:"flex-grow-1"},null,-1)),va={class:"stat-block pr-2"},_a={class:"ml-1"},ga=z(()=>e("div",{class:"flex-grow-1"},null,-1)),fa={class:"stat-block pr-2"},ba={class:"ml-1"},$a=z(()=>e("div",{class:"flex-grow-1"},null,-1)),ya={class:"stat-block pr-2"},ka={class:"ml-1"},Sa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ca={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xa={class:"stat-block pr-2"},wa={class:"ml-1"},Aa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Va={class:"stat-block pr-2"},Wa={class:"ml-1"},Ia=z(()=>e("div",{class:"flex-grow-1"},null,-1)),qa={class:"stat-block pr-2"},Ea={class:"ml-1"},Pa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ta={class:"stat-block pr-2"},Da={class:"ml-1"},Ma=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ra={class:"stat-block pr-2"},Oa={class:"ml-1"},Fa=z(()=>e("div",{class:"flex-grow-1"},null,-1)),Ua={__name:"StatDisplay",setup(_){const u=re("currentCharacter"),{calcElemResistancePercentage:b}=Ge();return(a,$)=>{const p=E("p-image");return l(u)?(c(),m("div",ut,[e("div",dt,[e("div",pt,[e("div",mt,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",ht,t(a.$t("constants.hp")),1)]),e("div",vt,t(l(u).healthPoints),1)]),e("div",_t,[e("div",gt,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",ft,t(a.$t("characterSheet.statsDisplay.ar")),1)]),e("div",bt,t(l(u).armorPoints),1)]),e("div",$t,[e("div",yt,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",kt,t(a.$t("constants.ap")),1)]),e("div",St,t(l(u).actionPoints),1)]),e("div",Ct,[e("div",xt,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",wt,t(a.$t("constants.mp")),1)]),e("div",At,t(l(u).movementPoints),1)]),l(u).class===l(ze).huppermage?(c(),m("div",Vt,[e("div",Wt,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",It,t(a.$t("characterSheet.statsDisplay.qb")),1)]),e("div",qt,t(l(u).quadrumentalBreeze),1)])):(c(),m("div",Et,[e("div",Pt,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Tt,t(a.$t("constants.wp")),1)]),e("div",Dt,t(l(u).wakfuPoints),1)]))]),e("div",Mt,[e("div",Rt,t(a.$t("constants.elementalMasteries")),1),e("div",Ot,[e("div",Ft,[e("div",Ut,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Lt,t(a.$t("characterSheet.statsDisplay.water")),1),Nt,e("span",null,t(l(u).masteries.water),1)]),e("div",Ht,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",jt,t(a.$t("characterSheet.statsDisplay.air")),1),Bt,e("span",null,t(l(u).masteries.air),1)])]),e("div",zt,[e("div",Gt,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Yt,t(a.$t("characterSheet.statsDisplay.earth")),1),Jt,e("span",null,t(l(u).masteries.earth),1)]),e("div",Qt,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",Xt,t(a.$t("characterSheet.statsDisplay.fire")),1),Zt,e("span",null,t(l(u).masteries.fire),1)])])]),e("div",Kt,t(a.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",es,[e("div",ts,[e("div",ss,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",as,t(a.$t("characterSheet.statsDisplay.water")),1),ls,e("span",null,t(l(b)(l(u).resistances.water))+"% ("+t(l(u).resistances.water)+")",1)]),e("div",is,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ns,t(a.$t("characterSheet.statsDisplay.air")),1),os,e("span",null,t(l(b)(l(u).resistances.air))+"% ("+t(l(u).resistances.air)+")",1)])]),e("div",cs,[e("div",rs,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",us,t(a.$t("characterSheet.statsDisplay.earth")),1),ds,e("span",null,t(l(b)(l(u).resistances.earth))+"% ("+t(l(u).resistances.earth)+")",1)]),e("div",ps,[s(p,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ms,t(a.$t("characterSheet.statsDisplay.fire")),1),hs,e("span",null,t(l(b)(l(u).resistances.fire))+"% ("+t(l(u).resistances.fire)+")",1)])])]),e("div",vs,[e("div",_s,t(a.$t("characterSheet.statsDisplay.battle")),1),e("div",gs,[e("div",fs,[e("div",bs,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",$s,t(a.$t("characterSheet.statsDisplay.damageInflicted")),1),ys,e("span",null,t(l(u).stats.damageInflicted)+"%",1)]),e("div",ks,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",Ss,t(a.$t("characterSheet.statsDisplay.criticalHit")),1),Cs,e("span",null,t(l(u).stats.criticalHit)+"%",1)]),e("div",xs,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",ws,t(a.$t("constants.initiative")),1),As,e("span",null,t(l(u).stats.initiative),1)]),e("div",Vs,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ws,t(a.$t("constants.dodge")),1),Is,e("span",null,t(l(u).stats.dodge),1)]),e("div",qs,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Es,t(a.$t("constants.wisdom")),1),Ps,e("span",null,t(l(u).stats.wisdom),1)]),e("div",Ts,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Ds,t(a.$t("constants.control")),1),Ms,e("span",null,t(l(u).stats.control),1)])]),e("div",Rs,[e("div",Os,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Fs,t(a.$t("characterSheet.statsDisplay.healsPerformed")),1),Us,e("span",null,t(l(u).stats.healsPerformed)+"%",1)]),e("div",Ls,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Ns,t(a.$t("characterSheet.statsDisplay.block")),1),Hs,e("span",null,t(l(u).stats.block)+"%",1)]),e("div",js,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Bs,t(a.$t("constants.range")),1),zs,e("span",null,t(l(u).stats.range),1)]),e("div",Gs,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",Ys,t(a.$t("constants.lock")),1),Js,e("span",null,t(l(u).stats.lock),1)]),e("div",Qs,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",Xs,t(a.$t("constants.prospecting")),1),Zs,e("span",null,t(l(u).stats.prospecting),1)]),e("div",Ks,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",ea,t(a.$t("constants.forceOfWill")),1),ta,e("span",null,t(l(u).stats.forceOfWill),1)])])])]),e("div",sa,[e("div",aa,t(a.$t("characterSheet.statsDisplay.secondary")),1),e("div",la,[e("div",ia,[e("div",na,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",oa,t(a.$t("constants.criticalMastery")),1),ca,e("span",null,t(l(u).masteries.critical),1)]),e("div",ra,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",ua,t(a.$t("constants.rearMastery")),1),da,e("span",null,t(l(u).masteries.rear),1)]),e("div",pa,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",ma,t(a.$t("constants.meleeMastery")),1),ha,e("span",null,t(l(u).masteries.melee),1)]),e("div",va,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",_a,t(a.$t("constants.distanceMastery")),1),ga,e("span",null,t(l(u).masteries.distance),1)]),e("div",fa,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",ba,t(a.$t("constants.healingMastery")),1),$a,e("span",null,t(l(u).masteries.healing),1)]),e("div",ya,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",ka,t(a.$t("constants.berserkMastery")),1),Sa,e("span",null,t(l(u).masteries.berserk),1)])]),e("div",Ca,[e("div",xa,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",wa,t(a.$t("constants.criticalResistance")),1),Aa,e("span",null,t(l(u).resistances.critical),1)]),e("div",Va,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Wa,t(a.$t("constants.rearResistance")),1),Ia,e("span",null,t(l(u).resistances.rear),1)]),e("div",qa,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Ea,t(a.$t("characterSheet.statsDisplay.armorGiven")),1),Pa,e("span",null,t(l(u).stats.armorGiven)+"%",1)]),e("div",Ta,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Da,t(a.$t("characterSheet.statsDisplay.armorReceived")),1),Ma,e("span",null,t(l(u).stats.armorReceived)+"%",1)]),e("div",Ra,[s(p,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Oa,t(a.$t("characterSheet.statsDisplay.indirectDamage")),1),Fa,e("span",null,t(l(u).stats.indirectDamage)+"%",1)])])])])])])):ie("",!0)}}},La=ue(Ua,[["__scopeId","data-v-5d21ae46"]]);const Na=_=>(de("data-v-c1799ab4"),_=_(),pe(),_),Ha={class:"flex align-items-center my-1"},ja={class:"entry-label ml-2"},Ba=Na(()=>e("div",{class:"flex-grow-1"},null,-1)),za={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(_){return(u,b)=>{const a=E("p-image"),$=E("p-inputNumber");return c(),m("div",Ha,[s(a,{src:_.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",ja,t(_.label),1),Ba,s($,Te(u.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(_.maxOverride,_.remainingPoints+u.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:_.updateFunction}),null,16,["max","onInput"])])}}},G=ue(za,[["__scopeId","data-v-c1799ab4"]]);const Ve=_=>(de("data-v-541c021e"),_=_(),pe(),_),Ga={class:"flex flex-column h-full"},Ya={class:"characteristic-panels flex pb-3"},Ja={class:"flex flex-column flex-grow-1 mr-1"},Qa={class:"characteristics-category-header px-2 py-2"},Xa=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),Za={class:"flex flex-column px-2 py-1"},Ka={class:"characteristics-category-header px-2 py-2"},el=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),tl={class:"flex flex-column px-2 py-1"},sl={class:"characteristics-category-header px-2 py-2"},al=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),ll={class:"flex flex-column px-2 py-1"},il={class:"flex flex-column flex-grow-1 ml-1"},nl={class:"characteristics-category-header px-2 py-2"},ol=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),cl={class:"flex flex-column px-2 py-1"},rl={class:"characteristics-category-header px-2 py-2"},ul=Ve(()=>e("div",{class:"flex-grow-1"},null,-1)),dl={class:"flex flex-column px-2 py-1"},pl={__name:"CharacteristicsTabContent",setup(_,{expose:u}){const b=re("masterData"),a=re("currentCharacter"),$=k(!1),p=ce(()=>$.value?10:1);et(()=>{document.addEventListener("keydown",n=>{F(n)}),document.addEventListener("keyup",n=>{F(n)})});const F=n=>{n.shiftKey?$.value=!0:$.value=!1},R=k(a.value.characteristics.intelligence.percentHealthPoints),M=k(a.value.characteristics.intelligence.elementalResistance),W=k(a.value.characteristics.intelligence.barrier),j=k(a.value.characteristics.intelligence.percentHealsReceived),U=k(a.value.characteristics.intelligence.percentArmorHeathPoints),q=k(a.value.characteristics.strength.elementalMastery),T=k(a.value.characteristics.strength.meleeMastery),L=k(a.value.characteristics.strength.distanceMastery),S=k(a.value.characteristics.strength.healthPoints),P=k(a.value.characteristics.agility.lock),ee=k(a.value.characteristics.agility.dodge),K=k(a.value.characteristics.agility.initiative),v=k(a.value.characteristics.agility.lockAndDodge),x=k(a.value.characteristics.agility.forceOfWill),N=k(a.value.characteristics.fortune.percentCriticalHit),Q=k(a.value.characteristics.fortune.percentBlock),X=k(a.value.characteristics.fortune.criticalMastery),g=k(a.value.characteristics.fortune.rearMastery),i=k(a.value.characteristics.fortune.berserkMastery),f=k(a.value.characteristics.fortune.healingMastery),I=k(a.value.characteristics.fortune.rearResistance),V=k(a.value.characteristics.fortune.criticalResistance),y=k(a.value.characteristics.major.actionPoints),J=k(a.value.characteristics.major.movementPointsAndDamage),Z=k(a.value.characteristics.major.rangeAndDamage),le=k(a.value.characteristics.major.wakfuPoints),w=k(a.value.characteristics.major.controlAndDamage),D=k(a.value.characteristics.major.percentDamageInflicted),r=k(a.value.characteristics.major.elementalResistance),h=n=>{let o=0;return n==="intelligence"?o=R.value+M.value+W.value+j.value+U.value:n==="strength"?o=q.value+T.value+L.value+S.value:n==="agility"?o=P.value+ee.value+K.value+v.value+x.value:n==="fortune"?o=N.value+Q.value+X.value+g.value+i.value+f.value+I.value+V.value:n==="major"&&(o=y.value+J.value+Z.value+le.value+w.value+D.value+r.value),a.value.characteristics.limits[n]-o},B=()=>{a.value.characteristics.intelligence.percentHealthPoints=R.value,a.value.characteristics.intelligence.elementalResistance=M.value,a.value.characteristics.intelligence.barrier=W.value,a.value.characteristics.intelligence.percentHealsReceived=j.value,a.value.characteristics.intelligence.percentArmorHeathPoints=U.value,a.value.characteristics.strength.elementalMastery=q.value,a.value.characteristics.strength.meleeMastery=T.value,a.value.characteristics.strength.distanceMastery=L.value,a.value.characteristics.strength.healthPoints=S.value,a.value.characteristics.agility.lock=P.value,a.value.characteristics.agility.dodge=ee.value,a.value.characteristics.agility.initiative=K.value,a.value.characteristics.agility.lockAndDodge=v.value,a.value.characteristics.agility.forceOfWill=x.value,a.value.characteristics.fortune.percentCriticalHit=N.value,a.value.characteristics.fortune.percentBlock=Q.value,a.value.characteristics.fortune.criticalMastery=X.value,a.value.characteristics.fortune.rearMastery=g.value,a.value.characteristics.fortune.berserkMastery=i.value,a.value.characteristics.fortune.healingMastery=f.value,a.value.characteristics.fortune.rearResistance=I.value,a.value.characteristics.fortune.criticalResistance=V.value,a.value.characteristics.major.actionPoints=y.value,a.value.characteristics.major.movementPointsAndDamage=J.value,a.value.characteristics.major.rangeAndDamage=Z.value,a.value.characteristics.major.wakfuPoints=le.value,a.value.characteristics.major.controlAndDamage=w.value,a.value.characteristics.major.percentDamageInflicted=D.value,a.value.characteristics.major.elementalResistance=r.value};be(b,Ye.debounce(()=>{R.value=a.value.characteristics.intelligence.percentHealthPoints,M.value=a.value.characteristics.intelligence.elementalResistance,W.value=a.value.characteristics.intelligence.barrier,j.value=a.value.characteristics.intelligence.percentHealsReceived,U.value=a.value.characteristics.intelligence.percentArmorHeathPoints,q.value=a.value.characteristics.strength.elementalMastery,T.value=a.value.characteristics.strength.meleeMastery,L.value=a.value.characteristics.strength.distanceMastery,S.value=a.value.characteristics.strength.healthPoints,P.value=a.value.characteristics.agility.lock,ee.value=a.value.characteristics.agility.dodge,K.value=a.value.characteristics.agility.initiative,v.value=a.value.characteristics.agility.lockAndDodge,x.value=a.value.characteristics.agility.forceOfWill,N.value=a.value.characteristics.fortune.percentCriticalHit,Q.value=a.value.characteristics.fortune.percentBlock,X.value=a.value.characteristics.fortune.criticalMastery,g.value=a.value.characteristics.fortune.rearMastery,i.value=a.value.characteristics.fortune.berserkMastery,f.value=a.value.characteristics.fortune.healingMastery,I.value=a.value.characteristics.fortune.rearResistance,V.value=a.value.characteristics.fortune.criticalResistance,y.value=a.value.characteristics.major.actionPoints,J.value=a.value.characteristics.major.movementPointsAndDamage,Z.value=a.value.characteristics.major.rangeAndDamage,le.value=a.value.characteristics.major.wakfuPoints,w.value=a.value.characteristics.major.controlAndDamage,D.value=a.value.characteristics.major.percentDamageInflicted,r.value=a.value.characteristics.major.elementalResistance},100));const Re=ce(()=>h("intelligence")<0||h("strength")<0||h("agility")<0||h("fortune")<0||h("major")<0);return u({hasCharacteristicsError:Re}),(n,o)=>{var ne,me,_e,qe,Ee,ye,ke,Se,Ce,C,he,Ne,He,je,Be;return c(),m("div",Ga,[e("div",Ya,[e("div",Ja,[e("div",{class:te(["category-wrapper flex flex-column",{error:h("intelligence")<0}])},[e("div",Qa,[e("span",null,t(n.$t("characterSheet.characteristicsContent.intelligence")),1),Xa,e("span",null,t(h("intelligence"))+"/"+t((_e=(me=(ne=l(a))==null?void 0:ne.characteristics)==null?void 0:me.limits)==null?void 0:_e.intelligence)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Za,[s(G,{modelValue:R.value,"onUpdate:modelValue":o[0]||(o[0]=A=>R.value=A),label:n.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":h("intelligence"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:M.value,"onUpdate:modelValue":o[1]||(o[1]=A=>M.value=A),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":h("intelligence"),"update-function":B,"max-override":10,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:W.value,"onUpdate:modelValue":o[2]||(o[2]=A=>W.value=A),label:n.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":h("intelligence"),"update-function":B,"max-override":10,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:j.value,"onUpdate:modelValue":o[3]||(o[3]=A=>j.value=A),label:n.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":h("intelligence"),"update-function":B,"max-override":5,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:U.value,"onUpdate:modelValue":o[4]||(o[4]=A=>U.value=A),label:n.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":h("intelligence"),"update-function":B,"max-override":10,step:p.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:te(["category-wrapper flex flex-column mt-2",{error:h("strength")<0}])},[e("div",Ka,[e("span",null,t(n.$t("characterSheet.characteristicsContent.strength")),1),el,e("span",null,t(h("strength"))+"/"+t((ye=(Ee=(qe=l(a))==null?void 0:qe.characteristics)==null?void 0:Ee.limits)==null?void 0:ye.strength)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",tl,[s(G,{modelValue:q.value,"onUpdate:modelValue":o[5]||(o[5]=A=>q.value=A),label:n.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":h("strength"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:T.value,"onUpdate:modelValue":o[6]||(o[6]=A=>T.value=A),label:n.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":h("strength"),"update-function":B,"max-override":40,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:L.value,"onUpdate:modelValue":o[7]||(o[7]=A=>L.value=A),label:n.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":h("strength"),"update-function":B,"max-override":40,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:S.value,"onUpdate:modelValue":o[8]||(o[8]=A=>S.value=A),label:n.$t("characterSheet.characteristicsContent.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":h("strength"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:te(["category-wrapper flex flex-column mt-2",{error:h("agility")<0}])},[e("div",sl,[e("span",null,t(n.$t("characterSheet.characteristicsContent.agility")),1),al,e("span",null,t(h("agility"))+"/"+t((Ce=(Se=(ke=l(a))==null?void 0:ke.characteristics)==null?void 0:Se.limits)==null?void 0:Ce.agility)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ll,[s(G,{modelValue:P.value,"onUpdate:modelValue":o[9]||(o[9]=A=>P.value=A),label:n.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":h("agility"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:ee.value,"onUpdate:modelValue":o[10]||(o[10]=A=>ee.value=A),label:n.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":h("agility"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:K.value,"onUpdate:modelValue":o[11]||(o[11]=A=>K.value=A),label:n.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":h("agility"),"update-function":B,"max-override":20,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:v.value,"onUpdate:modelValue":o[12]||(o[12]=A=>v.value=A),label:n.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":h("agility"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:x.value,"onUpdate:modelValue":o[13]||(o[13]=A=>x.value=A),label:n.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":h("agility"),"update-function":B,"max-override":20,step:p.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",il,[e("div",{class:te(["category-wrapper flex flex-column flex-grow-1",{error:h("fortune")<0}])},[e("div",nl,[e("span",null,t(n.$t("characterSheet.characteristicsContent.fortune")),1),ol,e("span",null,t(h("fortune"))+"/"+t((Ne=(he=(C=l(a))==null?void 0:C.characteristics)==null?void 0:he.limits)==null?void 0:Ne.fortune)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",cl,[s(G,{modelValue:N.value,"onUpdate:modelValue":o[14]||(o[14]=A=>N.value=A),label:n.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":h("fortune"),"update-function":B,"max-override":20,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:Q.value,"onUpdate:modelValue":o[15]||(o[15]=A=>Q.value=A),label:n.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":h("fortune"),"update-function":B,"max-override":20,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:X.value,"onUpdate:modelValue":o[16]||(o[16]=A=>X.value=A),label:n.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":h("fortune"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:g.value,"onUpdate:modelValue":o[17]||(o[17]=A=>g.value=A),label:n.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":h("fortune"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:i.value,"onUpdate:modelValue":o[18]||(o[18]=A=>i.value=A),label:n.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":h("fortune"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:f.value,"onUpdate:modelValue":o[19]||(o[19]=A=>f.value=A),label:n.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":h("fortune"),"update-function":B,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:I.value,"onUpdate:modelValue":o[20]||(o[20]=A=>I.value=A),label:n.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":h("fortune"),"update-function":B,"max-override":20,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:V.value,"onUpdate:modelValue":o[21]||(o[21]=A=>V.value=A),label:n.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":h("fortune"),"update-function":B,"max-override":20,step:p.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:te(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:h("major")<0}])},[e("div",rl,[e("span",null,t(n.$t("characterSheet.characteristicsContent.major")),1),ul,e("span",null,t(h("major"))+"/"+t((Be=(je=(He=l(a))==null?void 0:He.characteristics)==null?void 0:je.limits)==null?void 0:Be.major)+" "+t(n.$t("characterSheet.characteristicsContent.points")),1)]),e("div",dl,[s(G,{modelValue:y.value,"onUpdate:modelValue":o[22]||(o[22]=A=>y.value=A),label:n.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:J.value,"onUpdate:modelValue":o[23]||(o[23]=A=>J.value=A),label:n.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:Z.value,"onUpdate:modelValue":o[24]||(o[24]=A=>Z.value=A),label:n.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:le.value,"onUpdate:modelValue":o[25]||(o[25]=A=>le.value=A),label:n.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:w.value,"onUpdate:modelValue":o[26]||(o[26]=A=>w.value=A),label:n.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:D.value,"onUpdate:modelValue":o[27]||(o[27]=A=>D.value=A),label:n.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"]),s(G,{modelValue:r.value,"onUpdate:modelValue":o[28]||(o[28]=A=>r.value=A),label:n.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":h("major"),"update-function":B,"max-override":1,step:p.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},ml=ue(pl,[["__scopeId","data-v-541c021e"]]);const Ze=_=>(de("data-v-f117c1a1"),_=_(),pe(),_),hl={class:"flex align-items-center flex-wrap mt-3"},vl={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},_l={class:"checkmarks-container flex gap-2"},gl={class:"rarity-container mt-2"},fl={class:"flex align-items-center mb-1"},bl=Ze(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),$l={class:"simple-tooltip"},yl={class:"mr-2 ml-1"},kl={class:"rarity-button-wrapper"},Sl={class:"flex justify-content-center align-items-center"},Cl={class:"simple-tooltip"},xl={class:"item-types-container mt-2"},wl={class:"flex align-items-center justify-content-center mb-1 w-full"},Al=Ze(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Vl={class:"simple-tooltip"},Wl={class:"mr-2 ml-1"},Il={class:"simple-tooltip"},ql={class:"item-types-button-wrapper"},El={class:"filter-category-wrapper"},Pl={class:"flex justify-content-center align-items-center"},Tl={class:"simple-tooltip"},Dl={class:"filter-category-wrapper"},Ml={class:"flex justify-content-center align-items-center"},Rl={class:"simple-tooltip"},Ol={class:"filter-category-wrapper"},Fl={class:"flex justify-content-center align-items-center"},Ul={class:"simple-tooltip"},Ll={class:"filter-list-wrapper mt-3"},Nl={class:"px-2 py-1"},Hl={class:"px-2 py-1"},jl={__name:"ItemFilters",setup(_){const u=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],a=[O.healthPoints.id,O.healingMastery.id,O.actionPoints.id,O.movementPoints.id,O.rearResistance.id,O.elementalResistance.id,O.fireResistance.id,O.waterResistance.id,O.earthResistance.id,O.airResistance.id,O.elementalMastery.id,O.fireMastery.id,O.earthMastery.id,O.waterMastery.id,O.airMastery.id,O.criticalMastery.id,O.criticalHit.id,O.range.id,O.prospecting.id,O.wisdom.id,O.initiative.id,O.lock.id,O.dodge.id,O.forceOfWill.id,O.rearMastery.id,O.control.id,O.wakfuPoints.id,O.percentBlock.id,O.criticalResistance.id,O.meleeMastery.id,O.distanceMastery.id,O.berserkMastery.id,O.randomElementalMasteries.id,O.randomElementalResistances.id,O.harvestingQuantity.id].map(i=>({value:i,text:O[i].text})),$=re("itemFilters"),p=k(""),F=k([$.startLevel,$.endLevel]),R=k([]),M=k($.rarityFilters),W=k($.itemTypeFilters),j=k(!1),U=()=>{P()},q=(i,f)=>{f==="min"&&(F.value[0]=i.value),f==="max"&&(F.value[1]=i.value),P()},T=()=>{P()},L=(i,f)=>{i.ctrlKey&&$.itemTypeFilters.forEach(I=>{I.id!==f?I.checked=!1:I.checked=!0}),P()},S=(i,f)=>{i.ctrlKey&&$.rarityFilters.forEach(I=>{I.id!==f?I.checked=!1:I.checked=!0}),P()},P=Ye.debounce(i=>{var f;$.searchTerm=p.value,$.startLevel=F.value[0],$.endLevel=F.value[1],$.effectFilters=R.value,$.rarityFilters=M.value,i&&((f=i.rawIds)!=null&&f.length)?ee(i):$.itemTypeFilters=W.value},100),ee=i=>{i.rawIds.forEach(f=>{let I=W.value.find(V=>V.rawId===f);I.checked=i.checked})},K=()=>{let i={type:a[0],comparator:u[2],value:0};R.value.push(i),P()},v=i=>{let f=R.value.indexOf(i);R.value.splice(f,1),P()},x=()=>{$.resetFilters(),p.value=$.searchTerm,F.value[0]=$.startLevel,F.value[1]=$.endLevel,R.value=$.effectFilters,M.value=$.rarityFilters,W.value=$.itemTypeFilters},N=()=>{$.rarityFilters.forEach(i=>{i.checked=!0}),P()},Q=()=>{$.rarityFilters.forEach(i=>{i.checked=!1}),P()},X=()=>{$.itemTypeFilters.forEach(i=>{i.checked=!0}),P()},g=()=>{$.itemTypeFilters.forEach(i=>{i.checked=!1}),P()};return(i,f)=>{const I=E("p-inputText"),V=E("p-inputNumber"),y=E("p-slider"),J=E("p-button"),Z=E("tippy"),le=E("p-image"),w=E("p-checkbox"),D=E("p-dropdown");return c(),m(Y,null,[e("div",hl,[s(I,{modelValue:p.value,"onUpdate:modelValue":f[0]||(f[0]=r=>p.value=r),placeholder:i.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:U},null,8,["modelValue","placeholder"]),e("div",vl,[s(V,{modelValue:F.value[0],"onUpdate:modelValue":f[1]||(f[1]=r=>F.value[0]=r),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:f[2]||(f[2]=r=>q(r,"min"))},null,8,["modelValue"]),s(y,{modelValue:F.value,"onUpdate:modelValue":f[3]||(f[3]=r=>F.value=r),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:T},null,8,["modelValue"]),s(V,{modelValue:F.value[1],"onUpdate:modelValue":f[4]||(f[4]=r=>F.value[1]=r),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:f[5]||(f[5]=r=>q(r,"max"))},null,8,["modelValue"])]),s(J,{class:"filter-button",label:i.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:x},null,8,["label"])]),e("div",_l,[e("div",gl,[e("div",fl,[s(J,{class:"filter-button item-filter-action mr-2",label:i.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:N},null,8,["label"]),s(Z,{placement:"top"},{content:d(()=>[e("div",$l,t(i.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[bl]),_:1}),e("div",yl,t(i.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(J,{class:"filter-button item-filter-action",label:i.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:Q},null,8,["label"])]),e("div",kl,[(c(!0),m(Y,null,ae(M.value,r=>(c(),se(Z,{key:r.id,duration:"0"},{content:d(()=>[e("div",Cl,t(i.$t(r.name)),1)]),default:d(()=>[s(w,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"rarity-checkbox",onChange:h=>S(h,r.id)},{icon:d(h=>[e("div",Sl,[s(le,{class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${r.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",xl,[e("div",wl,[s(J,{class:"filter-button item-filter-action mr-2",label:i.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:X},null,8,["label"]),s(Z,{placement:"top"},{content:d(()=>[e("div",Vl,t(i.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[Al]),_:1}),e("div",Wl,t(i.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(Z,null,{content:d(()=>[e("div",Il,t(i.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:d(()=>[s(w,{modelValue:j.value,"onUpdate:modelValue":f[6]||(f[6]=r=>j.value=r),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(J,{class:"filter-button item-filter-action",label:i.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:g},null,8,["label"])]),e("div",ql,[e("div",El,[(c(!0),m(Y,null,ae(W.value.filter(r=>r.category==="armor"),r=>(c(),m(Y,{key:r.id},[!r.advanced||j.value?(c(),se(Z,{key:0,duration:"0"},{content:d(()=>[e("div",Tl,t(i.$t(r.name)),1)]),default:d(()=>[s(w,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"item-type-checkbox",onChange:h=>L(h,r.id)},{icon:d(h=>[e("div",Pl,[r.rawId?(c(),se(le,{key:0,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),se(le,{key:1,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ie("",!0)],64))),128))]),e("div",Dl,[(c(!0),m(Y,null,ae(W.value.filter(r=>r.category==="weapons"),r=>(c(),m(Y,{key:r.id},[!r.advanced||j.value?(c(),se(Z,{key:0,duration:"0"},{content:d(()=>[e("div",Rl,t(i.$t(r.name)),1)]),default:d(()=>[s(w,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"item-type-checkbox",onChange:h=>l(P)(r)},{icon:d(h=>[e("div",Ml,[r.rawId?(c(),se(le,{key:0,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),se(le,{key:1,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ie("",!0)],64))),128))]),e("div",Ol,[(c(!0),m(Y,null,ae(W.value.filter(r=>r.category==="miscellaneous"),r=>(c(),m(Y,{key:r.id},[!r.advanced||j.value?(c(),se(Z,{key:0,duration:"0"},{content:d(()=>[e("div",Ul,t(i.$t(r.name)),1)]),default:d(()=>[s(w,{modelValue:r.checked,"onUpdate:modelValue":h=>r.checked=h,binary:!0,class:"item-type-checkbox",onChange:l(P)},{icon:d(h=>[e("div",Fl,[r.rawId?(c(),se(le,{key:0,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),se(le,{key:1,class:te({disabled:!h.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${r.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ie("",!0)],64))),128))])])])]),e("div",Ll,[s(J,{icon:"pi pi-plus",class:"filter-button",label:i.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:K},null,8,["label"]),(c(!0),m(Y,null,ae(R.value,r=>(c(),m("div",{key:r.id,class:"filter-entry"},[s(D,{modelValue:r.type,"onUpdate:modelValue":h=>r.type=h,class:"filter-type-dropdown",options:l(a),filter:"","auto-filter-focus":"","option-label":"text",onChange:l(P)},{value:d(h=>[oe(t(i.$t(h.value.text)),1)]),option:d(h=>[e("div",Nl,t(i.$t(h.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(D,{modelValue:r.comparator,"onUpdate:modelValue":h=>r.comparator=h,class:"filter-comparator-dropdown",options:u,"option-label":"text",onChange:l(P)},{value:d(h=>[oe(t(h.value.symbol),1)]),option:d(h=>[e("div",Hl,t(i.$t(h.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(V,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,class:"filter-value-input","allow-empty":!1,onInput:l(P)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(J,{class:"remove-filter-button",icon:"pi pi-trash",onClick:h=>v(r)},null,8,["onClick"])]))),128))])],64)}}},Bl=ue(jl,[["__scopeId","data-v-f117c1a1"]]);const Me=_=>(de("data-v-25f42264"),_=_(),pe(),_),zl={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Gl={class:"flex align-items-center"},Yl={class:"px-2 py-1"},Jl={class:"px-2 py-1"},Ql=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Xl={class:"ml-2"},Zl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Kl={class:"mr-1"},ei={key:0,class:"flex"},ti={key:0,class:"item-card with-stats"},si={class:"flex px-2 pt-2"},ai={class:"flex flex-column ml-1"},li={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},ii={class:"flex"},ni={key:0},oi={key:1},ci={key:2,class:"ml-1"},ri=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),ui={class:"flex flex-column gap-1"},di={class:"item-card"},pi={class:"flex px-2 pt-2"},mi={class:"flex flex-column ml-1"},hi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},vi={class:"flex"},_i={key:0},gi={key:1},fi={key:2,class:"ml-1"},bi=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),$i={class:"flex flex-column gap-1"},yi={class:"simple-tooltip"},ki={key:0,class:"item-card-tooltip"},Si={class:"effect-header flex pt-2 px-1"},Ci={class:"flex flex-column ml-1"},xi={class:"item-name mr-2"},wi={class:"flex"},Ai={key:0},Vi={key:1},Wi={key:2,class:"ml-1"},Ii={key:1},qi={__name:"EquipmentTabContent",setup(_,{expose:u}){const b=Ue(),{t:a}=Le(),$=re("currentCharacter"),p=re("currentItemList"),F=re("itemFilters"),R=k(null),M=k(4),{getNumTotalItems:W}=De();let j=document;const{getItemEncyclopediaUrl:U}=Xe(),q=()=>{M.value=Math.floor((R.value.clientWidth-16)/(S.value?310+5:230+5))};window.addEventListener("resize",q);let T=ce(()=>{let v=[],x=[];return p.value.forEach(N=>{x.length===M.value?(v.push(x),x=[N]):x.push(N)}),x.length>0&&v.push(x),v.length===0&&v.push([]),v});const L=k(!1),S=k(!1),P=()=>{L.value=!0,we(()=>{q()})};be(S,()=>{we(()=>{L.value=!1,we(()=>{L.value=!0,we(()=>{q()})})})});const ee=(v,x)=>{let N=v.type.validSlots.includes(H.LEFT_HAND.id)||v.type.validSlots.includes(H.RIGHT_HAND.id),Q=v.type.disabledSlots.includes(H.SECOND_WEAPON.id)&&$.value.equipment[H.SECOND_WEAPON.id]!==null,X=v.type.validSlots[0]===H.SECOND_WEAPON.id&&$.value.equipment[H.FIRST_WEAPON.id]!==null&&$.value.equipment[H.FIRST_WEAPON.id].type.disabledSlots.includes(H.SECOND_WEAPON.id),g=!1,i=null,f=!1,I=null;Object.keys($.value.equipment).forEach(J=>{v.rarity===5&&$.value.equipment[J]!==null&&$.value.equipment[J].rarity===5&&(g=!0,i=J),v.rarity===7&&$.value.equipment[J]!==null&&$.value.equipment[J].rarity===7&&(f=!0,I=J)});let V=null;g&&(V=a("characterSheet.equipmentContent.hasRelicWarning")),f&&(V=a("characterSheet.equipmentContent.hasEpicWarning")),Q&&(V=a("characterSheet.equipmentContent.twoHandedWeaponWarning")),X&&(V=a("characterSheet.equipmentContent.secondWeaponWarning")),g&&Q&&(V=a("characterSheet.equipmentContent.relicAndTwoHandedWarning")),g&&X&&(V=a("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),f&&Q&&(V=a("characterSheet.equipmentContent.epicAndTwoHandedWarning")),f&&X&&(V=a("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),Q||X||g||f?b.require({group:"popup",target:x.currentTarget,message:V,accept:()=>{N&&($.value.equipment[H.LEFT_HAND.id]===null?$.value.equipment[H.LEFT_HAND.id]=v:$.value.equipment[H.RIGHT_HAND.id]=v),Q&&($.value.equipment[H.FIRST_WEAPON.id]=v,$.value.equipment[H.SECOND_WEAPON.id]=null),X&&($.value.equipment[H.FIRST_WEAPON.id]=null,$.value.equipment[H.SECOND_WEAPON.id]=v),g&&($.value.equipment[i]=null,$.value.equipment[v.type.validSlots[0]]=v),f&&($.value.equipment[I]=null,$.value.equipment[v.type.validSlots[0]]=v)}}):N?$.value.equipment[H.LEFT_HAND.id]===null?$.value.equipment[H.LEFT_HAND.id]=v:$.value.equipment[H.RIGHT_HAND.id]=v:v.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",v.type):$.value.equipment[v.type.validSlots[0]]=v},K=v=>{let x=U(v);window.open(x,"_blank")};return u({showList:P}),(v,x)=>{const N=E("p-divider"),Q=E("p-dropdown"),X=E("p-checkbox"),g=E("p-image"),i=E("p-button"),f=E("tippy"),I=E("p-virtualScroller");return c(),m("div",zl,[s(Qe,{character:l($)},null,8,["character"]),s(Bl),s(N,{class:"mt-3 mb-2"}),e("div",Gl,[e("div",null,t(v.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(Q,{modelValue:l(F).sortBy,"onUpdate:modelValue":x[0]||(x[0]=V=>l(F).sortBy=V),class:"sort-dropdown ml-2","option-label":"label",filter:"","auto-filter-focus":"",options:l(tt)},{value:d(V=>[oe(t(v.$t(V.value.label)),1)]),option:d(V=>[e("div",Yl,t(v.$t(V.option.label)),1)]),_:1},8,["modelValue","options"]),s(Q,{modelValue:l(F).sortOrder,"onUpdate:modelValue":x[1]||(x[1]=V=>l(F).sortOrder=V),class:"sort-dropdown ml-2","option-label":"label",options:l(st)},{value:d(V=>[oe(t(v.$t(V.value.label)),1)]),option:d(V=>[e("div",Jl,t(v.$t(V.option.label)),1)]),_:1},8,["modelValue","options"]),Ql,e("div",Xl,t(l(p).length)+" "+t(v.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(l(W)())+" "+t(v.$t("characterSheet.equipmentContent.itemsTotal")),1),Zl,e("span",Kl,t(v.$t("characterSheet.equipmentContent.displayStats")),1),s(X,{modelValue:S.value,"onUpdate:modelValue":x[2]||(x[2]=V=>S.value=V),binary:!0},null,8,["modelValue"])]),L.value?(c(),m("div",{key:0,ref_key:"itemResultsWrapper",ref:R,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(I,{items:l(T),"item-size":[S.value?215:65,S.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:d(({item:V})=>[l(T)[0].length>0?(c(),m("div",ei,[(c(!0),m(Y,null,ae(V,(y,J)=>(c(),m(Y,{key:J},[S.value&&y?(c(),m("div",ti,[e("div",si,[s(g,{src:`https://tmktahu.github.io/WakfuAssets/items/${y.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ai,[e("div",li,t(v.$t(`items.${y.id}`)),1),e("div",ii,[s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(y.type.id)?(c(),m("div",ni,t(v.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),m("div",oi,"Lvl: "+t(y.level),1)),y.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),m("div",ci,t(y.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])]),ri,e("div",ui,[s(i,{icon:"pi pi-plus",class:"equip-button",onClick:Z=>ee(y,Z)},null,8,["onClick"]),s(i,{icon:"pi pi-question-circle",class:"equip-button",onClick:Z=>K(y)},null,8,["onClick"])])]),s(Fe,{"card-mode":"",item:y},null,8,["item"])])):(c(),se(f,{key:1,delay:[0,0],duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(j).body},{content:d(()=>[y?(c(),m("div",ki,[e("div",Si,[s(g,{src:`https://tmktahu.github.io/WakfuAssets/items/${y.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ci,[e("div",xi,t(v.$t(`items.${y.id}`)),1),e("div",wi,[s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(y.type.id)?(c(),m("div",Ai,t(v.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),m("div",Vi,"Lvl: "+t(y.level),1)),y.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),m("div",Wi,t(y.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])])]),s(Fe,{item:y},null,8,["item"])])):ie("",!0)]),default:d(()=>[e("div",di,[e("div",pi,[s(g,{src:`https://tmktahu.github.io/WakfuAssets/items/${y.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",mi,[e("div",hi,t(v.$t(`items.${y.id}`)),1),e("div",vi,[s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(g,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(y.type.id)?(c(),m("div",_i,t(v.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(c(),m("div",gi,"Lvl: "+t(y.level),1)),y.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),m("div",fi,t(y.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])]),bi,e("div",$i,[s(i,{icon:"pi pi-plus",class:"equip-button",onClick:Z=>ee(y,Z)},null,8,["onClick"]),s(f,{placement:"left"},{content:d(()=>[e("div",yi,t(v.$t("characterSheet.equipmentContent.openEncyclopediaPage")),1)]),default:d(()=>[s(i,{icon:"pi pi-question-circle",class:"equip-button",onClick:Z=>K(y)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1032,["append-to"]))],64))),128))])):(c(),m("div",Ii,t(v.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):ie("",!0)])}}},Ei=ue(qi,[["__scopeId","data-v-25f42264"]]);const ve=_=>(de("data-v-b987ed4b"),_=_(),pe(),_),Pi={class:"w-full h-full"},Ti=ve(()=>e("div",null,"Active Spells (WIP)",-1)),Di={class:"flex mt-2"},Mi={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Ri={class:"disabled-mask"},Oi=ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Fi={key:1,class:"spell-button disabled"},Ui={class:"disabled-mask"},Li=ve(()=>e("div",{class:"mt-3"},"Passives (WIP)",-1)),Ni={class:"flex mt-2"},Hi={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},ji={key:0},Bi=["onClick"],zi=ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Gi={class:"spell-tooltip"},Yi={class:"spell-name px-2 py-1"},Ji={class:"spell-description px-2 py-1"},Qi=["innerHTML"],Xi={key:1},Zi={class:"flex flex-wrap gap-1"},Ki=["onClick"],en=ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),tn=ve(()=>e("div",{class:"disabled-mask"},null,-1)),sn={class:"spell-tooltip"},an={class:"spell-name px-2 py-1"},ln={class:"spell-description px-2 py-1"},nn=["innerHTML"],on={class:"flex flex-wrap gap-1"},cn=["onClick"],rn=ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),un=ve(()=>e("div",{class:"disabled-mask"},null,-1)),dn={class:"spell-tooltip"},pn={class:"spell-name px-2 py-1"},mn={class:"spell-description px-2 py-1"},hn=["innerHTML"],vn={__name:"SpellTabContent",setup(_){const u=re("currentCharacter"),{getClassPassiveSpells:b,getSpellHtml:a,getSpellLevel:$}=at(u),p=ce(()=>b(u.value.class).sort((T,L)=>{let S=xe[T.id],P=xe[L.id];return S-P})),F=ce(()=>b("all").sort((T,L)=>{let S=xe[T.id],P=xe[L.id];return S-P})),R=U=>{U.category===Oe.passive&&(Object.keys(u.value.spells).forEach(q=>{var T;q.includes(Oe.passive)&&((T=u.value.spells[q])==null?void 0:T.id)===U.id&&(u.value.spells[q]=null)}),Object.keys(u.value.spells).some(q=>{if(q.includes(Oe.passive)&&u.value.spells[q]===null)return u.value.spells[q]=U,!0}))},M=U=>{u.value.spells[U]=null},W=U=>{let q=!1;return Object.keys(u.value.spells).forEach(T=>{var L;((L=u.value.spells[T])==null?void 0:L.id)===U.id&&(q=!0)}),q},j=U=>{let q=xe[U.id];return u.value.level>=q};return(U,q)=>{const T=E("p-image"),L=E("tippy");return c(),m("div",Pi,[Ti,e("div",Di,[e("div",Mi,[(c(),m(Y,null,ae(12,S=>(c(),m(Y,{key:S},[l(u).spells["activeSlot"+S]!==null?(c(),m("div",{key:0,class:"spell-button disabled",onClick:q[0]||(q[0]=P=>M(U.spell))},[e("div",Ri,t(),1),Oi,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(u).spells["activeSlot"+S].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),m("div",Fi,[s(T,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Ui,t(),1)]))],64))),64))])]),Li,e("div",Ni,[e("div",Hi,[(c(),m(Y,null,ae(6,S=>(c(),m(Y,{key:S},[l(u).spells["passiveSlot"+S]!==null?(c(),m("div",ji,[s(L,{duration:"0"},{content:d(()=>[e("div",Gi,[e("div",Yi,t(l(u).spells["passiveSlot"+S].name)+" (Level "+t(l($)(l(u).spells["passiveSlot"+S]))+") ",1),e("div",Ji,t(l(u).spells["passiveSlot"+S].description),1),e("div",{class:"spell-details",innerHTML:l(a)(l(u).spells["passiveSlot"+S])},null,8,Qi)])]),default:d(()=>[e("div",{class:"spell-button",onClick:P=>M("passiveSlot"+S)},[zi,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(u).spells["passiveSlot"+S].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Bi)]),_:2},1024)])):(c(),m("div",Xi,[s(T,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"])]))],64))),64))]),e("div",Zi,[(c(!0),m(Y,null,ae(p.value,S=>(c(),se(L,{key:S.id,duration:"0"},{content:d(()=>[e("div",sn,[e("div",an,t(S.name)+" (Level "+t(l($)(S))+")",1),e("div",ln,t(S.description),1),e("div",{class:"spell-details",innerHTML:l(a)(S)},null,8,nn)])]),default:d(()=>[e("div",{class:te(["spell-button",{disabled:W(S)||!j(S)}]),onClick:P=>R(S)},[en,tn,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${S.iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],10,Ki)]),_:2},1024))),128))]),e("div",on,[(c(!0),m(Y,null,ae(F.value,S=>(c(),se(L,{key:S.id,duration:"0"},{content:d(()=>[e("div",dn,[e("div",pn,t(S.name)+" (Level "+t(l($)(S))+")",1),e("div",mn,t(S.description),1),e("div",{class:"spell-details",innerHTML:l(a)(S)},null,8,hn)])]),default:d(()=>[e("div",{class:te(["spell-button",{disabled:W(S)||!j(S)}]),onClick:P=>R(S)},[rn,un,s(T,{src:`https://tmktahu.github.io/WakfuAssets/spells/${S.iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],10,cn)]),_:2},1024))),128))])])])}}},_n=ue(vn,[["__scopeId","data-v-b987ed4b"]]),gn={class:"flex align-items-center"},fn={class:"mx-2"},bn=e("i",{class:"mdi mdi-information-outline"},null,-1),$n={class:"simple-tooltip"},fe={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(u,b)=>{const a=E("p-checkbox"),$=E("tippy");return c(),m("div",gn,[s(a,Te(u.$attrs,{binary:!0}),null,16),e("div",fn,t(_.label),1),_.tooltipText?(c(),se($,{key:0,placement:"left",duration:"0"},{content:d(()=>[e("div",$n,t(_.tooltipText),1)]),default:d(()=>[bn]),_:1})):ie("",!0)])}}},yn={class:"flex align-items-center"},kn={class:"mx-2"},Sn=e("i",{class:"mdi mdi-information-outline"},null,-1),Cn={class:"simple-tooltip"},Pe={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(u,b)=>{const a=E("p-inputNumber"),$=E("tippy");return c(),m("div",yn,[s(a,Te(u.$attrs,{class:"number-input"}),null,16),e("div",kn,t(_.label),1),s($,{placement:"left",duration:"0"},{content:d(()=>[e("div",Cn,t(_.tooltipText),1)]),default:d(()=>[Sn]),_:1})])}}};const Ke=_=>(de("data-v-19682913"),_=_(),pe(),_),xn={class:"item-card"},wn={class:"slot-label text-center pt-1 pb-1"},An={class:"flex px-2 pt-1"},Vn={class:"flex flex-column ml-1"},Wn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},In={class:"flex"},qn={key:0},En={key:1},Pn={key:2,class:"ml-1"},Tn=Ke(()=>e("div",{class:"flex-grow-1"},null,-1)),Dn={class:"flex flex-column"},Mn=Ke(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Rn={key:0,class:"item-card-tooltip"},On={class:"effect-header flex pt-2 px-1"},Fn={class:"flex flex-column ml-1"},Un={class:"item-name mr-2"},Ln={class:"flex"},Nn={key:0},Hn={key:1},jn={key:2,class:"ml-1"},Bn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}}},setup(_){let u=document;const b=Ue(),a=re("currentCharacter"),{getItemEncyclopediaUrl:$}=Xe(),{equipItem:p}=De(a),F=(M,W)=>{p(M,W,b)},R=M=>{let W=$(M);window.open(W,"_blank")};return(M,W)=>{const j=E("p-image"),U=E("p-button"),q=E("tippy");return c(),se(q,{delay:"[0, 0]",duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(u).body},{content:d(()=>[_.item?(c(),m("div",Rn,[e("div",On,[s(j,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Fn,[e("div",Un,t(M.$t(`items.${_.item.id}`)),1),e("div",Ln,[s(j,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(j,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(_.item.type.id)?(c(),m("div",Nn,"Item Level: 50")):(c(),m("div",Hn,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),m("div",jn,t(_.item.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])])]),s(Fe,{item:_.item},null,8,["item"])])):ie("",!0)]),default:d(()=>[e("div",xn,[e("div",wn,t(_.item.type.validSlots[0]==="LEFT_HAND"?"Ring":M.$t(l(H)[_.item.type.validSlots[0]].name))+" Slot ",1),e("div",An,[s(j,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Vn,[e("div",Wn,t(M.$t(`items.${_.item.id}`)),1),e("div",In,[s(j,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(j,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(Ae).includes(_.item.type.id)?(c(),m("div",qn,"Item Level: 50")):(c(),m("div",En,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===l(H).FIRST_WEAPON.id?(c(),m("div",Pn,t(_.item.type.disabledSlots.includes(l(H).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ie("",!0)])]),Tn,e("div",Dn,[s(U,{icon:"pi pi-plus",class:"action-button mb-1",onClick:W[0]||(W[0]=T=>F(_.item,T))}),s(q,{placement:"left"},{content:d(()=>[Mn]),default:d(()=>[s(U,{icon:"pi pi-question-circle",class:"action-button",onClick:W[1]||(W[1]=T=>R(_.item))})]),_:1})])])])]),_:1},8,["append-to"])}}},zn=ue(Bn,[["__scopeId","data-v-19682913"]]);const $e=_=>(de("data-v-e8cae4f5"),_=_(),pe(),_),Gn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Yn={class:"flex flex-column mt-4"},Jn={class:"flex"},Qn={class:"flex mt-3"},Xn={class:"setting-group flex flex-column mr-3 gap-2"},Zn={class:"mb-2"},Kn=$e(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),eo={class:"simple-tooltip"},to={class:"setting-group flex flex-column mr-3"},so={class:"flex flex-column gap-2"},ao={class:"mb-2"},lo=$e(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),io={class:"simple-tooltip"},no={class:"flex align-items-center"},oo={class:"mr-2"},co={class:"px-2 py-1"},ro={class:"flex align-items-center"},uo={class:"mr-2"},po={class:"px-2 py-1"},mo={class:"flex align-items-center"},ho={class:"mr-2"},vo={class:"px-2 py-1"},_o={class:"flex align-items-center"},go={class:"mr-2"},fo={class:"px-2 py-1"},bo={class:"flex align-items-center"},$o={class:"mr-2"},yo={class:"px-2 py-1"},ko={class:"flex flex-column"},So={class:"rarity-container"},Co={class:"flex align-items-center mb-1"},xo=$e(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),wo={class:"simple-tooltip"},Ao={class:"mr-2 ml-1"},Vo={class:"rarity-button-wrapper"},Wo={class:"flex justify-content-center align-items-center"},Io={class:"simple-tooltip"},qo={class:"setting-group flex flex-column gap-2 mt-2"},Eo={class:"mb-2"},Po=$e(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),To={class:"simple-tooltip"},Do={key:0,class:"warning-message mt-2 py-1 px-2"},Mo={class:"flex align-items-center mt-3"},Ro=$e(()=>e("div",{class:"flex-grow-1"},null,-1)),Oo=$e(()=>e("a",{href:"https://github.com/mikeshardmind/wakfu-utils",target:"_blank"},"Keeper of Time (sinbad)",-1)),Fo={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},Uo={key:0,class:"error-state px-3 py-3"},Lo={key:0,class:"mt-1"},No={key:1},Ho={class:"mt-3"},jo={key:0,class:"mt-2"},Bo={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},zo={key:1},Go={class:"flex flex-wrap gap-1 mt-2"},Yo={key:2,class:"loading-state px-3 py-3"},Jo={class:"mt-2"},Qo={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Xo={class:"text-center mt-2"},Zo={class:"text-center mb-5 mt-2"},Ko={class:"flex justify-content-center"},ec={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},tc={__name:"ItemSolverTabContent",setup(_){const{t:u}=Le(),b=Ue(),a=re("currentCharacter"),{equipItem:$}=De(a),{runCalculations:p,autoBuilderIsReady:F,itemSet:R,builderLoading:M,builderError:W}=lt(),{createBuildCode:j}=Je(),U=k(!1),q=ce(()=>{if(U.value)return R.value;{let n=Object.keys(a.value.equipment).map(o=>{if(a.value.equipment[o])return a.value.equipment[o].id}).filter(o=>o!==void 0);return R.value?R.value.filter(o=>!n.includes(o.id)):[]}}),T=k(a.value.actionPoints),L=k(a.value.movementPoints),S=k(a.value.stats.range),P=k(a.value.wakfuPoints),ee=k(!1),K=k(!1),v=k(!1),x=k(!1),N=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],Q=[...N,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],X=k(N[0]),g=k(N[0]),i=k(N[0]),f=k(N[0]),I=k(N[0]),V=k(!0),y=k(it.map(n=>({...n,checked:!0}))),J=k(!0);be(F,()=>{J.value=!1});const Z=()=>{y.value.forEach(n=>{n.checked=!0})},le=()=>{y.value.forEach(n=>{n.checked=!1})},w=ce(()=>F.value),D=ce(()=>j(a.value)),r=k(null);be([T,L,S,P],()=>{r.value=null,T.value-a.value.actionPoints>=6?r.value=u("characterSheet.itemSolverContent.apWarning"):S.value-a.value.stats.range>5?r.value=u("characterSheet.itemSolverContent.rangeImpossibleWarning"):a.value.level<35?S.value-a.value.stats.range>0&&(r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning")):a.value.level<50?S.value-a.value.stats.range>1?r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning"):T.value-a.value.actionPoints+L.value-a.value.movementPoints>4&&(r.value=u("characterSheet.itemSolverContent.combinedApMpWarning")):a.value.level<80&&S.value-a.value.stats.range>3&&(r.value=u("characterSheet.itemSolverContent.rangeForLevelWarning"))});const h=async()=>{let n=y.value.filter(ne=>ne.checked).map(ne=>ne.id),o={buildCode:D.value,meleeMasteryPriority:X.value,distanceMasteryPriority:g.value,healingMasteryPriority:i.value,rearMasteryPriority:f.value,berserkMasteryPriority:I.value,fireMastery:ee.value,earthMastery:K.value,waterMastery:v.value,airMastery:x.value,targetApAmount:T.value||0,targetMpAmount:L.value||0,targetRangeAmount:S.value||0,targetWpAmount:P.value||0,selectedRarityIds:n,ignoreEquippedItems:!V.value};p(o)},B=n=>{b.require({group:"popup",target:n.currentTarget,message:u("confirms.willReplaceItems"),accept:()=>{R.value.forEach(o=>{$(o)})}})},Re=(n,o)=>{n.ctrlKey&&y.value.forEach(ne=>{ne.id!==o?ne.checked=!1:ne.checked=!0})};return(n,o)=>{var ke,Se,Ce;const ne=E("tippy"),me=E("p-dropdown"),_e=E("p-button"),qe=E("p-image"),Ee=E("p-checkbox"),ye=E("p-progressSpinner");return c(),m("div",Gn,[s(Qe,{character:l(a)},null,8,["character"]),e("div",Yn,[e("div",Jn,[s(fe,{modelValue:V.value,"onUpdate:modelValue":o[0]||(o[0]=C=>V.value=C),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Qn,[e("div",Xn,[e("div",Zn,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",eo,t(n.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:d(()=>[Kn]),_:1}),oe(" "+t(n.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Pe,{modelValue:T.value,"onUpdate:modelValue":o[1]||(o[1]=C=>T.value=C),label:n.$t("constants.actionPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:L.value,"onUpdate:modelValue":o[2]||(o[2]=C=>L.value=C),label:n.$t("constants.movementPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:S.value,"onUpdate:modelValue":o[3]||(o[3]=C=>S.value=C),label:n.$t("constants.range"),"tooltip-text":n.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Pe,{modelValue:P.value,"onUpdate:modelValue":o[4]||(o[4]=C=>P.value=C),label:n.$t("constants.wakfuPoints"),"tooltip-text":n.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",to,[e("div",so,[e("div",ao,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",io,t(n.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:d(()=>[lo]),_:1}),oe(" "+t(n.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",no,[e("div",oo,t(n.$t("constants.meleeMastery")),1),s(me,{modelValue:X.value,"onUpdate:modelValue":o[5]||(o[5]=C=>X.value=C),class:"condensed-dropdown","option-label":"label",options:N},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",co,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ro,[e("div",uo,t(n.$t("constants.distanceMastery")),1),s(me,{modelValue:g.value,"onUpdate:modelValue":o[6]||(o[6]=C=>g.value=C),class:"condensed-dropdown","option-label":"label",options:N},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",po,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",mo,[e("div",ho,t(n.$t("constants.healingMastery")),1),s(me,{modelValue:i.value,"onUpdate:modelValue":o[7]||(o[7]=C=>i.value=C),class:"condensed-dropdown","option-label":"label",options:N},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",vo,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",_o,[e("div",go,t(n.$t("constants.rearMastery")),1),s(me,{modelValue:f.value,"onUpdate:modelValue":o[8]||(o[8]=C=>f.value=C),class:"condensed-dropdown","option-label":"label",options:Q},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",fo,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])]),e("div",bo,[e("div",$o,t(n.$t("constants.berserkMastery")),1),s(me,{modelValue:I.value,"onUpdate:modelValue":o[9]||(o[9]=C=>I.value=C),class:"condensed-dropdown","option-label":"label",options:Q},{value:d(C=>[oe(t(n.$t(C.value.label)),1)]),option:d(C=>[e("div",yo,t(n.$t(C.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",ko,[e("div",So,[e("div",Co,[s(_e,{class:"filter-button item-filter-action mr-2",label:n.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:Z},null,8,["label"]),s(ne,{placement:"top"},{content:d(()=>[e("div",wo,t(n.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[xo]),_:1}),e("div",Ao,t(n.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(_e,{class:"filter-button item-filter-action",label:n.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:le},null,8,["label"])]),e("div",Vo,[(c(!0),m(Y,null,ae(y.value,C=>(c(),se(ne,{key:C.id,duration:"0"},{content:d(()=>[e("div",Io,t(n.$t(C.name)),1)]),default:d(()=>[s(Ee,{modelValue:C.checked,"onUpdate:modelValue":he=>C.checked=he,binary:!0,class:"rarity-checkbox",onChange:he=>Re(he,C.id)},{icon:d(he=>[e("div",Wo,[s(qe,{class:te({disabled:!he.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${C.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",qo,[e("div",Eo,[s(ne,{placement:"top",duration:"0"},{content:d(()=>[e("div",To,t(n.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:d(()=>[Po]),_:1}),oe(" "+t(n.$t("constants.elementalMasteries")),1)]),s(fe,{modelValue:ee.value,"onUpdate:modelValue":o[10]||(o[10]=C=>ee.value=C),label:n.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(fe,{modelValue:K.value,"onUpdate:modelValue":o[11]||(o[11]=C=>K.value=C),label:n.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(fe,{modelValue:v.value,"onUpdate:modelValue":o[12]||(o[12]=C=>v.value=C),label:n.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(fe,{modelValue:x.value,"onUpdate:modelValue":o[13]||(o[13]=C=>x.value=C),label:n.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),r.value!==null?(c(),m("div",Do,t(r.value),1)):ie("",!0)]),e("div",Mo,[s(_e,{class:"py-2 px-3 mr-2",disabled:!w.value,label:(ke=q.value)!=null&&ke.length?"Re-Generate Item Set":"Generate Item Set",onClick:h},null,8,["disabled","label"]),s(_e,{class:"py-2 px-3 mr-2",disabled:!((Se=q.value)!=null&&Se.length),label:"Equip All Items",onClick:o[14]||(o[14]=C=>B(C))},null,8,["disabled"]),s(fe,{modelValue:U.value,"onUpdate:modelValue":o[15]||(o[15]=C=>U.value=C),label:"Show All Items"},null,8,["modelValue"]),Ro,e("div",null,[oe(t(n.$t("characterSheet.itemSolverContent.poweredBy"))+" ",1),Oo,oe("'s "+t(n.$t("characterSheet.itemSolverContent.code"))+".",1)])]),l(M)?(c(),m("div",Qo,[e("div",Xo,t(n.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Zo,t(n.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Ko,[e("div",ec,[s(ye,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(ye,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),m("div",Fo,[l(W)?(c(),m("div",Uo,[l(W).debug?(c(),m("div",Lo,t(n.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),m("div",No,t(n.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Ho,[e("div",null,"Error Code: "+t(l(W).message),1),l(W).debug?(c(),m("div",jo,[e("div",Bo,"Debug Code: "+t(l(W).debug),1)])):ie("",!0)])])):(Ce=q.value)!=null&&Ce.length?(c(),m("div",zo,[e("div",Go,[(c(!0),m(Y,null,ae(q.value,C=>(c(),se(zn,{key:C.id,item:C},null,8,["item"]))),128))])])):(c(),m("div",Yo,[e("div",null,t(n.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Jo,t(n.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},sc=ue(tc,[["__scopeId","data-v-e8cae4f5"]]);const We=_=>(de("data-v-61b95848"),_=_(),pe(),_),ac={class:"flex"},lc={class:"flex flex-column"},ic={class:"mb-2"},nc={class:"flex"},oc={class:"mr-2"},cc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),rc={class:"simple-tooltip flex flex-column"},uc={class:"mb-1"},dc={class:"mb-1"},pc={class:"mb-1"},mc={class:"mb-1"},hc={class:"mb-1"},vc={class:"mb-1"},_c={key:0,class:"item-runes-section flex align-items-center mb-2"},gc=["onClick"],fc=["onClick","onDrop","onContextmenu","onDragstart"],bc={class:"rune-image"},$c={class:"rune-level"},yc={class:"simple-tooltip"},kc=["onDrop"],Sc={class:"rune-image"},Cc=We(()=>e("div",{class:"sublimation-drop-zone ml-2 pl-2 pr-2"},"sub",-1)),xc={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},wc={class:"slot-image"},Ac=["onDrop"],Vc=We(()=>e("div",{class:"info-text"},"An item must be equipped",-1)),Wc={class:"stats-summary"},Ic={class:"text-lg my-1 pl-2"},qc={class:"stats-summary-list flex flex-column"},Ec={class:"ml-2"},Pc={class:"flex flex-column"},Tc={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},Dc={class:"flex align-items-center justify-content-center"},Mc=We(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Rc={class:"simple-tooltip"},Oc={class:"mx-2"},Fc={class:"rune-options flex flex-column mt-2"},Uc=["onDragstart","onClick"],Lc={class:"ml-2"},Nc=We(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Hc={class:"ml-3 mt-2"},jc={key:0,class:"flex flex-column px-4 py-2"},Bc={class:"mb-2"},zc={class:"ml-2"},Gc={__name:"RunesSubsTabContent",setup(_){const{t:u}=Le(),b=re("currentCharacter"),{getRuneValue:a}=Ge(),{getRunes:$,getSublimations:p}=De(),F=ce(()=>$().sort((g,i)=>g.shardsParameters.color-i.shardsParameters.color));k(p());const R=k(1),M=k(null),W=k(null),j=k(null),U=k([{label:u("constants.level"),levelSlider:!0},{label:u("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{W.value&&(b.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].color===0?b.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].color=b.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].rune.shardsParameters.color:b.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey].color=0)}},{label:u("constants.remove"),command:()=>{b.value.equipment[W.value.itemSlotKey][W.value.runeSlotKey]=null}}]),q=ce(()=>{let g={};return Object.keys(b.value.equipment).forEach(i=>{if(b.value.equipment[i]!==null){let f=b.value.equipment[i];for(let I=1;I<=4;I++){let V=f[`runeSlot${I}`];V&&(g[V.rune.id]||(g[V.rune.id]={totalValue:0,rune:V}),g[V.rune.id].totalValue+=a(V.rune,V.level,i))}}}),g}),T=(g,i)=>{g.stopPropagation(),M.value===i?M.value=null:M.value=i},L=(g,i,f)=>{g.shiftKey&&(b.value.equipment[i][f].color===0?b.value.equipment[i][f].color=b.value.equipment[i][f].rune.shardsParameters.color:b.value.equipment[i][f].color=0),g.ctrlKey&&(b.value.equipment[i][f]=null)},S=(g,i,f)=>{b.value.equipment[i][f]&&(W.value={itemSlotKey:i,runeSlotKey:f},j.value.show(g))},P=(g,i)=>{if(M.value&&b.value.equipment[M.value]!==null){let f=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let I in f)if(b.value.equipment[M.value][f[I]]===null||b.value.equipment[M.value][f[I]]===void 0){b.value.equipment[M.value][f[I]]={rune:i,color:i.shardsParameters.color,level:R.value};break}}},ee=(g,i,f)=>{g.dataTransfer.dropEffect="move",g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("rune",JSON.stringify(i)),f&&g.dataTransfer.setData("level",f)},K=(g,i,f)=>{try{let I=JSON.parse(g.dataTransfer.getData("rune")),V=g.dataTransfer.getData("level");b.value.equipment[i][f]={rune:I,color:I.shardsParameters.color,level:V||R.value}}catch{}},v=()=>{let g=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(b.value.equipment).forEach(i=>{b.value.equipment[i]&&g.forEach(f=>{b.value.equipment[i][f]=void 0})})},x=g=>{if(g)switch(g){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},N=g=>{if(g)switch(g){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},Q=g=>Object.keys(H).find(i=>H[i].rawId===g),X=ce(()=>{let g=1;return nt.some((i,f)=>i<=b.value.level?(g=f+1,!1):!0),g});return be(()=>b.value.level,()=>{R.value=X.value},{immediate:!0}),(g,i)=>{const f=E("tippy"),I=E("p-image"),V=E("p-inputNumber"),y=E("p-button"),J=E("p-slider"),Z=E("p-contextMenu"),le=ot("ripple");return c(),m("div",ac,[e("div",lc,[e("div",ic,[s(f,{placement:"left",duration:"0"},{content:d(()=>[e("div",rc,[e("div",uc,t(g.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",dc,t(g.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",pc,t(g.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",mc,t(g.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",hc,t(g.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",vc,t(g.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:d(()=>[e("div",nc,[e("div",oc,t(g.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),cc])]),_:1})]),(c(!0),m(Y,null,ae(Object.keys(l(b).equipment),w=>(c(),m(Y,{key:w},[w!=="ACCESSORY"&&w!=="PET"&&w!=="MOUNT"&&w!=="SECOND_WEAPON"?(c(),m(Y,{key:0},[w!=="undefined"&&l(b).equipment[w]?(c(),m("div",_c,[e("div",{class:te(["slot-image",{highlighted:M.value===w}]),onClick:D=>T(D,w)},[s(I,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${w}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,gc),(c(),m(Y,null,ae(4,D=>(c(),m(Y,{key:D},[l(b).equipment[w][`runeSlot${D}`]?(c(),se(f,{key:0,duration:"0"},{content:d(()=>[e("div",yc," +"+t(l(a)(l(b).equipment[w][`runeSlot${D}`].rune,l(b).equipment[w][`runeSlot${D}`].level,w))+" "+t(l(b).equipment[w][`runeSlot${D}`].rune.name),1)]),default:d(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:r=>L(r,w,`runeSlot${D}`),onDragover:i[0]||(i[0]=ge(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=ge(()=>{},["prevent"])),onDrop:r=>K(r,w,`runeSlot${D}`),onContextmenu:r=>S(r,w,`runeSlot${D}`),onDragstart:r=>ee(r,l(b).equipment[w][`runeSlot${D}`].rune,l(b).equipment[w][`runeSlot${D}`].level)},[e("div",bc,[s(I,{src:N(l(b).equipment[w][`runeSlot${D}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",$c,t(l(b).equipment[w][`runeSlot${D}`].level),1)],40,fc)]),_:2},1024)):(c(),m("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=ge(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=ge(()=>{},["prevent"])),onDrop:r=>K(r,w,`runeSlot${D}`)},[e("div",Sc,[s(I,{src:x(null),"image-style":"width: 26px"},null,8,["src"])])],40,kc))],64))),64)),Cc])):w!=="undefined"?(c(),m("div",xc,[e("div",wc,[s(I,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${w}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(c(),m(Y,null,ae(4,D=>e("div",{key:D,class:"rune-drop-zone ml-2",onDragover:i[4]||(i[4]=ge(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=ge(()=>{},["prevent"])),onDrop:r=>K(r,w,`runeSlot${D}`)},null,40,Ac)),64)),Vc])):ie("",!0)],64)):ie("",!0)],64))),128)),e("div",Wc,[e("div",Ic,t(g.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",qc,[(c(!0),m(Y,null,ae(Object.keys(q.value),w=>(c(),m("div",{key:w,class:"summary-entry px-2 py-1"},[s(I,{src:N(q.value[w].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Ec,"+"+t(q.value[w].totalValue)+" "+t(q.value[w].rune.rune.name),1)]))),128))])])]),e("div",Pc,[e("div",Tc,[e("div",Dc,[s(f,{placement:"left",duration:"0"},{content:d(()=>[e("div",Rc,t(g.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:d(()=>[Mc]),_:1}),e("span",Oc,t(g.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(V,{modelValue:R.value,"onUpdate:modelValue":i[6]||(i[6]=w=>R.value=w),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:X.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",Fc,[(c(!0),m(Y,null,ae(F.value,w=>(c(),m("div",{key:w.id,class:te(["rune-draggable mb-1 px-2",{highlighted:M.value&&w.shardsParameters.doubleBonusPosition.includes(l(H)[M.value].rawId)}]),draggable:"true",onDragstart:D=>ee(D,w),onClick:D=>P(D,w)},[s(I,{class:"rune-image",src:x(w.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Lc,"+"+t(l(a)(w,R.value))+" "+t(w.name),1),Nc,(c(!0),m(Y,null,ae(w.shardsParameters.doubleBonusPosition,D=>(c(),m("div",{key:D,class:"ml-1"},[s(I,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${Q(D)}.png`,class:te({disabled:!l(b).equipment[Q(D)]}),onClick:r=>T(r,Q(D))},null,8,["src","class","onClick"])]))),128))],42,Uc))),128))])]),e("div",Hc,[s(y,{label:g.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:v},null,8,["label"])])]),s(Z,{ref_key:"runeContextMenu",ref:j,model:U.value},{item:d(({item:w,props:D})=>[w.levelSlider?(c(),m("div",jc,[e("div",Bc,t(g.$t("constants.level"))+": "+t(l(b).equipment[W.value.itemSlotKey][W.value.runeSlotKey].level),1),s(J,{modelValue:l(b).equipment[W.value.itemSlotKey][W.value.runeSlotKey].level,"onUpdate:modelValue":i[7]||(i[7]=r=>l(b).equipment[W.value.itemSlotKey][W.value.runeSlotKey].level=r),min:1,max:11},null,8,["modelValue"])])):ct((c(),m("a",Te({key:1,class:"flex align-items-center"},D.action),[e("span",zc,t(w.label),1)],16)),[[le]])]),_:1},8,["model"])])}}},Yc=ue(Gc,[["__scopeId","data-v-61b95848"]]);const Ie=_=>(de("data-v-d8005c1c"),_=_(),pe(),_),Jc={class:"top-bar py-3 px-3"},Qc={key:0,class:"flex align-items-center"},Xc={class:"capitalize"},Zc={key:1},Kc={class:"flex align-items-center"},er={class:"capitalize"},tr={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},sr={class:"mr-2"},ar={class:"flex-grow-1"},lr=Ie(()=>e("div",{class:"flex-grow-1"},null,-1)),ir={class:"build-code flex align-items-center ml-2 mr-3"},nr=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),or={class:"simple-tooltip"},cr={class:"ml-2"},rr={class:"code-disclaimer"},ur=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),dr={class:"simple-tooltip"},pr={class:"ml-1"},mr={class:"flex flex-grow-1",style:{overflow:"auto"}},hr={class:"stats-area pt-3"},vr={class:"flex flex-column flex-grow-1"},_r=Ie(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),gr=Ie(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),fr={class:"flex align-items-center px-3 py-3"},br={class:"flex align-items-center px-3 py-3"},$r={class:"flex align-items-center px-3 py-3"},yr={class:"flex align-items-center px-3 py-3"},kr={key:1,class:"px-5 mt-5"},Sr={__name:"CharacterSheet",setup(_){var P,ee,K;const u=rt(),b=re("currentCharacter"),a=k(null),$=k(null),p=k((P=b.value)==null?void 0:P.name),F=k((ee=b.value)==null?void 0:ee.level),R=k((K=b.value)==null?void 0:K.class),M=Object.entries(ze).map(([v,x])=>({label:x,value:x})),{createBuildCode:W}=Je(),j=ce(()=>W(b.value));be(b,()=>{U()});const U=()=>{var v,x,N;p.value=(v=b.value)==null?void 0:v.name,F.value=(x=b.value)==null?void 0:x.level,R.value=(N=b.value)==null?void 0:N.class},q=(v,x)=>{x==="name"?b.value.name=v.target.value:x==="levelText"?b.value.level=v.value:x==="levelSlider"?b.value.level=v:x==="class"&&(b.value.class=v.value),U()},T=()=>{we(()=>{a.value.showList()})},L=ce(()=>{var v;return(v=$.value)==null?void 0:v.hasCharacteristicsError}),S=()=>{navigator.clipboard.writeText(j.value),u.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(v,x)=>{const N=E("p-inputText"),Q=E("p-dropdown"),X=E("p-inputNumber"),g=E("p-slider"),i=E("tippy"),f=E("p-button"),I=E("p-tabPanel"),V=E("p-tabView");return l(b)?(c(),m("div",{key:l(b).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Jc,[s(N,{modelValue:p.value,"onUpdate:modelValue":x[0]||(x[0]=y=>p.value=y),class:"mr-2",onInput:x[1]||(x[1]=y=>q(y,"name"))},null,8,["modelValue"]),s(Q,{modelValue:R.value,"onUpdate:modelValue":x[2]||(x[2]=y=>R.value=y),options:l(M),placeholder:v.$t("characterSheet.selectAClass"),"option-value":"value","option-label":"label",class:"mr-2",onChange:x[3]||(x[3]=y=>q(y,"class"))},{value:d(y=>[y.value?(c(),m("div",Qc,[e("div",Xc,t(y.value),1)])):(c(),m("span",Zc,t(y.placeholder),1))]),option:d(y=>[e("div",Kc,[e("div",er,t(y.option.label),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",tr,[e("span",sr,t(v.$t("characterSheet.level")),1),s(X,{modelValue:F.value,"onUpdate:modelValue":x[4]||(x[4]=y=>F.value=y),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:x[5]||(x[5]=y=>q(y,"levelText"))},null,8,["modelValue"]),e("div",ar,[s(g,{modelValue:F.value,"onUpdate:modelValue":x[6]||(x[6]=y=>F.value=y),min:1,max:230,onChange:x[7]||(x[7]=y=>q(y,"levelSlider"))},null,8,["modelValue"])])]),lr,e("div",ir,[s(i,{placement:"left",duration:"0"},{content:d(()=>[e("div",or,t(v.$t("characterSheet.buildCopyPaste")),1)]),default:d(()=>[nr]),_:1}),e("div",cr,t(v.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:S},[e("span",null,t(j.value),1)]),s(f,{class:"py-1 ml-2 px-2",label:v.$t("characterSheet.copy"),onClick:S},null,8,["label"]),e("div",rr,[s(i,{placement:"bottom",duration:"0"},{content:d(()=>[e("div",dr,t(v.$t("characterSheet.codeInfo")),1)]),default:d(()=>[ur]),_:1}),e("div",pr,t(v.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",mr,[e("div",hr,[s(La)]),e("div",vr,[s(V,{class:"main-tab-view",onTabChange:T},{default:d(()=>[s(I,null,{header:d(()=>[e("div",{class:te(["characteristics-tab-header px-3 h-full",{error:L.value,"points-to-spend":!1}])},[e("span",null,t(v.$t("characterSheet.characteristics")),1),_r,gr],2)]),default:d(()=>[s(ml,{ref_key:"characteristicsTabContent",ref:$},null,512)]),_:1}),s(I,null,{header:d(()=>[e("div",fr,[e("span",null,t(v.$t("characterSheet.equipment")),1)])]),default:d(()=>[s(Ei,{ref_key:"equipmentTabContent",ref:a},null,512)]),_:1}),s(I,null,{header:d(()=>[e("div",br,[e("span",null,t(v.$t("characterSheet.autoItemSolver")),1)])]),default:d(()=>[s(sc)]),_:1}),s(I,null,{header:d(()=>[e("div",$r,[e("span",null,t(v.$t("characterSheet.runesAndSubs")),1)])]),default:d(()=>[s(Yc)]),_:1}),s(I,null,{header:d(()=>[e("div",yr,[e("span",null,t(v.$t("characterSheet.spellsAndPassives")),1)])]),default:d(()=>[s(_n)]),_:1})]),_:1})])])])):(c(),m("div",kr," No Character data found for the given ID. "))}}},Ar=ue(Sr,[["__scopeId","data-v-d8005c1c"]]);export{Ar as default};
